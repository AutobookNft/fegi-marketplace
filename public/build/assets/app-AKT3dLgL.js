function nf(n,e){return function(){return n.apply(e,arguments)}}const{toString:gg}=Object.prototype,{getPrototypeOf:hu}=Object,{iterator:Ya,toStringTag:rf}=Symbol,Xa=(n=>e=>{const t=gg.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),qn=n=>(n=n.toLowerCase(),e=>Xa(e)===n),Za=n=>e=>typeof e===n,{isArray:rs}=Array,As=Za("undefined");function pg(n){return n!==null&&!As(n)&&n.constructor!==null&&!As(n.constructor)&&Mn(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const of=qn("ArrayBuffer");function mg(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&of(n.buffer),e}const yg=Za("string"),Mn=Za("function"),sf=Za("number"),Qa=n=>n!==null&&typeof n=="object",wg=n=>n===!0||n===!1,Ma=n=>{if(Xa(n)!=="object")return!1;const e=hu(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(rf in n)&&!(Ya in n)},vg=qn("Date"),Sg=qn("File"),Eg=qn("Blob"),bg=qn("FileList"),xg=n=>Qa(n)&&Mn(n.pipe),kg=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Mn(n.append)&&((e=Xa(n))==="formdata"||e==="object"&&Mn(n.toString)&&n.toString()==="[object FormData]"))},Ag=qn("URLSearchParams"),[Mg,Dg,Tg,Ig]=["ReadableStream","Request","Response","Headers"].map(qn),Rg=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ga(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),rs(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{const o=t?Object.getOwnPropertyNames(n):Object.keys(n),s=o.length;let h;for(r=0;r<s;r++)h=o[r],e.call(null,n[h],h,n)}}function af(n,e){e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const Gr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:globalThis,cf=n=>!As(n)&&n!==Gr;function rh(){const{caseless:n}=cf(this)&&this||{},e={},t=(r,i)=>{const o=n&&af(e,i)||i;Ma(e[o])&&Ma(r)?e[o]=rh(e[o],r):Ma(r)?e[o]=rh({},r):rs(r)?e[o]=r.slice():e[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&ga(arguments[r],t);return e}const _g=(n,e,t,{allOwnKeys:r}={})=>(ga(e,(i,o)=>{t&&Mn(i)?n[o]=nf(i,t):n[o]=i},{allOwnKeys:r}),n),Pg=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),Og=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),n.prototype.constructor=n,Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},Bg=(n,e,t,r)=>{let i,o,s;const h={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),o=i.length;o-- >0;)s=i[o],(!r||r(s,n,e))&&!h[s]&&(e[s]=n[s],h[s]=!0);n=t!==!1&&hu(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},Cg=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},Ng=n=>{if(!n)return null;if(rs(n))return n;let e=n.length;if(!sf(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},Vg=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&hu(Uint8Array)),Ug=(n,e)=>{const r=(n&&n[Ya]).call(n);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(n,o[0],o[1])}},Lg=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},$g=qn("HTMLFormElement"),Fg=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),$u=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),qg=qn("RegExp"),hf=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};ga(t,(i,o)=>{let s;(s=e(i,o,n))!==!1&&(r[o]=s||i)}),Object.defineProperties(n,r)},zg=n=>{hf(n,(e,t)=>{if(Mn(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(Mn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},Hg=(n,e)=>{const t={},r=i=>{i.forEach(o=>{t[o]=!0})};return rs(n)?r(n):r(String(n).split(e)),t},Wg=()=>{},jg=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function Gg(n){return!!(n&&Mn(n.append)&&n[rf]==="FormData"&&n[Ya])}const Kg=n=>{const e=new Array(10),t=(r,i)=>{if(Qa(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const o=rs(r)?[]:{};return ga(r,(s,h)=>{const m=t(s,i+1);!As(m)&&(o[h]=m)}),e[i]=void 0,o}}return r};return t(n,0)},Jg=qn("AsyncFunction"),Yg=n=>n&&(Qa(n)||Mn(n))&&Mn(n.then)&&Mn(n.catch),uf=((n,e)=>n?setImmediate:e?((t,r)=>(Gr.addEventListener("message",({source:i,data:o})=>{i===Gr&&o===t&&r.length&&r.shift()()},!1),i=>{r.push(i),Gr.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Mn(Gr.postMessage)),Xg=typeof queueMicrotask<"u"?queueMicrotask.bind(Gr):typeof process<"u"&&process.nextTick||uf,Zg=n=>n!=null&&Mn(n[Ya]),pe={isArray:rs,isArrayBuffer:of,isBuffer:pg,isFormData:kg,isArrayBufferView:mg,isString:yg,isNumber:sf,isBoolean:wg,isObject:Qa,isPlainObject:Ma,isReadableStream:Mg,isRequest:Dg,isResponse:Tg,isHeaders:Ig,isUndefined:As,isDate:vg,isFile:Sg,isBlob:Eg,isRegExp:qg,isFunction:Mn,isStream:xg,isURLSearchParams:Ag,isTypedArray:Vg,isFileList:bg,forEach:ga,merge:rh,extend:_g,trim:Rg,stripBOM:Pg,inherits:Og,toFlatObject:Bg,kindOf:Xa,kindOfTest:qn,endsWith:Cg,toArray:Ng,forEachEntry:Ug,matchAll:Lg,isHTMLForm:$g,hasOwnProperty:$u,hasOwnProp:$u,reduceDescriptors:hf,freezeMethods:zg,toObjectSet:Hg,toCamelCase:Fg,noop:Wg,toFiniteNumber:jg,findKey:af,global:Gr,isContextDefined:cf,isSpecCompliantForm:Gg,toJSONObject:Kg,isAsyncFn:Jg,isThenable:Yg,setImmediate:uf,asap:Xg,isIterable:Zg};function Et(n,e,t,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=n,this.name="AxiosError",e&&(this.code=e),t&&(this.config=t),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}pe.inherits(Et,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:pe.toJSONObject(this.config),code:this.code,status:this.status}}});const lf=Et.prototype,ff={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(n=>{ff[n]={value:n}});Object.defineProperties(Et,ff);Object.defineProperty(lf,"isAxiosError",{value:!0});Et.from=(n,e,t,r,i,o)=>{const s=Object.create(lf);return pe.toFlatObject(n,s,function(m){return m!==Error.prototype},h=>h!=="isAxiosError"),Et.call(s,n.message,e,t,r,i),s.cause=n,s.name=n.name,o&&Object.assign(s,o),s};const Qg=null;function ih(n){return pe.isPlainObject(n)||pe.isArray(n)}function df(n){return pe.endsWith(n,"[]")?n.slice(0,-2):n}function Fu(n,e,t){return n?n.concat(e).map(function(i,o){return i=df(i),!t&&o?"["+i+"]":i}).join(t?".":""):e}function ep(n){return pe.isArray(n)&&!n.some(ih)}const tp=pe.toFlatObject(pe,{},null,function(e){return/^is[A-Z]/.test(e)});function ec(n,e,t){if(!pe.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=pe.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(ne,E){return!pe.isUndefined(E[ne])});const r=t.metaTokens,i=t.visitor||v,o=t.dots,s=t.indexes,m=(t.Blob||typeof Blob<"u"&&Blob)&&pe.isSpecCompliantForm(e);if(!pe.isFunction(i))throw new TypeError("visitor must be a function");function u(U){if(U===null)return"";if(pe.isDate(U))return U.toISOString();if(pe.isBoolean(U))return U.toString();if(!m&&pe.isBlob(U))throw new Et("Blob is not supported. Use a Buffer instead.");return pe.isArrayBuffer(U)||pe.isTypedArray(U)?m&&typeof Blob=="function"?new Blob([U]):Buffer.from(U):U}function v(U,ne,E){let C=U;if(U&&!E&&typeof U=="object"){if(pe.endsWith(ne,"{}"))ne=r?ne:ne.slice(0,-2),U=JSON.stringify(U);else if(pe.isArray(U)&&ep(U)||(pe.isFileList(U)||pe.endsWith(ne,"[]"))&&(C=pe.toArray(U)))return ne=df(ne),C.forEach(function($,re){!(pe.isUndefined($)||$===null)&&e.append(s===!0?Fu([ne],re,o):s===null?ne:ne+"[]",u($))}),!1}return ih(U)?!0:(e.append(Fu(E,ne,o),u(U)),!1)}const T=[],B=Object.assign(tp,{defaultVisitor:v,convertValue:u,isVisitable:ih});function W(U,ne){if(!pe.isUndefined(U)){if(T.indexOf(U)!==-1)throw Error("Circular reference detected in "+ne.join("."));T.push(U),pe.forEach(U,function(C,N){(!(pe.isUndefined(C)||C===null)&&i.call(e,C,pe.isString(N)?N.trim():N,ne,B))===!0&&W(C,ne?ne.concat(N):[N])}),T.pop()}}if(!pe.isObject(n))throw new TypeError("data must be an object");return W(n),e}function qu(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function uu(n,e){this._pairs=[],n&&ec(n,this,e)}const gf=uu.prototype;gf.append=function(e,t){this._pairs.push([e,t])};gf.toString=function(e){const t=e?function(r){return e.call(this,r,qu)}:qu;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function np(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function pf(n,e,t){if(!e)return n;const r=t&&t.encode||np;pe.isFunction(t)&&(t={serialize:t});const i=t&&t.serialize;let o;if(i?o=i(e,t):o=pe.isURLSearchParams(e)?e.toString():new uu(e,t).toString(r),o){const s=n.indexOf("#");s!==-1&&(n=n.slice(0,s)),n+=(n.indexOf("?")===-1?"?":"&")+o}return n}class zu{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){pe.forEach(this.handlers,function(r){r!==null&&e(r)})}}const mf={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},rp=typeof URLSearchParams<"u"?URLSearchParams:uu,ip=typeof FormData<"u"?FormData:null,op=typeof Blob<"u"?Blob:null,sp={isBrowser:!0,classes:{URLSearchParams:rp,FormData:ip,Blob:op},protocols:["http","https","file","blob","url","data"]},lu=typeof window<"u"&&typeof document<"u",oh=typeof navigator=="object"&&navigator||void 0,ap=lu&&(!oh||["ReactNative","NativeScript","NS"].indexOf(oh.product)<0),cp=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",hp=lu&&window.location.href||"http://localhost",up=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:lu,hasStandardBrowserEnv:ap,hasStandardBrowserWebWorkerEnv:cp,navigator:oh,origin:hp},Symbol.toStringTag,{value:"Module"})),yn={...up,...sp};function lp(n,e){return ec(n,new yn.classes.URLSearchParams,Object.assign({visitor:function(t,r,i,o){return yn.isNode&&pe.isBuffer(t)?(this.append(r,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},e))}function fp(n){return pe.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function dp(n){const e={},t=Object.keys(n);let r;const i=t.length;let o;for(r=0;r<i;r++)o=t[r],e[o]=n[o];return e}function yf(n){function e(t,r,i,o){let s=t[o++];if(s==="__proto__")return!0;const h=Number.isFinite(+s),m=o>=t.length;return s=!s&&pe.isArray(i)?i.length:s,m?(pe.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!h):((!i[s]||!pe.isObject(i[s]))&&(i[s]=[]),e(t,r,i[s],o)&&pe.isArray(i[s])&&(i[s]=dp(i[s])),!h)}if(pe.isFormData(n)&&pe.isFunction(n.entries)){const t={};return pe.forEachEntry(n,(r,i)=>{e(fp(r),i,t,0)}),t}return null}function gp(n,e,t){if(pe.isString(n))try{return(e||JSON.parse)(n),pe.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const pa={transitional:mf,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,o=pe.isObject(e);if(o&&pe.isHTMLForm(e)&&(e=new FormData(e)),pe.isFormData(e))return i?JSON.stringify(yf(e)):e;if(pe.isArrayBuffer(e)||pe.isBuffer(e)||pe.isStream(e)||pe.isFile(e)||pe.isBlob(e)||pe.isReadableStream(e))return e;if(pe.isArrayBufferView(e))return e.buffer;if(pe.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return lp(e,this.formSerializer).toString();if((h=pe.isFileList(e))||r.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return ec(h?{"files[]":e}:e,m&&new m,this.formSerializer)}}return o||i?(t.setContentType("application/json",!1),gp(e)):e}],transformResponse:[function(e){const t=this.transitional||pa.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(pe.isResponse(e)||pe.isReadableStream(e))return e;if(e&&pe.isString(e)&&(r&&!this.responseType||i)){const s=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(h){if(s)throw h.name==="SyntaxError"?Et.from(h,Et.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:yn.classes.FormData,Blob:yn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};pe.forEach(["delete","get","head","post","put","patch"],n=>{pa.headers[n]={}});const pp=pe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),mp=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(s){i=s.indexOf(":"),t=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!t||e[t]&&pp[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},Hu=Symbol("internals");function ls(n){return n&&String(n).trim().toLowerCase()}function Da(n){return n===!1||n==null?n:pe.isArray(n)?n.map(Da):String(n)}function yp(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const wp=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Dc(n,e,t,r,i){if(pe.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!pe.isString(e)){if(pe.isString(r))return e.indexOf(r)!==-1;if(pe.isRegExp(r))return r.test(e)}}function vp(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function Sp(n,e){const t=pe.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,o,s){return this[r].call(this,e,i,o,s)},configurable:!0})})}let Dn=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function o(h,m,u){const v=ls(m);if(!v)throw new Error("header name must be a non-empty string");const T=pe.findKey(i,v);(!T||i[T]===void 0||u===!0||u===void 0&&i[T]!==!1)&&(i[T||m]=Da(h))}const s=(h,m)=>pe.forEach(h,(u,v)=>o(u,v,m));if(pe.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(pe.isString(e)&&(e=e.trim())&&!wp(e))s(mp(e),t);else if(pe.isObject(e)&&pe.isIterable(e)){let h={},m,u;for(const v of e){if(!pe.isArray(v))throw TypeError("Object iterator must return a key-value pair");h[u=v[0]]=(m=h[u])?pe.isArray(m)?[...m,v[1]]:[m,v[1]]:v[1]}s(h,t)}else e!=null&&o(t,e,r);return this}get(e,t){if(e=ls(e),e){const r=pe.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return yp(i);if(pe.isFunction(t))return t.call(this,i,r);if(pe.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=ls(e),e){const r=pe.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||Dc(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function o(s){if(s=ls(s),s){const h=pe.findKey(r,s);h&&(!t||Dc(r,r[h],h,t))&&(delete r[h],i=!0)}}return pe.isArray(e)?e.forEach(o):o(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const o=t[r];(!e||Dc(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const t=this,r={};return pe.forEach(this,(i,o)=>{const s=pe.findKey(r,o);if(s){t[s]=Da(i),delete t[o];return}const h=e?vp(o):String(o).trim();h!==o&&delete t[o],t[h]=Da(i),r[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return pe.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&pe.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[Hu]=this[Hu]={accessors:{}}).accessors,i=this.prototype;function o(s){const h=ls(s);r[h]||(Sp(i,s),r[h]=!0)}return pe.isArray(e)?e.forEach(o):o(e),this}};Dn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);pe.reduceDescriptors(Dn.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});pe.freezeMethods(Dn);function Tc(n,e){const t=this||pa,r=e||t,i=Dn.from(r.headers);let o=r.data;return pe.forEach(n,function(h){o=h.call(t,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function wf(n){return!!(n&&n.__CANCEL__)}function is(n,e,t){Et.call(this,n??"canceled",Et.ERR_CANCELED,e,t),this.name="CanceledError"}pe.inherits(is,Et,{__CANCEL__:!0});function vf(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new Et("Request failed with status code "+t.status,[Et.ERR_BAD_REQUEST,Et.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function Ep(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function bp(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,o=0,s;return e=e!==void 0?e:1e3,function(m){const u=Date.now(),v=r[o];s||(s=u),t[i]=m,r[i]=u;let T=o,B=0;for(;T!==i;)B+=t[T++],T=T%n;if(i=(i+1)%n,i===o&&(o=(o+1)%n),u-s<e)return;const W=v&&u-v;return W?Math.round(B*1e3/W):void 0}}function xp(n,e){let t=0,r=1e3/e,i,o;const s=(u,v=Date.now())=>{t=v,i=null,o&&(clearTimeout(o),o=null),n.apply(null,u)};return[(...u)=>{const v=Date.now(),T=v-t;T>=r?s(u,v):(i=u,o||(o=setTimeout(()=>{o=null,s(i)},r-T)))},()=>i&&s(i)]}const Ba=(n,e,t=3)=>{let r=0;const i=bp(50,250);return xp(o=>{const s=o.loaded,h=o.lengthComputable?o.total:void 0,m=s-r,u=i(m),v=s<=h;r=s;const T={loaded:s,total:h,progress:h?s/h:void 0,bytes:m,rate:u||void 0,estimated:u&&h&&v?(h-s)/u:void 0,event:o,lengthComputable:h!=null,[e?"download":"upload"]:!0};n(T)},t)},Wu=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},ju=n=>(...e)=>pe.asap(()=>n(...e)),kp=yn.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,yn.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(yn.origin),yn.navigator&&/(msie|trident)/i.test(yn.navigator.userAgent)):()=>!0,Ap=yn.hasStandardBrowserEnv?{write(n,e,t,r,i,o){const s=[n+"="+encodeURIComponent(e)];pe.isNumber(t)&&s.push("expires="+new Date(t).toGMTString()),pe.isString(r)&&s.push("path="+r),pe.isString(i)&&s.push("domain="+i),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(n){const e=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(n){this.write(n,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Mp(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function Dp(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function Sf(n,e,t){let r=!Mp(e);return n&&(r||t==!1)?Dp(n,e):e}const Gu=n=>n instanceof Dn?{...n}:n;function ti(n,e){e=e||{};const t={};function r(u,v,T,B){return pe.isPlainObject(u)&&pe.isPlainObject(v)?pe.merge.call({caseless:B},u,v):pe.isPlainObject(v)?pe.merge({},v):pe.isArray(v)?v.slice():v}function i(u,v,T,B){if(pe.isUndefined(v)){if(!pe.isUndefined(u))return r(void 0,u,T,B)}else return r(u,v,T,B)}function o(u,v){if(!pe.isUndefined(v))return r(void 0,v)}function s(u,v){if(pe.isUndefined(v)){if(!pe.isUndefined(u))return r(void 0,u)}else return r(void 0,v)}function h(u,v,T){if(T in e)return r(u,v);if(T in n)return r(void 0,u)}const m={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:h,headers:(u,v,T)=>i(Gu(u),Gu(v),T,!0)};return pe.forEach(Object.keys(Object.assign({},n,e)),function(v){const T=m[v]||i,B=T(n[v],e[v],v);pe.isUndefined(B)&&T!==h||(t[v]=B)}),t}const Ef=n=>{const e=ti({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:h}=e;e.headers=s=Dn.from(s),e.url=pf(Sf(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),h&&s.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):"")));let m;if(pe.isFormData(t)){if(yn.hasStandardBrowserEnv||yn.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((m=s.getContentType())!==!1){const[u,...v]=m?m.split(";").map(T=>T.trim()).filter(Boolean):[];s.setContentType([u||"multipart/form-data",...v].join("; "))}}if(yn.hasStandardBrowserEnv&&(r&&pe.isFunction(r)&&(r=r(e)),r||r!==!1&&kp(e.url))){const u=i&&o&&Ap.read(o);u&&s.set(i,u)}return e},Tp=typeof XMLHttpRequest<"u",Ip=Tp&&function(n){return new Promise(function(t,r){const i=Ef(n);let o=i.data;const s=Dn.from(i.headers).normalize();let{responseType:h,onUploadProgress:m,onDownloadProgress:u}=i,v,T,B,W,U;function ne(){W&&W(),U&&U(),i.cancelToken&&i.cancelToken.unsubscribe(v),i.signal&&i.signal.removeEventListener("abort",v)}let E=new XMLHttpRequest;E.open(i.method.toUpperCase(),i.url,!0),E.timeout=i.timeout;function C(){if(!E)return;const $=Dn.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),ue={data:!h||h==="text"||h==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:$,config:n,request:E};vf(function(Y){t(Y),ne()},function(Y){r(Y),ne()},ue),E=null}"onloadend"in E?E.onloadend=C:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(C)},E.onabort=function(){E&&(r(new Et("Request aborted",Et.ECONNABORTED,n,E)),E=null)},E.onerror=function(){r(new Et("Network Error",Et.ERR_NETWORK,n,E)),E=null},E.ontimeout=function(){let re=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const ue=i.transitional||mf;i.timeoutErrorMessage&&(re=i.timeoutErrorMessage),r(new Et(re,ue.clarifyTimeoutError?Et.ETIMEDOUT:Et.ECONNABORTED,n,E)),E=null},o===void 0&&s.setContentType(null),"setRequestHeader"in E&&pe.forEach(s.toJSON(),function(re,ue){E.setRequestHeader(ue,re)}),pe.isUndefined(i.withCredentials)||(E.withCredentials=!!i.withCredentials),h&&h!=="json"&&(E.responseType=i.responseType),u&&([B,U]=Ba(u,!0),E.addEventListener("progress",B)),m&&E.upload&&([T,W]=Ba(m),E.upload.addEventListener("progress",T),E.upload.addEventListener("loadend",W)),(i.cancelToken||i.signal)&&(v=$=>{E&&(r(!$||$.type?new is(null,n,E):$),E.abort(),E=null)},i.cancelToken&&i.cancelToken.subscribe(v),i.signal&&(i.signal.aborted?v():i.signal.addEventListener("abort",v)));const N=Ep(i.url);if(N&&yn.protocols.indexOf(N)===-1){r(new Et("Unsupported protocol "+N+":",Et.ERR_BAD_REQUEST,n));return}E.send(o||null)})},Rp=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const o=function(u){if(!i){i=!0,h();const v=u instanceof Error?u:this.reason;r.abort(v instanceof Et?v:new is(v instanceof Error?v.message:v))}};let s=e&&setTimeout(()=>{s=null,o(new Et(`timeout ${e} of ms exceeded`,Et.ETIMEDOUT))},e);const h=()=>{n&&(s&&clearTimeout(s),s=null,n.forEach(u=>{u.unsubscribe?u.unsubscribe(o):u.removeEventListener("abort",o)}),n=null)};n.forEach(u=>u.addEventListener("abort",o));const{signal:m}=r;return m.unsubscribe=()=>pe.asap(h),m}},_p=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},Pp=async function*(n,e){for await(const t of Op(n))yield*_p(t,e)},Op=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},Ku=(n,e,t,r)=>{const i=Pp(n,e);let o=0,s,h=m=>{s||(s=!0,r&&r(m))};return new ReadableStream({async pull(m){try{const{done:u,value:v}=await i.next();if(u){h(),m.close();return}let T=v.byteLength;if(t){let B=o+=T;t(B)}m.enqueue(new Uint8Array(v))}catch(u){throw h(u),u}},cancel(m){return h(m),i.return()}},{highWaterMark:2})},tc=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",bf=tc&&typeof ReadableStream=="function",Bp=tc&&(typeof TextEncoder=="function"?(n=>e=>n.encode(e))(new TextEncoder):async n=>new Uint8Array(await new Response(n).arrayBuffer())),xf=(n,...e)=>{try{return!!n(...e)}catch{return!1}},Cp=bf&&xf(()=>{let n=!1;const e=new Request(yn.origin,{body:new ReadableStream,method:"POST",get duplex(){return n=!0,"half"}}).headers.has("Content-Type");return n&&!e}),Ju=64*1024,sh=bf&&xf(()=>pe.isReadableStream(new Response("").body)),Ca={stream:sh&&(n=>n.body)};tc&&(n=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Ca[e]&&(Ca[e]=pe.isFunction(n[e])?t=>t[e]():(t,r)=>{throw new Et(`Response type '${e}' is not supported`,Et.ERR_NOT_SUPPORT,r)})})})(new Response);const Np=async n=>{if(n==null)return 0;if(pe.isBlob(n))return n.size;if(pe.isSpecCompliantForm(n))return(await new Request(yn.origin,{method:"POST",body:n}).arrayBuffer()).byteLength;if(pe.isArrayBufferView(n)||pe.isArrayBuffer(n))return n.byteLength;if(pe.isURLSearchParams(n)&&(n=n+""),pe.isString(n))return(await Bp(n)).byteLength},Vp=async(n,e)=>{const t=pe.toFiniteNumber(n.getContentLength());return t??Np(e)},Up=tc&&(async n=>{let{url:e,method:t,data:r,signal:i,cancelToken:o,timeout:s,onDownloadProgress:h,onUploadProgress:m,responseType:u,headers:v,withCredentials:T="same-origin",fetchOptions:B}=Ef(n);u=u?(u+"").toLowerCase():"text";let W=Rp([i,o&&o.toAbortSignal()],s),U;const ne=W&&W.unsubscribe&&(()=>{W.unsubscribe()});let E;try{if(m&&Cp&&t!=="get"&&t!=="head"&&(E=await Vp(v,r))!==0){let ue=new Request(e,{method:"POST",body:r,duplex:"half"}),I;if(pe.isFormData(r)&&(I=ue.headers.get("content-type"))&&v.setContentType(I),ue.body){const[Y,Z]=Wu(E,Ba(ju(m)));r=Ku(ue.body,Ju,Y,Z)}}pe.isString(T)||(T=T?"include":"omit");const C="credentials"in Request.prototype;U=new Request(e,{...B,signal:W,method:t.toUpperCase(),headers:v.normalize().toJSON(),body:r,duplex:"half",credentials:C?T:void 0});let N=await fetch(U,B);const $=sh&&(u==="stream"||u==="response");if(sh&&(h||$&&ne)){const ue={};["status","statusText","headers"].forEach(ge=>{ue[ge]=N[ge]});const I=pe.toFiniteNumber(N.headers.get("content-length")),[Y,Z]=h&&Wu(I,Ba(ju(h),!0))||[];N=new Response(Ku(N.body,Ju,Y,()=>{Z&&Z(),ne&&ne()}),ue)}u=u||"text";let re=await Ca[pe.findKey(Ca,u)||"text"](N,n);return!$&&ne&&ne(),await new Promise((ue,I)=>{vf(ue,I,{data:re,headers:Dn.from(N.headers),status:N.status,statusText:N.statusText,config:n,request:U})})}catch(C){throw ne&&ne(),C&&C.name==="TypeError"&&/Load failed|fetch/i.test(C.message)?Object.assign(new Et("Network Error",Et.ERR_NETWORK,n,U),{cause:C.cause||C}):Et.from(C,C&&C.code,n,U)}}),ah={http:Qg,xhr:Ip,fetch:Up};pe.forEach(ah,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const Yu=n=>`- ${n}`,Lp=n=>pe.isFunction(n)||n===null||n===!1,kf={getAdapter:n=>{n=pe.isArray(n)?n:[n];const{length:e}=n;let t,r;const i={};for(let o=0;o<e;o++){t=n[o];let s;if(r=t,!Lp(t)&&(r=ah[(s=String(t)).toLowerCase()],r===void 0))throw new Et(`Unknown adapter '${s}'`);if(r)break;i[s||"#"+o]=r}if(!r){const o=Object.entries(i).map(([h,m])=>`adapter ${h} `+(m===!1?"is not supported by the environment":"is not available in the build"));let s=e?o.length>1?`since :
`+o.map(Yu).join(`
`):" "+Yu(o[0]):"as no adapter specified";throw new Et("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:ah};function Ic(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new is(null,n)}function Xu(n){return Ic(n),n.headers=Dn.from(n.headers),n.data=Tc.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),kf.getAdapter(n.adapter||pa.adapter)(n).then(function(r){return Ic(n),r.data=Tc.call(n,n.transformResponse,r),r.headers=Dn.from(r.headers),r},function(r){return wf(r)||(Ic(n),r&&r.response&&(r.response.data=Tc.call(n,n.transformResponse,r.response),r.response.headers=Dn.from(r.response.headers))),Promise.reject(r)})}const Af="1.10.0",nc={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{nc[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const Zu={};nc.transitional=function(e,t,r){function i(o,s){return"[Axios v"+Af+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,h)=>{if(e===!1)throw new Et(i(s," has been removed"+(t?" in "+t:"")),Et.ERR_DEPRECATED);return t&&!Zu[s]&&(Zu[s]=!0,console.warn(i(s," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,s,h):!0}};nc.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function $p(n,e,t){if(typeof n!="object")throw new Et("options must be an object",Et.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const o=r[i],s=e[o];if(s){const h=n[o],m=h===void 0||s(h,o,n);if(m!==!0)throw new Et("option "+o+" must be "+m,Et.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new Et("Unknown option "+o,Et.ERR_BAD_OPTION)}}const Ta={assertOptions:$p,validators:nc},Wn=Ta.validators;let Jr=class{constructor(e){this.defaults=e||{},this.interceptors={request:new zu,response:new zu}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=ti(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:o}=t;r!==void 0&&Ta.assertOptions(r,{silentJSONParsing:Wn.transitional(Wn.boolean),forcedJSONParsing:Wn.transitional(Wn.boolean),clarifyTimeoutError:Wn.transitional(Wn.boolean)},!1),i!=null&&(pe.isFunction(i)?t.paramsSerializer={serialize:i}:Ta.assertOptions(i,{encode:Wn.function,serialize:Wn.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Ta.assertOptions(t,{baseUrl:Wn.spelling("baseURL"),withXsrfToken:Wn.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=o&&pe.merge(o.common,o[t.method]);o&&pe.forEach(["delete","get","head","post","put","patch","common"],U=>{delete o[U]}),t.headers=Dn.concat(s,o);const h=[];let m=!0;this.interceptors.request.forEach(function(ne){typeof ne.runWhen=="function"&&ne.runWhen(t)===!1||(m=m&&ne.synchronous,h.unshift(ne.fulfilled,ne.rejected))});const u=[];this.interceptors.response.forEach(function(ne){u.push(ne.fulfilled,ne.rejected)});let v,T=0,B;if(!m){const U=[Xu.bind(this),void 0];for(U.unshift.apply(U,h),U.push.apply(U,u),B=U.length,v=Promise.resolve(t);T<B;)v=v.then(U[T++],U[T++]);return v}B=h.length;let W=t;for(T=0;T<B;){const U=h[T++],ne=h[T++];try{W=U(W)}catch(E){ne.call(this,E);break}}try{v=Xu.call(this,W)}catch(U){return Promise.reject(U)}for(T=0,B=u.length;T<B;)v=v.then(u[T++],u[T++]);return v}getUri(e){e=ti(this.defaults,e);const t=Sf(e.baseURL,e.url,e.allowAbsoluteUrls);return pf(t,e.params,e.paramsSerializer)}};pe.forEach(["delete","get","head","options"],function(e){Jr.prototype[e]=function(t,r){return this.request(ti(r||{},{method:e,url:t,data:(r||{}).data}))}});pe.forEach(["post","put","patch"],function(e){function t(r){return function(o,s,h){return this.request(ti(h||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}Jr.prototype[e]=t(),Jr.prototype[e+"Form"]=t(!0)});let Fp=class Mf{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(h=>{r.subscribe(h),o=h}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},e(function(o,s,h){r.reason||(r.reason=new is(o,s,h),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Mf(function(i){e=i}),cancel:e}}};function qp(n){return function(t){return n.apply(null,t)}}function zp(n){return pe.isObject(n)&&n.isAxiosError===!0}const ch={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(ch).forEach(([n,e])=>{ch[e]=n});function Df(n){const e=new Jr(n),t=nf(Jr.prototype.request,e);return pe.extend(t,Jr.prototype,e,{allOwnKeys:!0}),pe.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return Df(ti(n,i))},t}const tn=Df(pa);tn.Axios=Jr;tn.CanceledError=is;tn.CancelToken=Fp;tn.isCancel=wf;tn.VERSION=Af;tn.toFormData=ec;tn.AxiosError=Et;tn.Cancel=tn.CanceledError;tn.all=function(e){return Promise.all(e)};tn.spread=qp;tn.isAxiosError=zp;tn.mergeConfig=ti;tn.AxiosHeaders=Dn;tn.formToJSON=n=>yf(pe.isHTMLForm(n)?new FormData(n):n);tn.getAdapter=kf.getAdapter;tn.HttpStatusCode=ch;tn.default=tn;const{Axios:xE,AxiosError:kE,CanceledError:AE,isCancel:ME,CancelToken:DE,VERSION:TE,all:IE,Cancel:RE,isAxiosError:_E,spread:PE,toFormData:OE,AxiosHeaders:BE,HttpStatusCode:CE,formToJSON:NE,getAdapter:VE,mergeConfig:UE}=tn;window.axios=tn;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";const Hp="modulepreload",Wp=function(n){return"/build/"+n},Qu={},jp=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let s=function(u){return Promise.all(u.map(v=>Promise.resolve(v).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),m=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));i=s(t.map(u=>{if(u=Wp(u),u in Qu)return;Qu[u]=!0;const v=u.endsWith(".css"),T=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${T}`))return;const B=document.createElement("link");if(B.rel=v?"stylesheet":Hp,v||(B.as="script"),B.crossOrigin="",B.href=u,m&&B.setAttribute("nonce",m),document.head.appendChild(B),v)return new Promise((W,U)=>{B.addEventListener("load",W),B.addEventListener("error",()=>U(new Error(`Unable to preload CSS for ${u}`)))})}))}function o(s){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=s,window.dispatchEvent(h),!h.defaultPrevented)throw s}return i.then(s=>{for(const h of s||[])h.status==="rejected"&&o(h.reason);return e().catch(o)})};function os(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Tf(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var fs={},Ht={},el;function If(){if(el)return Ht;el=1,Object.defineProperty(Ht,"__esModule",{value:!0}),Ht.getLocalStorage=Ht.getLocalStorageOrThrow=Ht.getCrypto=Ht.getCryptoOrThrow=Ht.getLocation=Ht.getLocationOrThrow=Ht.getNavigator=Ht.getNavigatorOrThrow=Ht.getDocument=Ht.getDocumentOrThrow=Ht.getFromWindowOrThrow=Ht.getFromWindow=void 0;function n(B){let W;return typeof window<"u"&&typeof window[B]<"u"&&(W=window[B]),W}Ht.getFromWindow=n;function e(B){const W=n(B);if(!W)throw new Error(`${B} is not defined in Window`);return W}Ht.getFromWindowOrThrow=e;function t(){return e("document")}Ht.getDocumentOrThrow=t;function r(){return n("document")}Ht.getDocument=r;function i(){return e("navigator")}Ht.getNavigatorOrThrow=i;function o(){return n("navigator")}Ht.getNavigator=o;function s(){return e("location")}Ht.getLocationOrThrow=s;function h(){return n("location")}Ht.getLocation=h;function m(){return e("crypto")}Ht.getCryptoOrThrow=m;function u(){return n("crypto")}Ht.getCrypto=u;function v(){return e("localStorage")}Ht.getLocalStorageOrThrow=v;function T(){return n("localStorage")}return Ht.getLocalStorage=T,Ht}var tl;function Gp(){if(tl)return fs;tl=1,Object.defineProperty(fs,"__esModule",{value:!0}),fs.getWindowMetadata=void 0;const n=If();function e(){let t,r;try{t=n.getDocumentOrThrow(),r=n.getLocationOrThrow()}catch{return null}function i(){const W=t.getElementsByTagName("link"),U=[];for(let ne=0;ne<W.length;ne++){const E=W[ne],C=E.getAttribute("rel");if(C&&C.toLowerCase().indexOf("icon")>-1){const N=E.getAttribute("href");if(N)if(N.toLowerCase().indexOf("https:")===-1&&N.toLowerCase().indexOf("http:")===-1&&N.indexOf("//")!==0){let $=r.protocol+"//"+r.host;if(N.indexOf("/")===0)$+=N;else{const re=r.pathname.split("/");re.pop();const ue=re.join("/");$+=ue+"/"+N}U.push($)}else if(N.indexOf("//")===0){const $=r.protocol+N;U.push($)}else U.push(N)}}return U}function o(...W){const U=t.getElementsByTagName("meta");for(let ne=0;ne<U.length;ne++){const E=U[ne],C=["itemprop","property","name"].map(N=>E.getAttribute(N)).filter(N=>N?W.includes(N):!1);if(C.length&&C){const N=E.getAttribute("content");if(N)return N}}return""}function s(){let W=o("name","og:site_name","og:title","twitter:title");return W||(W=t.title),W}function h(){return o("description","og:description","twitter:description","keywords")}const m=s(),u=h(),v=r.origin,T=i();return{description:u,url:v,icons:T,name:m}}return fs.getWindowMetadata=e,fs}var Kp=Gp(),fu=If(),Jp=function(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),i=0,e=0;e<t;e++)for(var o=arguments[e],s=0,h=o.length;s<h;s++,i++)r[i]=o[s];return r},Yp=function(){function n(e,t,r){this.name=e,this.version=t,this.os=r,this.type="browser"}return n}(),Xp=function(){function n(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return n}(),Zp=function(){function n(e,t,r,i){this.name=e,this.version=t,this.os=r,this.bot=i,this.type="bot-device"}return n}(),Qp=function(){function n(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return n}(),em=function(){function n(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return n}(),tm=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,nm=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,nl=3,rm=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",tm]],rl=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function im(n){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new em:typeof navigator<"u"?sm(navigator.userAgent):cm()}function om(n){return n!==""&&rm.reduce(function(e,t){var r=t[0],i=t[1];if(e)return e;var o=i.exec(n);return!!o&&[r,o]},!1)}function sm(n){var e=om(n);if(!e)return null;var t=e[0],r=e[1];if(t==="searchbot")return new Qp;var i=r[1]&&r[1].split(/[._]/).slice(0,3);i?i.length<nl&&(i=Jp(i,hm(nl-i.length))):i=[];var o=i.join("."),s=am(n),h=nm.exec(n);return h&&h[1]?new Zp(t,o,s,h[1]):new Yp(t,o,s)}function am(n){for(var e=0,t=rl.length;e<t;e++){var r=rl[e],i=r[0],o=r[1],s=o.exec(n);if(s)return i}return null}function cm(){var n=typeof process<"u"&&process.version;return n?new Xp(process.version.slice(1)):null}function hm(n){for(var e=[],t=0;t<n;t++)e.push("0");return e}function du(n){return im()}function gu(){const n=du();return n&&n.os?n.os:void 0}function um(){const n=gu();return n?n.toLowerCase().includes("android"):!1}function lm(){const n=gu();return n?n.toLowerCase().includes("ios")||n.toLowerCase().includes("mac")&&navigator.maxTouchPoints>1:!1}function fm(){return gu()?um()||lm():!1}function dm(){const n=du();return n&&n.name?n.name.toLowerCase()==="node":!1}function gm(){return!dm()&&!!pm()}const pm=fu.getNavigator,mm=fu.getLocation,pu=fu.getLocalStorage;function il(){return Kp.getWindowMetadata()}function ym(n){if(typeof n!="string")throw new Error(`Cannot safe json parse value of type ${typeof n}`);try{return JSON.parse(n)}catch{return n}}function wm(n){return typeof n=="string"?n:JSON.stringify(n)}const vm=ym,Sm=wm;function Em(n,e){const t=Sm(e),r=pu();r&&r.setItem(n,t)}function Rf(n){let e=null,t=null;const r=pu();return r&&(t=r.getItem(n)),e=t&&vm(t),e}function _f(n){const e=pu();e&&e.removeItem(n)}const ol="WALLETCONNECT_DEEPLINK_CHOICE",bm=["session_request","session_update","exchange_key","connect","disconnect","display_uri","modal_closed","transport_open","transport_close","transport_error"],Pf=["eth_sendTransaction","eth_signTransaction","eth_sign","eth_signTypedData","eth_signTypedData_v1","eth_signTypedData_v2","eth_signTypedData_v3","eth_signTypedData_v4","personal_sign","wallet_addEthereumChain","wallet_switchEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode"];var Ia={exports:{}};const xm={},km=Object.freeze(Object.defineProperty({__proto__:null,default:xm},Symbol.toStringTag,{value:"Module"})),Of=Tf(km);var Am=Ia.exports,sl;function Mm(){return sl||(sl=1,function(n){(function(e,t){function r(S,a){if(!S)throw new Error(a||"Assertion failed")}function i(S,a){S.super_=a;var f=function(){};f.prototype=a.prototype,S.prototype=new f,S.prototype.constructor=S}function o(S,a,f){if(o.isBN(S))return S;this.negative=0,this.words=null,this.length=0,this.red=null,S!==null&&((a==="le"||a==="be")&&(f=a,a=10),this._init(S||0,a||10,f||"be"))}typeof e=="object"?e.exports=o:t.BN=o,o.BN=o,o.wordSize=26;var s;try{s=Of.Buffer}catch{}o.isBN=function(a){return a instanceof o?!0:a!==null&&typeof a=="object"&&a.constructor.wordSize===o.wordSize&&Array.isArray(a.words)},o.max=function(a,f){return a.cmp(f)>0?a:f},o.min=function(a,f){return a.cmp(f)<0?a:f},o.prototype._init=function(a,f,g){if(typeof a=="number")return this._initNumber(a,f,g);if(typeof a=="object")return this._initArray(a,f,g);f==="hex"&&(f=16),r(f===(f|0)&&f>=2&&f<=36),a=a.toString().replace(/\s+/g,"");var x=0;a[0]==="-"&&x++,f===16?this._parseHex(a,x):this._parseBase(a,f,x),a[0]==="-"&&(this.negative=1),this.strip(),g==="le"&&this._initArray(this.toArray(),f,g)},o.prototype._initNumber=function(a,f,g){a<0&&(this.negative=1,a=-a),a<67108864?(this.words=[a&67108863],this.length=1):a<4503599627370496?(this.words=[a&67108863,a/67108864&67108863],this.length=2):(r(a<9007199254740992),this.words=[a&67108863,a/67108864&67108863,1],this.length=3),g==="le"&&this._initArray(this.toArray(),f,g)},o.prototype._initArray=function(a,f,g){if(r(typeof a.length=="number"),a.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(a.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var R,V,H=0;if(g==="be")for(x=a.length-1,R=0;x>=0;x-=3)V=a[x]|a[x-1]<<8|a[x-2]<<16,this.words[R]|=V<<H&67108863,this.words[R+1]=V>>>26-H&67108863,H+=24,H>=26&&(H-=26,R++);else if(g==="le")for(x=0,R=0;x<a.length;x+=3)V=a[x]|a[x+1]<<8|a[x+2]<<16,this.words[R]|=V<<H&67108863,this.words[R+1]=V>>>26-H&67108863,H+=24,H>=26&&(H-=26,R++);return this.strip()};function h(S,a,f){for(var g=0,x=Math.min(S.length,f),R=a;R<x;R++){var V=S.charCodeAt(R)-48;g<<=4,V>=49&&V<=54?g|=V-49+10:V>=17&&V<=22?g|=V-17+10:g|=V&15}return g}o.prototype._parseHex=function(a,f){this.length=Math.ceil((a.length-f)/6),this.words=new Array(this.length);for(var g=0;g<this.length;g++)this.words[g]=0;var x,R,V=0;for(g=a.length-6,x=0;g>=f;g-=6)R=h(a,g,g+6),this.words[x]|=R<<V&67108863,this.words[x+1]|=R>>>26-V&4194303,V+=24,V>=26&&(V-=26,x++);g+6!==f&&(R=h(a,f,g+6),this.words[x]|=R<<V&67108863,this.words[x+1]|=R>>>26-V&4194303),this.strip()};function m(S,a,f,g){for(var x=0,R=Math.min(S.length,f),V=a;V<R;V++){var H=S.charCodeAt(V)-48;x*=g,H>=49?x+=H-49+10:H>=17?x+=H-17+10:x+=H}return x}o.prototype._parseBase=function(a,f,g){this.words=[0],this.length=1;for(var x=0,R=1;R<=67108863;R*=f)x++;x--,R=R/f|0;for(var V=a.length-g,H=V%x,_=Math.min(V,V-H)+g,l=0,P=g;P<_;P+=x)l=m(a,P,P+x,f),this.imuln(R),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(H!==0){var Te=1;for(l=m(a,P,a.length,f),P=0;P<H;P++)Te*=f;this.imuln(Te),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}},o.prototype.copy=function(a){a.words=new Array(this.length);for(var f=0;f<this.length;f++)a.words[f]=this.words[f];a.length=this.length,a.negative=this.negative,a.red=this.red},o.prototype.clone=function(){var a=new o(null);return this.copy(a),a},o.prototype._expand=function(a){for(;this.length<a;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],v=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],T=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(a,f){a=a||10,f=f|0||1;var g;if(a===16||a==="hex"){g="";for(var x=0,R=0,V=0;V<this.length;V++){var H=this.words[V],_=((H<<x|R)&16777215).toString(16);R=H>>>24-x&16777215,R!==0||V!==this.length-1?g=u[6-_.length]+_+g:g=_+g,x+=2,x>=26&&(x-=26,V--)}for(R!==0&&(g=R.toString(16)+g);g.length%f!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}if(a===(a|0)&&a>=2&&a<=36){var l=v[a],P=T[a];g="";var Te=this.clone();for(Te.negative=0;!Te.isZero();){var ve=Te.modn(P).toString(a);Te=Te.idivn(P),Te.isZero()?g=ve+g:g=u[l-ve.length]+ve+g}for(this.isZero()&&(g="0"+g);g.length%f!==0;)g="0"+g;return this.negative!==0&&(g="-"+g),g}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var a=this.words[0];return this.length===2?a+=this.words[1]*67108864:this.length===3&&this.words[2]===1?a+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-a:a},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(a,f){return r(typeof s<"u"),this.toArrayLike(s,a,f)},o.prototype.toArray=function(a,f){return this.toArrayLike(Array,a,f)},o.prototype.toArrayLike=function(a,f,g){var x=this.byteLength(),R=g||Math.max(1,x);r(x<=R,"byte array longer than desired length"),r(R>0,"Requested array length <= 0"),this.strip();var V=f==="le",H=new a(R),_,l,P=this.clone();if(V){for(l=0;!P.isZero();l++)_=P.andln(255),P.iushrn(8),H[l]=_;for(;l<R;l++)H[l]=0}else{for(l=0;l<R-x;l++)H[l]=0;for(l=0;!P.isZero();l++)_=P.andln(255),P.iushrn(8),H[R-l-1]=_}return H},Math.clz32?o.prototype._countBits=function(a){return 32-Math.clz32(a)}:o.prototype._countBits=function(a){var f=a,g=0;return f>=4096&&(g+=13,f>>>=13),f>=64&&(g+=7,f>>>=7),f>=8&&(g+=4,f>>>=4),f>=2&&(g+=2,f>>>=2),g+f},o.prototype._zeroBits=function(a){if(a===0)return 26;var f=a,g=0;return(f&8191)===0&&(g+=13,f>>>=13),(f&127)===0&&(g+=7,f>>>=7),(f&15)===0&&(g+=4,f>>>=4),(f&3)===0&&(g+=2,f>>>=2),(f&1)===0&&g++,g},o.prototype.bitLength=function(){var a=this.words[this.length-1],f=this._countBits(a);return(this.length-1)*26+f};function B(S){for(var a=new Array(S.bitLength()),f=0;f<a.length;f++){var g=f/26|0,x=f%26;a[f]=(S.words[g]&1<<x)>>>x}return a}o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var a=0,f=0;f<this.length;f++){var g=this._zeroBits(this.words[f]);if(a+=g,g!==26)break}return a},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(a){return this.negative!==0?this.abs().inotn(a).iaddn(1):this.clone()},o.prototype.fromTwos=function(a){return this.testn(a-1)?this.notn(a).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(a){for(;this.length<a.length;)this.words[this.length++]=0;for(var f=0;f<a.length;f++)this.words[f]=this.words[f]|a.words[f];return this.strip()},o.prototype.ior=function(a){return r((this.negative|a.negative)===0),this.iuor(a)},o.prototype.or=function(a){return this.length>a.length?this.clone().ior(a):a.clone().ior(this)},o.prototype.uor=function(a){return this.length>a.length?this.clone().iuor(a):a.clone().iuor(this)},o.prototype.iuand=function(a){var f;this.length>a.length?f=a:f=this;for(var g=0;g<f.length;g++)this.words[g]=this.words[g]&a.words[g];return this.length=f.length,this.strip()},o.prototype.iand=function(a){return r((this.negative|a.negative)===0),this.iuand(a)},o.prototype.and=function(a){return this.length>a.length?this.clone().iand(a):a.clone().iand(this)},o.prototype.uand=function(a){return this.length>a.length?this.clone().iuand(a):a.clone().iuand(this)},o.prototype.iuxor=function(a){var f,g;this.length>a.length?(f=this,g=a):(f=a,g=this);for(var x=0;x<g.length;x++)this.words[x]=f.words[x]^g.words[x];if(this!==f)for(;x<f.length;x++)this.words[x]=f.words[x];return this.length=f.length,this.strip()},o.prototype.ixor=function(a){return r((this.negative|a.negative)===0),this.iuxor(a)},o.prototype.xor=function(a){return this.length>a.length?this.clone().ixor(a):a.clone().ixor(this)},o.prototype.uxor=function(a){return this.length>a.length?this.clone().iuxor(a):a.clone().iuxor(this)},o.prototype.inotn=function(a){r(typeof a=="number"&&a>=0);var f=Math.ceil(a/26)|0,g=a%26;this._expand(f),g>0&&f--;for(var x=0;x<f;x++)this.words[x]=~this.words[x]&67108863;return g>0&&(this.words[x]=~this.words[x]&67108863>>26-g),this.strip()},o.prototype.notn=function(a){return this.clone().inotn(a)},o.prototype.setn=function(a,f){r(typeof a=="number"&&a>=0);var g=a/26|0,x=a%26;return this._expand(g+1),f?this.words[g]=this.words[g]|1<<x:this.words[g]=this.words[g]&~(1<<x),this.strip()},o.prototype.iadd=function(a){var f;if(this.negative!==0&&a.negative===0)return this.negative=0,f=this.isub(a),this.negative^=1,this._normSign();if(this.negative===0&&a.negative!==0)return a.negative=0,f=this.isub(a),a.negative=1,f._normSign();var g,x;this.length>a.length?(g=this,x=a):(g=a,x=this);for(var R=0,V=0;V<x.length;V++)f=(g.words[V]|0)+(x.words[V]|0)+R,this.words[V]=f&67108863,R=f>>>26;for(;R!==0&&V<g.length;V++)f=(g.words[V]|0)+R,this.words[V]=f&67108863,R=f>>>26;if(this.length=g.length,R!==0)this.words[this.length]=R,this.length++;else if(g!==this)for(;V<g.length;V++)this.words[V]=g.words[V];return this},o.prototype.add=function(a){var f;return a.negative!==0&&this.negative===0?(a.negative=0,f=this.sub(a),a.negative^=1,f):a.negative===0&&this.negative!==0?(this.negative=0,f=a.sub(this),this.negative=1,f):this.length>a.length?this.clone().iadd(a):a.clone().iadd(this)},o.prototype.isub=function(a){if(a.negative!==0){a.negative=0;var f=this.iadd(a);return a.negative=1,f._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(a),this.negative=1,this._normSign();var g=this.cmp(a);if(g===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,R;g>0?(x=this,R=a):(x=a,R=this);for(var V=0,H=0;H<R.length;H++)f=(x.words[H]|0)-(R.words[H]|0)+V,V=f>>26,this.words[H]=f&67108863;for(;V!==0&&H<x.length;H++)f=(x.words[H]|0)+V,V=f>>26,this.words[H]=f&67108863;if(V===0&&H<x.length&&x!==this)for(;H<x.length;H++)this.words[H]=x.words[H];return this.length=Math.max(this.length,H),x!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(a){return this.clone().isub(a)};function W(S,a,f){f.negative=a.negative^S.negative;var g=S.length+a.length|0;f.length=g,g=g-1|0;var x=S.words[0]|0,R=a.words[0]|0,V=x*R,H=V&67108863,_=V/67108864|0;f.words[0]=H;for(var l=1;l<g;l++){for(var P=_>>>26,Te=_&67108863,ve=Math.min(l,a.length-1),we=Math.max(0,l-S.length+1);we<=ve;we++){var ie=l-we|0;x=S.words[ie]|0,R=a.words[we]|0,V=x*R+Te,P+=V/67108864|0,Te=V&67108863}f.words[l]=Te|0,_=P|0}return _!==0?f.words[l]=_|0:f.length--,f.strip()}var U=function(a,f,g){var x=a.words,R=f.words,V=g.words,H=0,_,l,P,Te=x[0]|0,ve=Te&8191,we=Te>>>13,ie=x[1]|0,y=ie&8191,se=ie>>>13,Se=x[2]|0,j=Se&8191,te=Se>>>13,w=x[3]|0,k=w&8191,O=w>>>13,ee=x[4]|0,L=ee&8191,z=ee>>>13,ae=x[5]|0,q=ae&8191,G=ae>>>13,oe=x[6]|0,J=oe&8191,he=oe>>>13,Ee=x[7]|0,ye=Ee&8191,Oe=Ee>>>13,je=x[8]|0,He=je&8191,Ve=je>>>13,Qe=x[9]|0,Ge=Qe&8191,ht=Qe>>>13,Bt=R[0]|0,st=Bt&8191,Xe=Bt>>>13,Mt=R[1]|0,Ke=Mt&8191,We=Mt>>>13,rt=R[2]|0,ft=rt&8191,dt=rt>>>13,qt=R[3]|0,mt=qt&8191,yt=qt>>>13,jt=R[4]|0,Dt=jt&8191,_t=jt>>>13,bn=R[5]|0,Vt=bn&8191,Ut=bn>>>13,zn=R[6]|0,zt=zn&8191,kt=zn>>>13,Hn=R[7]|0,d=Hn&8191,b=Hn>>>13,A=R[8]|0,c=A&8191,D=A>>>13,Q=R[9]|0,X=Q&8191,de=Q>>>13;g.negative=a.negative^f.negative,g.length=19,_=Math.imul(ve,st),l=Math.imul(ve,Xe),l=l+Math.imul(we,st)|0,P=Math.imul(we,Xe);var _e=(H+_|0)+((l&8191)<<13)|0;H=(P+(l>>>13)|0)+(_e>>>26)|0,_e&=67108863,_=Math.imul(y,st),l=Math.imul(y,Xe),l=l+Math.imul(se,st)|0,P=Math.imul(se,Xe),_=_+Math.imul(ve,Ke)|0,l=l+Math.imul(ve,We)|0,l=l+Math.imul(we,Ke)|0,P=P+Math.imul(we,We)|0;var $e=(H+_|0)+((l&8191)<<13)|0;H=(P+(l>>>13)|0)+($e>>>26)|0,$e&=67108863,_=Math.imul(j,st),l=Math.imul(j,Xe),l=l+Math.imul(te,st)|0,P=Math.imul(te,Xe),_=_+Math.imul(y,Ke)|0,l=l+Math.imul(y,We)|0,l=l+Math.imul(se,Ke)|0,P=P+Math.imul(se,We)|0,_=_+Math.imul(ve,ft)|0,l=l+Math.imul(ve,dt)|0,l=l+Math.imul(we,ft)|0,P=P+Math.imul(we,dt)|0;var Ce=(H+_|0)+((l&8191)<<13)|0;H=(P+(l>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,_=Math.imul(k,st),l=Math.imul(k,Xe),l=l+Math.imul(O,st)|0,P=Math.imul(O,Xe),_=_+Math.imul(j,Ke)|0,l=l+Math.imul(j,We)|0,l=l+Math.imul(te,Ke)|0,P=P+Math.imul(te,We)|0,_=_+Math.imul(y,ft)|0,l=l+Math.imul(y,dt)|0,l=l+Math.imul(se,ft)|0,P=P+Math.imul(se,dt)|0,_=_+Math.imul(ve,mt)|0,l=l+Math.imul(ve,yt)|0,l=l+Math.imul(we,mt)|0,P=P+Math.imul(we,yt)|0;var wt=(H+_|0)+((l&8191)<<13)|0;H=(P+(l>>>13)|0)+(wt>>>26)|0,wt&=67108863,_=Math.imul(L,st),l=Math.imul(L,Xe),l=l+Math.imul(z,st)|0,P=Math.imul(z,Xe),_=_+Math.imul(k,Ke)|0,l=l+Math.imul(k,We)|0,l=l+Math.imul(O,Ke)|0,P=P+Math.imul(O,We)|0,_=_+Math.imul(j,ft)|0,l=l+Math.imul(j,dt)|0,l=l+Math.imul(te,ft)|0,P=P+Math.imul(te,dt)|0,_=_+Math.imul(y,mt)|0,l=l+Math.imul(y,yt)|0,l=l+Math.imul(se,mt)|0,P=P+Math.imul(se,yt)|0,_=_+Math.imul(ve,Dt)|0,l=l+Math.imul(ve,_t)|0,l=l+Math.imul(we,Dt)|0,P=P+Math.imul(we,_t)|0;var Ue=(H+_|0)+((l&8191)<<13)|0;H=(P+(l>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,_=Math.imul(q,st),l=Math.imul(q,Xe),l=l+Math.imul(G,st)|0,P=Math.imul(G,Xe),_=_+Math.imul(L,Ke)|0,l=l+Math.imul(L,We)|0,l=l+Math.imul(z,Ke)|0,P=P+Math.imul(z,We)|0,_=_+Math.imul(k,ft)|0,l=l+Math.imul(k,dt)|0,l=l+Math.imul(O,ft)|0,P=P+Math.imul(O,dt)|0,_=_+Math.imul(j,mt)|0,l=l+Math.imul(j,yt)|0,l=l+Math.imul(te,mt)|0,P=P+Math.imul(te,yt)|0,_=_+Math.imul(y,Dt)|0,l=l+Math.imul(y,_t)|0,l=l+Math.imul(se,Dt)|0,P=P+Math.imul(se,_t)|0,_=_+Math.imul(ve,Vt)|0,l=l+Math.imul(ve,Ut)|0,l=l+Math.imul(we,Vt)|0,P=P+Math.imul(we,Ut)|0;var et=(H+_|0)+((l&8191)<<13)|0;H=(P+(l>>>13)|0)+(et>>>26)|0,et&=67108863,_=Math.imul(J,st),l=Math.imul(J,Xe),l=l+Math.imul(he,st)|0,P=Math.imul(he,Xe),_=_+Math.imul(q,Ke)|0,l=l+Math.imul(q,We)|0,l=l+Math.imul(G,Ke)|0,P=P+Math.imul(G,We)|0,_=_+Math.imul(L,ft)|0,l=l+Math.imul(L,dt)|0,l=l+Math.imul(z,ft)|0,P=P+Math.imul(z,dt)|0,_=_+Math.imul(k,mt)|0,l=l+Math.imul(k,yt)|0,l=l+Math.imul(O,mt)|0,P=P+Math.imul(O,yt)|0,_=_+Math.imul(j,Dt)|0,l=l+Math.imul(j,_t)|0,l=l+Math.imul(te,Dt)|0,P=P+Math.imul(te,_t)|0,_=_+Math.imul(y,Vt)|0,l=l+Math.imul(y,Ut)|0,l=l+Math.imul(se,Vt)|0,P=P+Math.imul(se,Ut)|0,_=_+Math.imul(ve,zt)|0,l=l+Math.imul(ve,kt)|0,l=l+Math.imul(we,zt)|0,P=P+Math.imul(we,kt)|0;var tt=(H+_|0)+((l&8191)<<13)|0;H=(P+(l>>>13)|0)+(tt>>>26)|0,tt&=67108863,_=Math.imul(ye,st),l=Math.imul(ye,Xe),l=l+Math.imul(Oe,st)|0,P=Math.imul(Oe,Xe),_=_+Math.imul(J,Ke)|0,l=l+Math.imul(J,We)|0,l=l+Math.imul(he,Ke)|0,P=P+Math.imul(he,We)|0,_=_+Math.imul(q,ft)|0,l=l+Math.imul(q,dt)|0,l=l+Math.imul(G,ft)|0,P=P+Math.imul(G,dt)|0,_=_+Math.imul(L,mt)|0,l=l+Math.imul(L,yt)|0,l=l+Math.imul(z,mt)|0,P=P+Math.imul(z,yt)|0,_=_+Math.imul(k,Dt)|0,l=l+Math.imul(k,_t)|0,l=l+Math.imul(O,Dt)|0,P=P+Math.imul(O,_t)|0,_=_+Math.imul(j,Vt)|0,l=l+Math.imul(j,Ut)|0,l=l+Math.imul(te,Vt)|0,P=P+Math.imul(te,Ut)|0,_=_+Math.imul(y,zt)|0,l=l+Math.imul(y,kt)|0,l=l+Math.imul(se,zt)|0,P=P+Math.imul(se,kt)|0,_=_+Math.imul(ve,d)|0,l=l+Math.imul(ve,b)|0,l=l+Math.imul(we,d)|0,P=P+Math.imul(we,b)|0;var it=(H+_|0)+((l&8191)<<13)|0;H=(P+(l>>>13)|0)+(it>>>26)|0,it&=67108863,_=Math.imul(He,st),l=Math.imul(He,Xe),l=l+Math.imul(Ve,st)|0,P=Math.imul(Ve,Xe),_=_+Math.imul(ye,Ke)|0,l=l+Math.imul(ye,We)|0,l=l+Math.imul(Oe,Ke)|0,P=P+Math.imul(Oe,We)|0,_=_+Math.imul(J,ft)|0,l=l+Math.imul(J,dt)|0,l=l+Math.imul(he,ft)|0,P=P+Math.imul(he,dt)|0,_=_+Math.imul(q,mt)|0,l=l+Math.imul(q,yt)|0,l=l+Math.imul(G,mt)|0,P=P+Math.imul(G,yt)|0,_=_+Math.imul(L,Dt)|0,l=l+Math.imul(L,_t)|0,l=l+Math.imul(z,Dt)|0,P=P+Math.imul(z,_t)|0,_=_+Math.imul(k,Vt)|0,l=l+Math.imul(k,Ut)|0,l=l+Math.imul(O,Vt)|0,P=P+Math.imul(O,Ut)|0,_=_+Math.imul(j,zt)|0,l=l+Math.imul(j,kt)|0,l=l+Math.imul(te,zt)|0,P=P+Math.imul(te,kt)|0,_=_+Math.imul(y,d)|0,l=l+Math.imul(y,b)|0,l=l+Math.imul(se,d)|0,P=P+Math.imul(se,b)|0,_=_+Math.imul(ve,c)|0,l=l+Math.imul(ve,D)|0,l=l+Math.imul(we,c)|0,P=P+Math.imul(we,D)|0;var gt=(H+_|0)+((l&8191)<<13)|0;H=(P+(l>>>13)|0)+(gt>>>26)|0,gt&=67108863,_=Math.imul(Ge,st),l=Math.imul(Ge,Xe),l=l+Math.imul(ht,st)|0,P=Math.imul(ht,Xe),_=_+Math.imul(He,Ke)|0,l=l+Math.imul(He,We)|0,l=l+Math.imul(Ve,Ke)|0,P=P+Math.imul(Ve,We)|0,_=_+Math.imul(ye,ft)|0,l=l+Math.imul(ye,dt)|0,l=l+Math.imul(Oe,ft)|0,P=P+Math.imul(Oe,dt)|0,_=_+Math.imul(J,mt)|0,l=l+Math.imul(J,yt)|0,l=l+Math.imul(he,mt)|0,P=P+Math.imul(he,yt)|0,_=_+Math.imul(q,Dt)|0,l=l+Math.imul(q,_t)|0,l=l+Math.imul(G,Dt)|0,P=P+Math.imul(G,_t)|0,_=_+Math.imul(L,Vt)|0,l=l+Math.imul(L,Ut)|0,l=l+Math.imul(z,Vt)|0,P=P+Math.imul(z,Ut)|0,_=_+Math.imul(k,zt)|0,l=l+Math.imul(k,kt)|0,l=l+Math.imul(O,zt)|0,P=P+Math.imul(O,kt)|0,_=_+Math.imul(j,d)|0,l=l+Math.imul(j,b)|0,l=l+Math.imul(te,d)|0,P=P+Math.imul(te,b)|0,_=_+Math.imul(y,c)|0,l=l+Math.imul(y,D)|0,l=l+Math.imul(se,c)|0,P=P+Math.imul(se,D)|0,_=_+Math.imul(ve,X)|0,l=l+Math.imul(ve,de)|0,l=l+Math.imul(we,X)|0,P=P+Math.imul(we,de)|0;var at=(H+_|0)+((l&8191)<<13)|0;H=(P+(l>>>13)|0)+(at>>>26)|0,at&=67108863,_=Math.imul(Ge,Ke),l=Math.imul(Ge,We),l=l+Math.imul(ht,Ke)|0,P=Math.imul(ht,We),_=_+Math.imul(He,ft)|0,l=l+Math.imul(He,dt)|0,l=l+Math.imul(Ve,ft)|0,P=P+Math.imul(Ve,dt)|0,_=_+Math.imul(ye,mt)|0,l=l+Math.imul(ye,yt)|0,l=l+Math.imul(Oe,mt)|0,P=P+Math.imul(Oe,yt)|0,_=_+Math.imul(J,Dt)|0,l=l+Math.imul(J,_t)|0,l=l+Math.imul(he,Dt)|0,P=P+Math.imul(he,_t)|0,_=_+Math.imul(q,Vt)|0,l=l+Math.imul(q,Ut)|0,l=l+Math.imul(G,Vt)|0,P=P+Math.imul(G,Ut)|0,_=_+Math.imul(L,zt)|0,l=l+Math.imul(L,kt)|0,l=l+Math.imul(z,zt)|0,P=P+Math.imul(z,kt)|0,_=_+Math.imul(k,d)|0,l=l+Math.imul(k,b)|0,l=l+Math.imul(O,d)|0,P=P+Math.imul(O,b)|0,_=_+Math.imul(j,c)|0,l=l+Math.imul(j,D)|0,l=l+Math.imul(te,c)|0,P=P+Math.imul(te,D)|0,_=_+Math.imul(y,X)|0,l=l+Math.imul(y,de)|0,l=l+Math.imul(se,X)|0,P=P+Math.imul(se,de)|0;var ut=(H+_|0)+((l&8191)<<13)|0;H=(P+(l>>>13)|0)+(ut>>>26)|0,ut&=67108863,_=Math.imul(Ge,ft),l=Math.imul(Ge,dt),l=l+Math.imul(ht,ft)|0,P=Math.imul(ht,dt),_=_+Math.imul(He,mt)|0,l=l+Math.imul(He,yt)|0,l=l+Math.imul(Ve,mt)|0,P=P+Math.imul(Ve,yt)|0,_=_+Math.imul(ye,Dt)|0,l=l+Math.imul(ye,_t)|0,l=l+Math.imul(Oe,Dt)|0,P=P+Math.imul(Oe,_t)|0,_=_+Math.imul(J,Vt)|0,l=l+Math.imul(J,Ut)|0,l=l+Math.imul(he,Vt)|0,P=P+Math.imul(he,Ut)|0,_=_+Math.imul(q,zt)|0,l=l+Math.imul(q,kt)|0,l=l+Math.imul(G,zt)|0,P=P+Math.imul(G,kt)|0,_=_+Math.imul(L,d)|0,l=l+Math.imul(L,b)|0,l=l+Math.imul(z,d)|0,P=P+Math.imul(z,b)|0,_=_+Math.imul(k,c)|0,l=l+Math.imul(k,D)|0,l=l+Math.imul(O,c)|0,P=P+Math.imul(O,D)|0,_=_+Math.imul(j,X)|0,l=l+Math.imul(j,de)|0,l=l+Math.imul(te,X)|0,P=P+Math.imul(te,de)|0;var ct=(H+_|0)+((l&8191)<<13)|0;H=(P+(l>>>13)|0)+(ct>>>26)|0,ct&=67108863,_=Math.imul(Ge,mt),l=Math.imul(Ge,yt),l=l+Math.imul(ht,mt)|0,P=Math.imul(ht,yt),_=_+Math.imul(He,Dt)|0,l=l+Math.imul(He,_t)|0,l=l+Math.imul(Ve,Dt)|0,P=P+Math.imul(Ve,_t)|0,_=_+Math.imul(ye,Vt)|0,l=l+Math.imul(ye,Ut)|0,l=l+Math.imul(Oe,Vt)|0,P=P+Math.imul(Oe,Ut)|0,_=_+Math.imul(J,zt)|0,l=l+Math.imul(J,kt)|0,l=l+Math.imul(he,zt)|0,P=P+Math.imul(he,kt)|0,_=_+Math.imul(q,d)|0,l=l+Math.imul(q,b)|0,l=l+Math.imul(G,d)|0,P=P+Math.imul(G,b)|0,_=_+Math.imul(L,c)|0,l=l+Math.imul(L,D)|0,l=l+Math.imul(z,c)|0,P=P+Math.imul(z,D)|0,_=_+Math.imul(k,X)|0,l=l+Math.imul(k,de)|0,l=l+Math.imul(O,X)|0,P=P+Math.imul(O,de)|0;var Fe=(H+_|0)+((l&8191)<<13)|0;H=(P+(l>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,_=Math.imul(Ge,Dt),l=Math.imul(Ge,_t),l=l+Math.imul(ht,Dt)|0,P=Math.imul(ht,_t),_=_+Math.imul(He,Vt)|0,l=l+Math.imul(He,Ut)|0,l=l+Math.imul(Ve,Vt)|0,P=P+Math.imul(Ve,Ut)|0,_=_+Math.imul(ye,zt)|0,l=l+Math.imul(ye,kt)|0,l=l+Math.imul(Oe,zt)|0,P=P+Math.imul(Oe,kt)|0,_=_+Math.imul(J,d)|0,l=l+Math.imul(J,b)|0,l=l+Math.imul(he,d)|0,P=P+Math.imul(he,b)|0,_=_+Math.imul(q,c)|0,l=l+Math.imul(q,D)|0,l=l+Math.imul(G,c)|0,P=P+Math.imul(G,D)|0,_=_+Math.imul(L,X)|0,l=l+Math.imul(L,de)|0,l=l+Math.imul(z,X)|0,P=P+Math.imul(z,de)|0;var Je=(H+_|0)+((l&8191)<<13)|0;H=(P+(l>>>13)|0)+(Je>>>26)|0,Je&=67108863,_=Math.imul(Ge,Vt),l=Math.imul(Ge,Ut),l=l+Math.imul(ht,Vt)|0,P=Math.imul(ht,Ut),_=_+Math.imul(He,zt)|0,l=l+Math.imul(He,kt)|0,l=l+Math.imul(Ve,zt)|0,P=P+Math.imul(Ve,kt)|0,_=_+Math.imul(ye,d)|0,l=l+Math.imul(ye,b)|0,l=l+Math.imul(Oe,d)|0,P=P+Math.imul(Oe,b)|0,_=_+Math.imul(J,c)|0,l=l+Math.imul(J,D)|0,l=l+Math.imul(he,c)|0,P=P+Math.imul(he,D)|0,_=_+Math.imul(q,X)|0,l=l+Math.imul(q,de)|0,l=l+Math.imul(G,X)|0,P=P+Math.imul(G,de)|0;var Le=(H+_|0)+((l&8191)<<13)|0;H=(P+(l>>>13)|0)+(Le>>>26)|0,Le&=67108863,_=Math.imul(Ge,zt),l=Math.imul(Ge,kt),l=l+Math.imul(ht,zt)|0,P=Math.imul(ht,kt),_=_+Math.imul(He,d)|0,l=l+Math.imul(He,b)|0,l=l+Math.imul(Ve,d)|0,P=P+Math.imul(Ve,b)|0,_=_+Math.imul(ye,c)|0,l=l+Math.imul(ye,D)|0,l=l+Math.imul(Oe,c)|0,P=P+Math.imul(Oe,D)|0,_=_+Math.imul(J,X)|0,l=l+Math.imul(J,de)|0,l=l+Math.imul(he,X)|0,P=P+Math.imul(he,de)|0;var qe=(H+_|0)+((l&8191)<<13)|0;H=(P+(l>>>13)|0)+(qe>>>26)|0,qe&=67108863,_=Math.imul(Ge,d),l=Math.imul(Ge,b),l=l+Math.imul(ht,d)|0,P=Math.imul(ht,b),_=_+Math.imul(He,c)|0,l=l+Math.imul(He,D)|0,l=l+Math.imul(Ve,c)|0,P=P+Math.imul(Ve,D)|0,_=_+Math.imul(ye,X)|0,l=l+Math.imul(ye,de)|0,l=l+Math.imul(Oe,X)|0,P=P+Math.imul(Oe,de)|0;var ze=(H+_|0)+((l&8191)<<13)|0;H=(P+(l>>>13)|0)+(ze>>>26)|0,ze&=67108863,_=Math.imul(Ge,c),l=Math.imul(Ge,D),l=l+Math.imul(ht,c)|0,P=Math.imul(ht,D),_=_+Math.imul(He,X)|0,l=l+Math.imul(He,de)|0,l=l+Math.imul(Ve,X)|0,P=P+Math.imul(Ve,de)|0;var Ne=(H+_|0)+((l&8191)<<13)|0;H=(P+(l>>>13)|0)+(Ne>>>26)|0,Ne&=67108863,_=Math.imul(Ge,X),l=Math.imul(Ge,de),l=l+Math.imul(ht,X)|0,P=Math.imul(ht,de);var le=(H+_|0)+((l&8191)<<13)|0;return H=(P+(l>>>13)|0)+(le>>>26)|0,le&=67108863,V[0]=_e,V[1]=$e,V[2]=Ce,V[3]=wt,V[4]=Ue,V[5]=et,V[6]=tt,V[7]=it,V[8]=gt,V[9]=at,V[10]=ut,V[11]=ct,V[12]=Fe,V[13]=Je,V[14]=Le,V[15]=qe,V[16]=ze,V[17]=Ne,V[18]=le,H!==0&&(V[19]=H,g.length++),g};Math.imul||(U=W);function ne(S,a,f){f.negative=a.negative^S.negative,f.length=S.length+a.length;for(var g=0,x=0,R=0;R<f.length-1;R++){var V=x;x=0;for(var H=g&67108863,_=Math.min(R,a.length-1),l=Math.max(0,R-S.length+1);l<=_;l++){var P=R-l,Te=S.words[P]|0,ve=a.words[l]|0,we=Te*ve,ie=we&67108863;V=V+(we/67108864|0)|0,ie=ie+H|0,H=ie&67108863,V=V+(ie>>>26)|0,x+=V>>>26,V&=67108863}f.words[R]=H,g=V,V=x}return g!==0?f.words[R]=g:f.length--,f.strip()}function E(S,a,f){var g=new C;return g.mulp(S,a,f)}o.prototype.mulTo=function(a,f){var g,x=this.length+a.length;return this.length===10&&a.length===10?g=U(this,a,f):x<63?g=W(this,a,f):x<1024?g=ne(this,a,f):g=E(this,a,f),g};function C(S,a){this.x=S,this.y=a}C.prototype.makeRBT=function(a){for(var f=new Array(a),g=o.prototype._countBits(a)-1,x=0;x<a;x++)f[x]=this.revBin(x,g,a);return f},C.prototype.revBin=function(a,f,g){if(a===0||a===g-1)return a;for(var x=0,R=0;R<f;R++)x|=(a&1)<<f-R-1,a>>=1;return x},C.prototype.permute=function(a,f,g,x,R,V){for(var H=0;H<V;H++)x[H]=f[a[H]],R[H]=g[a[H]]},C.prototype.transform=function(a,f,g,x,R,V){this.permute(V,a,f,g,x,R);for(var H=1;H<R;H<<=1)for(var _=H<<1,l=Math.cos(2*Math.PI/_),P=Math.sin(2*Math.PI/_),Te=0;Te<R;Te+=_)for(var ve=l,we=P,ie=0;ie<H;ie++){var y=g[Te+ie],se=x[Te+ie],Se=g[Te+ie+H],j=x[Te+ie+H],te=ve*Se-we*j;j=ve*j+we*Se,Se=te,g[Te+ie]=y+Se,x[Te+ie]=se+j,g[Te+ie+H]=y-Se,x[Te+ie+H]=se-j,ie!==_&&(te=l*ve-P*we,we=l*we+P*ve,ve=te)}},C.prototype.guessLen13b=function(a,f){var g=Math.max(f,a)|1,x=g&1,R=0;for(g=g/2|0;g;g=g>>>1)R++;return 1<<R+1+x},C.prototype.conjugate=function(a,f,g){if(!(g<=1))for(var x=0;x<g/2;x++){var R=a[x];a[x]=a[g-x-1],a[g-x-1]=R,R=f[x],f[x]=-f[g-x-1],f[g-x-1]=-R}},C.prototype.normalize13b=function(a,f){for(var g=0,x=0;x<f/2;x++){var R=Math.round(a[2*x+1]/f)*8192+Math.round(a[2*x]/f)+g;a[x]=R&67108863,R<67108864?g=0:g=R/67108864|0}return a},C.prototype.convert13b=function(a,f,g,x){for(var R=0,V=0;V<f;V++)R=R+(a[V]|0),g[2*V]=R&8191,R=R>>>13,g[2*V+1]=R&8191,R=R>>>13;for(V=2*f;V<x;++V)g[V]=0;r(R===0),r((R&-8192)===0)},C.prototype.stub=function(a){for(var f=new Array(a),g=0;g<a;g++)f[g]=0;return f},C.prototype.mulp=function(a,f,g){var x=2*this.guessLen13b(a.length,f.length),R=this.makeRBT(x),V=this.stub(x),H=new Array(x),_=new Array(x),l=new Array(x),P=new Array(x),Te=new Array(x),ve=new Array(x),we=g.words;we.length=x,this.convert13b(a.words,a.length,H,x),this.convert13b(f.words,f.length,P,x),this.transform(H,V,_,l,x,R),this.transform(P,V,Te,ve,x,R);for(var ie=0;ie<x;ie++){var y=_[ie]*Te[ie]-l[ie]*ve[ie];l[ie]=_[ie]*ve[ie]+l[ie]*Te[ie],_[ie]=y}return this.conjugate(_,l,x),this.transform(_,l,we,V,x,R),this.conjugate(we,V,x),this.normalize13b(we,x),g.negative=a.negative^f.negative,g.length=a.length+f.length,g.strip()},o.prototype.mul=function(a){var f=new o(null);return f.words=new Array(this.length+a.length),this.mulTo(a,f)},o.prototype.mulf=function(a){var f=new o(null);return f.words=new Array(this.length+a.length),E(this,a,f)},o.prototype.imul=function(a){return this.clone().mulTo(a,this)},o.prototype.imuln=function(a){r(typeof a=="number"),r(a<67108864);for(var f=0,g=0;g<this.length;g++){var x=(this.words[g]|0)*a,R=(x&67108863)+(f&67108863);f>>=26,f+=x/67108864|0,f+=R>>>26,this.words[g]=R&67108863}return f!==0&&(this.words[g]=f,this.length++),this},o.prototype.muln=function(a){return this.clone().imuln(a)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(a){var f=B(a);if(f.length===0)return new o(1);for(var g=this,x=0;x<f.length&&f[x]===0;x++,g=g.sqr());if(++x<f.length)for(var R=g.sqr();x<f.length;x++,R=R.sqr())f[x]!==0&&(g=g.mul(R));return g},o.prototype.iushln=function(a){r(typeof a=="number"&&a>=0);var f=a%26,g=(a-f)/26,x=67108863>>>26-f<<26-f,R;if(f!==0){var V=0;for(R=0;R<this.length;R++){var H=this.words[R]&x,_=(this.words[R]|0)-H<<f;this.words[R]=_|V,V=H>>>26-f}V&&(this.words[R]=V,this.length++)}if(g!==0){for(R=this.length-1;R>=0;R--)this.words[R+g]=this.words[R];for(R=0;R<g;R++)this.words[R]=0;this.length+=g}return this.strip()},o.prototype.ishln=function(a){return r(this.negative===0),this.iushln(a)},o.prototype.iushrn=function(a,f,g){r(typeof a=="number"&&a>=0);var x;f?x=(f-f%26)/26:x=0;var R=a%26,V=Math.min((a-R)/26,this.length),H=67108863^67108863>>>R<<R,_=g;if(x-=V,x=Math.max(0,x),_){for(var l=0;l<V;l++)_.words[l]=this.words[l];_.length=V}if(V!==0)if(this.length>V)for(this.length-=V,l=0;l<this.length;l++)this.words[l]=this.words[l+V];else this.words[0]=0,this.length=1;var P=0;for(l=this.length-1;l>=0&&(P!==0||l>=x);l--){var Te=this.words[l]|0;this.words[l]=P<<26-R|Te>>>R,P=Te&H}return _&&P!==0&&(_.words[_.length++]=P),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(a,f,g){return r(this.negative===0),this.iushrn(a,f,g)},o.prototype.shln=function(a){return this.clone().ishln(a)},o.prototype.ushln=function(a){return this.clone().iushln(a)},o.prototype.shrn=function(a){return this.clone().ishrn(a)},o.prototype.ushrn=function(a){return this.clone().iushrn(a)},o.prototype.testn=function(a){r(typeof a=="number"&&a>=0);var f=a%26,g=(a-f)/26,x=1<<f;if(this.length<=g)return!1;var R=this.words[g];return!!(R&x)},o.prototype.imaskn=function(a){r(typeof a=="number"&&a>=0);var f=a%26,g=(a-f)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=g)return this;if(f!==0&&g++,this.length=Math.min(g,this.length),f!==0){var x=67108863^67108863>>>f<<f;this.words[this.length-1]&=x}return this.strip()},o.prototype.maskn=function(a){return this.clone().imaskn(a)},o.prototype.iaddn=function(a){return r(typeof a=="number"),r(a<67108864),a<0?this.isubn(-a):this.negative!==0?this.length===1&&(this.words[0]|0)<a?(this.words[0]=a-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(a),this.negative=1,this):this._iaddn(a)},o.prototype._iaddn=function(a){this.words[0]+=a;for(var f=0;f<this.length&&this.words[f]>=67108864;f++)this.words[f]-=67108864,f===this.length-1?this.words[f+1]=1:this.words[f+1]++;return this.length=Math.max(this.length,f+1),this},o.prototype.isubn=function(a){if(r(typeof a=="number"),r(a<67108864),a<0)return this.iaddn(-a);if(this.negative!==0)return this.negative=0,this.iaddn(a),this.negative=1,this;if(this.words[0]-=a,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var f=0;f<this.length&&this.words[f]<0;f++)this.words[f]+=67108864,this.words[f+1]-=1;return this.strip()},o.prototype.addn=function(a){return this.clone().iaddn(a)},o.prototype.subn=function(a){return this.clone().isubn(a)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(a,f,g){var x=a.length+g,R;this._expand(x);var V,H=0;for(R=0;R<a.length;R++){V=(this.words[R+g]|0)+H;var _=(a.words[R]|0)*f;V-=_&67108863,H=(V>>26)-(_/67108864|0),this.words[R+g]=V&67108863}for(;R<this.length-g;R++)V=(this.words[R+g]|0)+H,H=V>>26,this.words[R+g]=V&67108863;if(H===0)return this.strip();for(r(H===-1),H=0,R=0;R<this.length;R++)V=-(this.words[R]|0)+H,H=V>>26,this.words[R]=V&67108863;return this.negative=1,this.strip()},o.prototype._wordDiv=function(a,f){var g=this.length-a.length,x=this.clone(),R=a,V=R.words[R.length-1]|0,H=this._countBits(V);g=26-H,g!==0&&(R=R.ushln(g),x.iushln(g),V=R.words[R.length-1]|0);var _=x.length-R.length,l;if(f!=="mod"){l=new o(null),l.length=_+1,l.words=new Array(l.length);for(var P=0;P<l.length;P++)l.words[P]=0}var Te=x.clone()._ishlnsubmul(R,1,_);Te.negative===0&&(x=Te,l&&(l.words[_]=1));for(var ve=_-1;ve>=0;ve--){var we=(x.words[R.length+ve]|0)*67108864+(x.words[R.length+ve-1]|0);for(we=Math.min(we/V|0,67108863),x._ishlnsubmul(R,we,ve);x.negative!==0;)we--,x.negative=0,x._ishlnsubmul(R,1,ve),x.isZero()||(x.negative^=1);l&&(l.words[ve]=we)}return l&&l.strip(),x.strip(),f!=="div"&&g!==0&&x.iushrn(g),{div:l||null,mod:x}},o.prototype.divmod=function(a,f,g){if(r(!a.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var x,R,V;return this.negative!==0&&a.negative===0?(V=this.neg().divmod(a,f),f!=="mod"&&(x=V.div.neg()),f!=="div"&&(R=V.mod.neg(),g&&R.negative!==0&&R.iadd(a)),{div:x,mod:R}):this.negative===0&&a.negative!==0?(V=this.divmod(a.neg(),f),f!=="mod"&&(x=V.div.neg()),{div:x,mod:V.mod}):(this.negative&a.negative)!==0?(V=this.neg().divmod(a.neg(),f),f!=="div"&&(R=V.mod.neg(),g&&R.negative!==0&&R.isub(a)),{div:V.div,mod:R}):a.length>this.length||this.cmp(a)<0?{div:new o(0),mod:this}:a.length===1?f==="div"?{div:this.divn(a.words[0]),mod:null}:f==="mod"?{div:null,mod:new o(this.modn(a.words[0]))}:{div:this.divn(a.words[0]),mod:new o(this.modn(a.words[0]))}:this._wordDiv(a,f)},o.prototype.div=function(a){return this.divmod(a,"div",!1).div},o.prototype.mod=function(a){return this.divmod(a,"mod",!1).mod},o.prototype.umod=function(a){return this.divmod(a,"mod",!0).mod},o.prototype.divRound=function(a){var f=this.divmod(a);if(f.mod.isZero())return f.div;var g=f.div.negative!==0?f.mod.isub(a):f.mod,x=a.ushrn(1),R=a.andln(1),V=g.cmp(x);return V<0||R===1&&V===0?f.div:f.div.negative!==0?f.div.isubn(1):f.div.iaddn(1)},o.prototype.modn=function(a){r(a<=67108863);for(var f=(1<<26)%a,g=0,x=this.length-1;x>=0;x--)g=(f*g+(this.words[x]|0))%a;return g},o.prototype.idivn=function(a){r(a<=67108863);for(var f=0,g=this.length-1;g>=0;g--){var x=(this.words[g]|0)+f*67108864;this.words[g]=x/a|0,f=x%a}return this.strip()},o.prototype.divn=function(a){return this.clone().idivn(a)},o.prototype.egcd=function(a){r(a.negative===0),r(!a.isZero());var f=this,g=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var x=new o(1),R=new o(0),V=new o(0),H=new o(1),_=0;f.isEven()&&g.isEven();)f.iushrn(1),g.iushrn(1),++_;for(var l=g.clone(),P=f.clone();!f.isZero();){for(var Te=0,ve=1;(f.words[0]&ve)===0&&Te<26;++Te,ve<<=1);if(Te>0)for(f.iushrn(Te);Te-- >0;)(x.isOdd()||R.isOdd())&&(x.iadd(l),R.isub(P)),x.iushrn(1),R.iushrn(1);for(var we=0,ie=1;(g.words[0]&ie)===0&&we<26;++we,ie<<=1);if(we>0)for(g.iushrn(we);we-- >0;)(V.isOdd()||H.isOdd())&&(V.iadd(l),H.isub(P)),V.iushrn(1),H.iushrn(1);f.cmp(g)>=0?(f.isub(g),x.isub(V),R.isub(H)):(g.isub(f),V.isub(x),H.isub(R))}return{a:V,b:H,gcd:g.iushln(_)}},o.prototype._invmp=function(a){r(a.negative===0),r(!a.isZero());var f=this,g=a.clone();f.negative!==0?f=f.umod(a):f=f.clone();for(var x=new o(1),R=new o(0),V=g.clone();f.cmpn(1)>0&&g.cmpn(1)>0;){for(var H=0,_=1;(f.words[0]&_)===0&&H<26;++H,_<<=1);if(H>0)for(f.iushrn(H);H-- >0;)x.isOdd()&&x.iadd(V),x.iushrn(1);for(var l=0,P=1;(g.words[0]&P)===0&&l<26;++l,P<<=1);if(l>0)for(g.iushrn(l);l-- >0;)R.isOdd()&&R.iadd(V),R.iushrn(1);f.cmp(g)>=0?(f.isub(g),x.isub(R)):(g.isub(f),R.isub(x))}var Te;return f.cmpn(1)===0?Te=x:Te=R,Te.cmpn(0)<0&&Te.iadd(a),Te},o.prototype.gcd=function(a){if(this.isZero())return a.abs();if(a.isZero())return this.abs();var f=this.clone(),g=a.clone();f.negative=0,g.negative=0;for(var x=0;f.isEven()&&g.isEven();x++)f.iushrn(1),g.iushrn(1);do{for(;f.isEven();)f.iushrn(1);for(;g.isEven();)g.iushrn(1);var R=f.cmp(g);if(R<0){var V=f;f=g,g=V}else if(R===0||g.cmpn(1)===0)break;f.isub(g)}while(!0);return g.iushln(x)},o.prototype.invm=function(a){return this.egcd(a).a.umod(a)},o.prototype.isEven=function(){return(this.words[0]&1)===0},o.prototype.isOdd=function(){return(this.words[0]&1)===1},o.prototype.andln=function(a){return this.words[0]&a},o.prototype.bincn=function(a){r(typeof a=="number");var f=a%26,g=(a-f)/26,x=1<<f;if(this.length<=g)return this._expand(g+1),this.words[g]|=x,this;for(var R=x,V=g;R!==0&&V<this.length;V++){var H=this.words[V]|0;H+=R,R=H>>>26,H&=67108863,this.words[V]=H}return R!==0&&(this.words[V]=R,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(a){var f=a<0;if(this.negative!==0&&!f)return-1;if(this.negative===0&&f)return 1;this.strip();var g;if(this.length>1)g=1;else{f&&(a=-a),r(a<=67108863,"Number is too big");var x=this.words[0]|0;g=x===a?0:x<a?-1:1}return this.negative!==0?-g|0:g},o.prototype.cmp=function(a){if(this.negative!==0&&a.negative===0)return-1;if(this.negative===0&&a.negative!==0)return 1;var f=this.ucmp(a);return this.negative!==0?-f|0:f},o.prototype.ucmp=function(a){if(this.length>a.length)return 1;if(this.length<a.length)return-1;for(var f=0,g=this.length-1;g>=0;g--){var x=this.words[g]|0,R=a.words[g]|0;if(x!==R){x<R?f=-1:x>R&&(f=1);break}}return f},o.prototype.gtn=function(a){return this.cmpn(a)===1},o.prototype.gt=function(a){return this.cmp(a)===1},o.prototype.gten=function(a){return this.cmpn(a)>=0},o.prototype.gte=function(a){return this.cmp(a)>=0},o.prototype.ltn=function(a){return this.cmpn(a)===-1},o.prototype.lt=function(a){return this.cmp(a)===-1},o.prototype.lten=function(a){return this.cmpn(a)<=0},o.prototype.lte=function(a){return this.cmp(a)<=0},o.prototype.eqn=function(a){return this.cmpn(a)===0},o.prototype.eq=function(a){return this.cmp(a)===0},o.red=function(a){return new Z(a)},o.prototype.toRed=function(a){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),a.convertTo(this)._forceRed(a)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(a){return this.red=a,this},o.prototype.forceRed=function(a){return r(!this.red,"Already a number in reduction context"),this._forceRed(a)},o.prototype.redAdd=function(a){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,a)},o.prototype.redIAdd=function(a){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,a)},o.prototype.redSub=function(a){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,a)},o.prototype.redISub=function(a){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,a)},o.prototype.redShl=function(a){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,a)},o.prototype.redMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.mul(this,a)},o.prototype.redIMul=function(a){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,a),this.red.imul(this,a)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(a){return r(this.red&&!a.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,a)};var N={k256:null,p224:null,p192:null,p25519:null};function $(S,a){this.name=S,this.p=new o(a,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}$.prototype._tmp=function(){var a=new o(null);return a.words=new Array(Math.ceil(this.n/13)),a},$.prototype.ireduce=function(a){var f=a,g;do this.split(f,this.tmp),f=this.imulK(f),f=f.iadd(this.tmp),g=f.bitLength();while(g>this.n);var x=g<this.n?-1:f.ucmp(this.p);return x===0?(f.words[0]=0,f.length=1):x>0?f.isub(this.p):f.strip(),f},$.prototype.split=function(a,f){a.iushrn(this.n,0,f)},$.prototype.imulK=function(a){return a.imul(this.k)};function re(){$.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(re,$),re.prototype.split=function(a,f){for(var g=4194303,x=Math.min(a.length,9),R=0;R<x;R++)f.words[R]=a.words[R];if(f.length=x,a.length<=9){a.words[0]=0,a.length=1;return}var V=a.words[9];for(f.words[f.length++]=V&g,R=10;R<a.length;R++){var H=a.words[R]|0;a.words[R-10]=(H&g)<<4|V>>>22,V=H}V>>>=22,a.words[R-10]=V,V===0&&a.length>10?a.length-=10:a.length-=9},re.prototype.imulK=function(a){a.words[a.length]=0,a.words[a.length+1]=0,a.length+=2;for(var f=0,g=0;g<a.length;g++){var x=a.words[g]|0;f+=x*977,a.words[g]=f&67108863,f=x*64+(f/67108864|0)}return a.words[a.length-1]===0&&(a.length--,a.words[a.length-1]===0&&a.length--),a};function ue(){$.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(ue,$);function I(){$.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(I,$);function Y(){$.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(Y,$),Y.prototype.imulK=function(a){for(var f=0,g=0;g<a.length;g++){var x=(a.words[g]|0)*19+f,R=x&67108863;x>>>=26,a.words[g]=R,f=x}return f!==0&&(a.words[a.length++]=f),a},o._prime=function(a){if(N[a])return N[a];var f;if(a==="k256")f=new re;else if(a==="p224")f=new ue;else if(a==="p192")f=new I;else if(a==="p25519")f=new Y;else throw new Error("Unknown prime "+a);return N[a]=f,f};function Z(S){if(typeof S=="string"){var a=o._prime(S);this.m=a.p,this.prime=a}else r(S.gtn(1),"modulus must be greater than 1"),this.m=S,this.prime=null}Z.prototype._verify1=function(a){r(a.negative===0,"red works only with positives"),r(a.red,"red works only with red numbers")},Z.prototype._verify2=function(a,f){r((a.negative|f.negative)===0,"red works only with positives"),r(a.red&&a.red===f.red,"red works only with red numbers")},Z.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):a.umod(this.m)._forceRed(this)},Z.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},Z.prototype.add=function(a,f){this._verify2(a,f);var g=a.add(f);return g.cmp(this.m)>=0&&g.isub(this.m),g._forceRed(this)},Z.prototype.iadd=function(a,f){this._verify2(a,f);var g=a.iadd(f);return g.cmp(this.m)>=0&&g.isub(this.m),g},Z.prototype.sub=function(a,f){this._verify2(a,f);var g=a.sub(f);return g.cmpn(0)<0&&g.iadd(this.m),g._forceRed(this)},Z.prototype.isub=function(a,f){this._verify2(a,f);var g=a.isub(f);return g.cmpn(0)<0&&g.iadd(this.m),g},Z.prototype.shl=function(a,f){return this._verify1(a),this.imod(a.ushln(f))},Z.prototype.imul=function(a,f){return this._verify2(a,f),this.imod(a.imul(f))},Z.prototype.mul=function(a,f){return this._verify2(a,f),this.imod(a.mul(f))},Z.prototype.isqr=function(a){return this.imul(a,a.clone())},Z.prototype.sqr=function(a){return this.mul(a,a)},Z.prototype.sqrt=function(a){if(a.isZero())return a.clone();var f=this.m.andln(3);if(r(f%2===1),f===3){var g=this.m.add(new o(1)).iushrn(2);return this.pow(a,g)}for(var x=this.m.subn(1),R=0;!x.isZero()&&x.andln(1)===0;)R++,x.iushrn(1);r(!x.isZero());var V=new o(1).toRed(this),H=V.redNeg(),_=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new o(2*l*l).toRed(this);this.pow(l,_).cmp(H)!==0;)l.redIAdd(H);for(var P=this.pow(l,x),Te=this.pow(a,x.addn(1).iushrn(1)),ve=this.pow(a,x),we=R;ve.cmp(V)!==0;){for(var ie=ve,y=0;ie.cmp(V)!==0;y++)ie=ie.redSqr();r(y<we);var se=this.pow(P,new o(1).iushln(we-y-1));Te=Te.redMul(se),P=se.redSqr(),ve=ve.redMul(P),we=y}return Te},Z.prototype.invm=function(a){var f=a._invmp(this.m);return f.negative!==0?(f.negative=0,this.imod(f).redNeg()):this.imod(f)},Z.prototype.pow=function(a,f){if(f.isZero())return new o(1).toRed(this);if(f.cmpn(1)===0)return a.clone();var g=4,x=new Array(1<<g);x[0]=new o(1).toRed(this),x[1]=a;for(var R=2;R<x.length;R++)x[R]=this.mul(x[R-1],a);var V=x[0],H=0,_=0,l=f.bitLength()%26;for(l===0&&(l=26),R=f.length-1;R>=0;R--){for(var P=f.words[R],Te=l-1;Te>=0;Te--){var ve=P>>Te&1;if(V!==x[0]&&(V=this.sqr(V)),ve===0&&H===0){_=0;continue}H<<=1,H|=ve,_++,!(_!==g&&(R!==0||Te!==0))&&(V=this.mul(V,x[H]),_=0,H=0)}l=26}return V},Z.prototype.convertTo=function(a){var f=a.umod(this.m);return f===a?f.clone():f},Z.prototype.convertFrom=function(a){var f=a.clone();return f.red=null,f},o.mont=function(a){return new ge(a)};function ge(S){Z.call(this,S),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(ge,Z),ge.prototype.convertTo=function(a){return this.imod(a.ushln(this.shift))},ge.prototype.convertFrom=function(a){var f=this.imod(a.mul(this.rinv));return f.red=null,f},ge.prototype.imul=function(a,f){if(a.isZero()||f.isZero())return a.words[0]=0,a.length=1,a;var g=a.imul(f),x=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),R=g.isub(x).iushrn(this.shift),V=R;return R.cmp(this.m)>=0?V=R.isub(this.m):R.cmpn(0)<0&&(V=R.iadd(this.m)),V._forceRed(this)},ge.prototype.mul=function(a,f){if(a.isZero()||f.isZero())return new o(0)._forceRed(this);var g=a.mul(f),x=g.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),R=g.isub(x).iushrn(this.shift),V=R;return R.cmp(this.m)>=0?V=R.isub(this.m):R.cmpn(0)<0&&(V=R.iadd(this.m)),V._forceRed(this)},ge.prototype.invm=function(a){var f=this.imod(a._invmp(this.m).mul(this.r2));return f._forceRed(this)}})(n,Am)}(Ia)),Ia.exports}var Dm=Mm();const Tm=os(Dm);var Rc,al;function Bf(){if(al)return Rc;al=1,Rc=t,t.strict=r,t.loose=i;var n=Object.prototype.toString,e={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function t(o){return r(o)||i(o)}function r(o){return o instanceof Int8Array||o instanceof Int16Array||o instanceof Int32Array||o instanceof Uint8Array||o instanceof Uint8ClampedArray||o instanceof Uint16Array||o instanceof Uint32Array||o instanceof Float32Array||o instanceof Float64Array}function i(o){return e[n.call(o)]}return Rc}Bf();var _c,cl;function Im(){if(cl)return _c;cl=1;var n=Bf().strict;return _c=function(t){if(n(t)){var r=Buffer.from(t.buffer);return t.byteLength!==t.buffer.byteLength&&(r=r.slice(t.byteOffset,t.byteOffset+t.byteLength)),r}else return Buffer.from(t)},_c}var Rm=Im();const _m=os(Rm),Cf="hex",Nf="utf8",rc="0";function ji(n){return new Uint8Array(n)}function Vf(n,e=!1){const t=n.toString(Cf);return e?ss(t):t}function Pm(n){return n.toString(Nf)}function ic(n){return _m(n)}function qi(n,e=!1){return Vf(ic(n),e)}function Om(n){return Pm(ic(n))}function Bm(n){return Buffer.from(Tr(n),Cf)}function zi(n){return ji(Bm(n))}function mu(n){return Buffer.from(n,Nf)}function Cm(n){return ji(mu(n))}function Nm(n,e=!1){return Vf(mu(n),e)}function Vm(n,e){return!(typeof n!="string"||!n.match(/^0x[0-9A-Fa-f]*$/))}function Uf(...n){let e=[];return n.forEach(t=>e=e.concat(Array.from(t))),new Uint8Array([...e])}function Um(n,e=8){const t=n%e;return t?(n-t)/e*e+e:n}function Lm(n,e=8,t=rc){return $m(n,Um(n.length,e),t)}function $m(n,e,t=rc){return qm(n,e,!0,t)}function Tr(n){return n.replace(/^0x/,"")}function ss(n){return n.startsWith("0x")?n:`0x${n}`}function Lf(n){return n=Tr(n),n=Lm(n,2),n&&(n=ss(n)),n}function Fm(n){const e=n.startsWith("0x");return n=Tr(n),n=n.startsWith(rc)?n.substring(1):n,e?ss(n):n}function qm(n,e,t,r=rc){const i=e-n.length;let o=n;return i>0&&(o=r.repeat(i)+n),o}function hh(n){return ic(new Uint8Array(n))}function zm(n,e){return qi(new Uint8Array(n),!1)}function Hm(n){return ji(n).buffer}function Wm(n){return mu(n)}function jm(n,e){return Nm(n,!0)}function Gm(n){return zi(n).buffer}function $f(n,e){const t=Tr(Lf(new Tm(n).toString(16)));return e?t:ss(t)}var Pc={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */var hl;function Km(){return hl||(hl=1,function(n){(function(){var e="input is invalid type",t="finalize already called",r=typeof window=="object",i=r?window:{};i.JS_SHA3_NO_WINDOW&&(r=!1);var o=!r&&typeof self=="object",s=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;s?i=globalThis:o&&(i=self);var h=!i.JS_SHA3_NO_COMMON_JS&&!0&&n.exports,m=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",u="0123456789abcdef".split(""),v=[31,7936,2031616,520093696],T=[4,1024,262144,67108864],B=[1,256,65536,16777216],W=[6,1536,393216,100663296],U=[0,8,16,24],ne=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],E=[224,256,384,512],C=[128,256],N=["hex","buffer","arrayBuffer","array","digest"],$={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(y){return Object.prototype.toString.call(y)==="[object Array]"}),m&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(y){return typeof y=="object"&&y.buffer&&y.buffer.constructor===ArrayBuffer});for(var re=function(y,se,Se){return function(j){return new ve(y,se,y).update(j)[Se]()}},ue=function(y,se,Se){return function(j,te){return new ve(y,se,te).update(j)[Se]()}},I=function(y,se,Se){return function(j,te,w,k){return x["cshake"+y].update(j,te,w,k)[Se]()}},Y=function(y,se,Se){return function(j,te,w,k){return x["kmac"+y].update(j,te,w,k)[Se]()}},Z=function(y,se,Se,j){for(var te=0;te<N.length;++te){var w=N[te];y[w]=se(Se,j,w)}return y},ge=function(y,se){var Se=re(y,se,"hex");return Se.create=function(){return new ve(y,se,y)},Se.update=function(j){return Se.create().update(j)},Z(Se,re,y,se)},S=function(y,se){var Se=ue(y,se,"hex");return Se.create=function(j){return new ve(y,se,j)},Se.update=function(j,te){return Se.create(te).update(j)},Z(Se,ue,y,se)},a=function(y,se){var Se=$[y],j=I(y,se,"hex");return j.create=function(te,w,k){return!w&&!k?x["shake"+y].create(te):new ve(y,se,te).bytepad([w,k],Se)},j.update=function(te,w,k,O){return j.create(w,k,O).update(te)},Z(j,I,y,se)},f=function(y,se){var Se=$[y],j=Y(y,se,"hex");return j.create=function(te,w,k){return new we(y,se,w).bytepad(["KMAC",k],Se).bytepad([te],Se)},j.update=function(te,w,k,O){return j.create(te,k,O).update(w)},Z(j,Y,y,se)},g=[{name:"keccak",padding:B,bits:E,createMethod:ge},{name:"sha3",padding:W,bits:E,createMethod:ge},{name:"shake",padding:v,bits:C,createMethod:S},{name:"cshake",padding:T,bits:C,createMethod:a},{name:"kmac",padding:T,bits:C,createMethod:f}],x={},R=[],V=0;V<g.length;++V)for(var H=g[V],_=H.bits,l=0;l<_.length;++l){var P=H.name+"_"+_[l];if(R.push(P),x[P]=H.createMethod(_[l],H.padding),H.name!=="sha3"){var Te=H.name+_[l];R.push(Te),x[Te]=x[P]}}function ve(y,se,Se){this.blocks=[],this.s=[],this.padding=se,this.outputBits=Se,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(y<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=Se>>5,this.extraBytes=(Se&31)>>3;for(var j=0;j<50;++j)this.s[j]=0}ve.prototype.update=function(y){if(this.finalized)throw new Error(t);var se,Se=typeof y;if(Se!=="string"){if(Se==="object"){if(y===null)throw new Error(e);if(m&&y.constructor===ArrayBuffer)y=new Uint8Array(y);else if(!Array.isArray(y)&&(!m||!ArrayBuffer.isView(y)))throw new Error(e)}else throw new Error(e);se=!0}for(var j=this.blocks,te=this.byteCount,w=y.length,k=this.blockCount,O=0,ee=this.s,L,z;O<w;){if(this.reset)for(this.reset=!1,j[0]=this.block,L=1;L<k+1;++L)j[L]=0;if(se)for(L=this.start;O<w&&L<te;++O)j[L>>2]|=y[O]<<U[L++&3];else for(L=this.start;O<w&&L<te;++O)z=y.charCodeAt(O),z<128?j[L>>2]|=z<<U[L++&3]:z<2048?(j[L>>2]|=(192|z>>6)<<U[L++&3],j[L>>2]|=(128|z&63)<<U[L++&3]):z<55296||z>=57344?(j[L>>2]|=(224|z>>12)<<U[L++&3],j[L>>2]|=(128|z>>6&63)<<U[L++&3],j[L>>2]|=(128|z&63)<<U[L++&3]):(z=65536+((z&1023)<<10|y.charCodeAt(++O)&1023),j[L>>2]|=(240|z>>18)<<U[L++&3],j[L>>2]|=(128|z>>12&63)<<U[L++&3],j[L>>2]|=(128|z>>6&63)<<U[L++&3],j[L>>2]|=(128|z&63)<<U[L++&3]);if(this.lastByteIndex=L,L>=te){for(this.start=L-te,this.block=j[k],L=0;L<k;++L)ee[L]^=j[L];ie(ee),this.reset=!0}else this.start=L}return this},ve.prototype.encode=function(y,se){var Se=y&255,j=1,te=[Se];for(y=y>>8,Se=y&255;Se>0;)te.unshift(Se),y=y>>8,Se=y&255,++j;return se?te.push(j):te.unshift(j),this.update(te),te.length},ve.prototype.encodeString=function(y){var se,Se=typeof y;if(Se!=="string"){if(Se==="object"){if(y===null)throw new Error(e);if(m&&y.constructor===ArrayBuffer)y=new Uint8Array(y);else if(!Array.isArray(y)&&(!m||!ArrayBuffer.isView(y)))throw new Error(e)}else throw new Error(e);se=!0}var j=0,te=y.length;if(se)j=te;else for(var w=0;w<y.length;++w){var k=y.charCodeAt(w);k<128?j+=1:k<2048?j+=2:k<55296||k>=57344?j+=3:(k=65536+((k&1023)<<10|y.charCodeAt(++w)&1023),j+=4)}return j+=this.encode(j*8),this.update(y),j},ve.prototype.bytepad=function(y,se){for(var Se=this.encode(se),j=0;j<y.length;++j)Se+=this.encodeString(y[j]);var te=se-Se%se,w=[];return w.length=te,this.update(w),this},ve.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var y=this.blocks,se=this.lastByteIndex,Se=this.blockCount,j=this.s;if(y[se>>2]|=this.padding[se&3],this.lastByteIndex===this.byteCount)for(y[0]=y[Se],se=1;se<Se+1;++se)y[se]=0;for(y[Se-1]|=2147483648,se=0;se<Se;++se)j[se]^=y[se];ie(j)}},ve.prototype.toString=ve.prototype.hex=function(){this.finalize();for(var y=this.blockCount,se=this.s,Se=this.outputBlocks,j=this.extraBytes,te=0,w=0,k="",O;w<Se;){for(te=0;te<y&&w<Se;++te,++w)O=se[te],k+=u[O>>4&15]+u[O&15]+u[O>>12&15]+u[O>>8&15]+u[O>>20&15]+u[O>>16&15]+u[O>>28&15]+u[O>>24&15];w%y===0&&(ie(se),te=0)}return j&&(O=se[te],k+=u[O>>4&15]+u[O&15],j>1&&(k+=u[O>>12&15]+u[O>>8&15]),j>2&&(k+=u[O>>20&15]+u[O>>16&15])),k},ve.prototype.arrayBuffer=function(){this.finalize();var y=this.blockCount,se=this.s,Se=this.outputBlocks,j=this.extraBytes,te=0,w=0,k=this.outputBits>>3,O;j?O=new ArrayBuffer(Se+1<<2):O=new ArrayBuffer(k);for(var ee=new Uint32Array(O);w<Se;){for(te=0;te<y&&w<Se;++te,++w)ee[w]=se[te];w%y===0&&ie(se)}return j&&(ee[te]=se[te],O=O.slice(0,k)),O},ve.prototype.buffer=ve.prototype.arrayBuffer,ve.prototype.digest=ve.prototype.array=function(){this.finalize();for(var y=this.blockCount,se=this.s,Se=this.outputBlocks,j=this.extraBytes,te=0,w=0,k=[],O,ee;w<Se;){for(te=0;te<y&&w<Se;++te,++w)O=w<<2,ee=se[te],k[O]=ee&255,k[O+1]=ee>>8&255,k[O+2]=ee>>16&255,k[O+3]=ee>>24&255;w%y===0&&ie(se)}return j&&(O=w<<2,ee=se[te],k[O]=ee&255,j>1&&(k[O+1]=ee>>8&255),j>2&&(k[O+2]=ee>>16&255)),k};function we(y,se,Se){ve.call(this,y,se,Se)}we.prototype=new ve,we.prototype.finalize=function(){return this.encode(this.outputBits,!0),ve.prototype.finalize.call(this)};var ie=function(y){var se,Se,j,te,w,k,O,ee,L,z,ae,q,G,oe,J,he,Ee,ye,Oe,je,He,Ve,Qe,Ge,ht,Bt,st,Xe,Mt,Ke,We,rt,ft,dt,qt,mt,yt,jt,Dt,_t,bn,Vt,Ut,zn,zt,kt,Hn,d,b,A,c,D,Q,X,de,_e,$e,Ce,wt,Ue,et,tt,it;for(j=0;j<48;j+=2)te=y[0]^y[10]^y[20]^y[30]^y[40],w=y[1]^y[11]^y[21]^y[31]^y[41],k=y[2]^y[12]^y[22]^y[32]^y[42],O=y[3]^y[13]^y[23]^y[33]^y[43],ee=y[4]^y[14]^y[24]^y[34]^y[44],L=y[5]^y[15]^y[25]^y[35]^y[45],z=y[6]^y[16]^y[26]^y[36]^y[46],ae=y[7]^y[17]^y[27]^y[37]^y[47],q=y[8]^y[18]^y[28]^y[38]^y[48],G=y[9]^y[19]^y[29]^y[39]^y[49],se=q^(k<<1|O>>>31),Se=G^(O<<1|k>>>31),y[0]^=se,y[1]^=Se,y[10]^=se,y[11]^=Se,y[20]^=se,y[21]^=Se,y[30]^=se,y[31]^=Se,y[40]^=se,y[41]^=Se,se=te^(ee<<1|L>>>31),Se=w^(L<<1|ee>>>31),y[2]^=se,y[3]^=Se,y[12]^=se,y[13]^=Se,y[22]^=se,y[23]^=Se,y[32]^=se,y[33]^=Se,y[42]^=se,y[43]^=Se,se=k^(z<<1|ae>>>31),Se=O^(ae<<1|z>>>31),y[4]^=se,y[5]^=Se,y[14]^=se,y[15]^=Se,y[24]^=se,y[25]^=Se,y[34]^=se,y[35]^=Se,y[44]^=se,y[45]^=Se,se=ee^(q<<1|G>>>31),Se=L^(G<<1|q>>>31),y[6]^=se,y[7]^=Se,y[16]^=se,y[17]^=Se,y[26]^=se,y[27]^=Se,y[36]^=se,y[37]^=Se,y[46]^=se,y[47]^=Se,se=z^(te<<1|w>>>31),Se=ae^(w<<1|te>>>31),y[8]^=se,y[9]^=Se,y[18]^=se,y[19]^=Se,y[28]^=se,y[29]^=Se,y[38]^=se,y[39]^=Se,y[48]^=se,y[49]^=Se,oe=y[0],J=y[1],kt=y[11]<<4|y[10]>>>28,Hn=y[10]<<4|y[11]>>>28,Xe=y[20]<<3|y[21]>>>29,Mt=y[21]<<3|y[20]>>>29,Ue=y[31]<<9|y[30]>>>23,et=y[30]<<9|y[31]>>>23,Vt=y[40]<<18|y[41]>>>14,Ut=y[41]<<18|y[40]>>>14,dt=y[2]<<1|y[3]>>>31,qt=y[3]<<1|y[2]>>>31,he=y[13]<<12|y[12]>>>20,Ee=y[12]<<12|y[13]>>>20,d=y[22]<<10|y[23]>>>22,b=y[23]<<10|y[22]>>>22,Ke=y[33]<<13|y[32]>>>19,We=y[32]<<13|y[33]>>>19,tt=y[42]<<2|y[43]>>>30,it=y[43]<<2|y[42]>>>30,X=y[5]<<30|y[4]>>>2,de=y[4]<<30|y[5]>>>2,mt=y[14]<<6|y[15]>>>26,yt=y[15]<<6|y[14]>>>26,ye=y[25]<<11|y[24]>>>21,Oe=y[24]<<11|y[25]>>>21,A=y[34]<<15|y[35]>>>17,c=y[35]<<15|y[34]>>>17,rt=y[45]<<29|y[44]>>>3,ft=y[44]<<29|y[45]>>>3,Ge=y[6]<<28|y[7]>>>4,ht=y[7]<<28|y[6]>>>4,_e=y[17]<<23|y[16]>>>9,$e=y[16]<<23|y[17]>>>9,jt=y[26]<<25|y[27]>>>7,Dt=y[27]<<25|y[26]>>>7,je=y[36]<<21|y[37]>>>11,He=y[37]<<21|y[36]>>>11,D=y[47]<<24|y[46]>>>8,Q=y[46]<<24|y[47]>>>8,zn=y[8]<<27|y[9]>>>5,zt=y[9]<<27|y[8]>>>5,Bt=y[18]<<20|y[19]>>>12,st=y[19]<<20|y[18]>>>12,Ce=y[29]<<7|y[28]>>>25,wt=y[28]<<7|y[29]>>>25,_t=y[38]<<8|y[39]>>>24,bn=y[39]<<8|y[38]>>>24,Ve=y[48]<<14|y[49]>>>18,Qe=y[49]<<14|y[48]>>>18,y[0]=oe^~he&ye,y[1]=J^~Ee&Oe,y[10]=Ge^~Bt&Xe,y[11]=ht^~st&Mt,y[20]=dt^~mt&jt,y[21]=qt^~yt&Dt,y[30]=zn^~kt&d,y[31]=zt^~Hn&b,y[40]=X^~_e&Ce,y[41]=de^~$e&wt,y[2]=he^~ye&je,y[3]=Ee^~Oe&He,y[12]=Bt^~Xe&Ke,y[13]=st^~Mt&We,y[22]=mt^~jt&_t,y[23]=yt^~Dt&bn,y[32]=kt^~d&A,y[33]=Hn^~b&c,y[42]=_e^~Ce&Ue,y[43]=$e^~wt&et,y[4]=ye^~je&Ve,y[5]=Oe^~He&Qe,y[14]=Xe^~Ke&rt,y[15]=Mt^~We&ft,y[24]=jt^~_t&Vt,y[25]=Dt^~bn&Ut,y[34]=d^~A&D,y[35]=b^~c&Q,y[44]=Ce^~Ue&tt,y[45]=wt^~et&it,y[6]=je^~Ve&oe,y[7]=He^~Qe&J,y[16]=Ke^~rt&Ge,y[17]=We^~ft&ht,y[26]=_t^~Vt&dt,y[27]=bn^~Ut&qt,y[36]=A^~D&zn,y[37]=c^~Q&zt,y[46]=Ue^~tt&X,y[47]=et^~it&de,y[8]=Ve^~oe&he,y[9]=Qe^~J&Ee,y[18]=rt^~Ge&Bt,y[19]=ft^~ht&st,y[28]=Vt^~dt&mt,y[29]=Ut^~qt&yt,y[38]=D^~zn&kt,y[39]=Q^~zt&Hn,y[48]=tt^~X&_e,y[49]=it^~de&$e,y[0]^=ne[j],y[1]^=ne[j+1]};if(h)n.exports=x;else for(V=0;V<R.length;++V)i[R[V]]=x[R[V]]})()}(Pc)),Pc.exports}var Jm=Km(),Oc={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var uh=function(n,e){return uh=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])},uh(n,e)};function Ym(n,e){uh(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var lh=function(){return lh=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},lh.apply(this,arguments)};function Xm(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Zm(n,e,t,r){var i=arguments.length,o=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,t):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(n,e,t,r);else for(var h=n.length-1;h>=0;h--)(s=n[h])&&(o=(i<3?s(o):i>3?s(e,t,o):s(e,t))||o);return i>3&&o&&Object.defineProperty(e,t,o),o}function Qm(n,e){return function(t,r){e(t,r,n)}}function ey(n,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,e)}function ty(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function h(v){try{u(r.next(v))}catch(T){s(T)}}function m(v){try{u(r.throw(v))}catch(T){s(T)}}function u(v){v.done?o(v.value):i(v.value).then(h,m)}u((r=r.apply(n,e||[])).next())})}function ny(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function h(u){return function(v){return m([u,v])}}function m(u){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(v){u=[6,v],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function ry(n,e,t,r){r===void 0&&(r=t),n[r]=e[t]}function iy(n,e){for(var t in n)t!=="default"&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function fh(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ff(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),i,o=[],s;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(h){s={error:h}}finally{try{i&&!i.done&&(t=r.return)&&t.call(r)}finally{if(s)throw s.error}}return o}function oy(){for(var n=[],e=0;e<arguments.length;e++)n=n.concat(Ff(arguments[e]));return n}function sy(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),i=0,e=0;e<t;e++)for(var o=arguments[e],s=0,h=o.length;s<h;s++,i++)r[i]=o[s];return r}function Ms(n){return this instanceof Ms?(this.v=n,this):new Ms(n)}function ay(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(B){r[B]&&(i[B]=function(W){return new Promise(function(U,ne){o.push([B,W,U,ne])>1||h(B,W)})})}function h(B,W){try{m(r[B](W))}catch(U){T(o[0][3],U)}}function m(B){B.value instanceof Ms?Promise.resolve(B.value.v).then(u,v):T(o[0][2],B)}function u(B){h("next",B)}function v(B){h("throw",B)}function T(B,W){B(W),o.shift(),o.length&&h(o[0][0],o[0][1])}}function cy(n){var e,t;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,o){e[i]=n[i]?function(s){return(t=!t)?{value:Ms(n[i](s)),done:i==="return"}:o?o(s):s}:o}}function hy(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof fh=="function"?fh(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(h,m){s=n[o](s),i(h,m,s.done,s.value)})}}function i(o,s,h,m){Promise.resolve(m).then(function(u){o({value:u,done:h})},s)}}function uy(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n}function ly(n){if(n&&n.__esModule)return n;var e={};if(n!=null)for(var t in n)Object.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e.default=n,e}function fy(n){return n&&n.__esModule?n:{default:n}}function dy(n,e){if(!e.has(n))throw new TypeError("attempted to get private field on non-instance");return e.get(n)}function gy(n,e,t){if(!e.has(n))throw new TypeError("attempted to set private field on non-instance");return e.set(n,t),t}const py=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return lh},__asyncDelegator:cy,__asyncGenerator:ay,__asyncValues:hy,__await:Ms,__awaiter:ty,__classPrivateFieldGet:dy,__classPrivateFieldSet:gy,__createBinding:ry,__decorate:Zm,__exportStar:iy,__extends:Ym,__generator:ny,__importDefault:fy,__importStar:ly,__makeTemplateObject:uy,__metadata:ey,__param:Qm,__read:Ff,__rest:Xm,__spread:oy,__spreadArrays:sy,__values:fh},Symbol.toStringTag,{value:"Module"})),my=Tf(py);var ar={},ul;function yy(){if(ul)return ar;ul=1,Object.defineProperty(ar,"__esModule",{value:!0}),ar.isBrowserCryptoAvailable=ar.getSubtleCrypto=ar.getBrowerCrypto=void 0;function n(){return(globalThis==null?void 0:globalThis.crypto)||(globalThis==null?void 0:globalThis.msCrypto)||{}}ar.getBrowerCrypto=n;function e(){const r=n();return r.subtle||r.webkitSubtle}ar.getSubtleCrypto=e;function t(){return!!n()&&!!e()}return ar.isBrowserCryptoAvailable=t,ar}var cr={},ll;function wy(){if(ll)return cr;ll=1,Object.defineProperty(cr,"__esModule",{value:!0}),cr.isBrowser=cr.isNode=cr.isReactNative=void 0;function n(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}cr.isReactNative=n;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}cr.isNode=e;function t(){return!n()&&!e()}return cr.isBrowser=t,cr}var fl;function vy(){return fl||(fl=1,function(n){Object.defineProperty(n,"__esModule",{value:!0});const e=my;e.__exportStar(yy(),n),e.__exportStar(wy(),n)}(Oc)),Oc}var ma=vy();function Sy(n=3){const e=Date.now()*Math.pow(10,n),t=Math.floor(Math.random()*Math.pow(10,n));return e+t}function va(n){return Lf(n)}function Ey(n){return Fm(ss(n))}const by=Sy;function Bc(){return((e,t)=>{for(t=e="";e++<36;t+=e*51&52?(e^15?8^Math.random()*(e^20?16:4):4).toString(16):"-");return t})()}function xy(n){return n===""||typeof n=="string"&&n.trim()===""}function ky(n){return!(n&&n.length)}function qf(n,e){return Vm(n)}function Ay(n){return typeof n.method<"u"}function bs(n){return typeof n.result<"u"}function Na(n){return typeof n.error<"u"}function dl(n){return typeof n.event<"u"}function My(n){return bm.includes(n)||n.startsWith("wc_")}function Dy(n){return n.method.startsWith("wc_")?!0:!Pf.includes(n.method)}function Ty(n){n=Tr(n.toLowerCase());const e=Tr(Jm.keccak_256(Wm(n)));let t="";for(let r=0;r<n.length;r++)parseInt(e[r],16)>7?t+=n[r].toUpperCase():t+=n[r];return ss(t)}const Iy=n=>n?n.toLowerCase().substring(0,2)!=="0x"?!1:/^(0x)?[0-9a-f]{40}$/i.test(n)?/^(0x)?[0-9a-f]{40}$/.test(n)||/^(0x)?[0-9A-F]{40}$/.test(n)?!0:n===Ty(n):!1:!1;function gl(n){return!ky(n)&&!qf(n[0])&&(n[0]=jm(n[0])),n}function Cc(n){if(typeof n.type<"u"&&n.type!=="0")return n;if(typeof n.from>"u"||!Iy(n.from))throw new Error("Transaction object must include a valid 'from' value.");function e(i){let o=i;return(typeof i=="number"||typeof i=="string"&&!xy(i))&&(qf(i)?typeof i=="string"&&(o=va(i)):o=$f(i)),typeof o=="string"&&(o=Ey(o)),o}const t={from:va(n.from),to:typeof n.to>"u"?void 0:va(n.to),gasPrice:typeof n.gasPrice>"u"?"":e(n.gasPrice),gas:typeof n.gas>"u"?typeof n.gasLimit>"u"?"":e(n.gasLimit):e(n.gas),value:typeof n.value>"u"?"":e(n.value),nonce:typeof n.nonce>"u"?"":e(n.nonce),data:typeof n.data>"u"?"":va(n.data)||"0x"},r=["gasPrice","gas","value","nonce"];return Object.keys(t).forEach(i=>{(typeof t[i]>"u"||typeof t[i]=="string"&&!t[i].trim().length)&&r.includes(i)&&delete t[i]}),t}function Ry(n){const e=n.message||"Failed or Rejected Request";let t=-32e3;if(n&&!n.code)switch(e){case"Parse error":t=-32700;break;case"Invalid request":t=-32600;break;case"Method not found":t=-32601;break;case"Invalid params":t=-32602;break;case"Internal error":t=-32603;break;default:t=-32e3;break}const r={code:t,message:e};return n.data&&(r.data=n.data),r}var Nc={},Vc,pl;function _y(){return pl||(pl=1,Vc=n=>encodeURIComponent(n).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)),Vc}var Uc,ml;function Py(){if(ml)return Uc;ml=1;var n="%[a-f0-9]{2}",e=new RegExp("("+n+")|([^%]+?)","gi"),t=new RegExp("("+n+")+","gi");function r(s,h){try{return[decodeURIComponent(s.join(""))]}catch{}if(s.length===1)return s;h=h||1;var m=s.slice(0,h),u=s.slice(h);return Array.prototype.concat.call([],r(m),r(u))}function i(s){try{return decodeURIComponent(s)}catch{for(var h=s.match(e)||[],m=1;m<h.length;m++)s=r(h,m).join(""),h=s.match(e)||[];return s}}function o(s){for(var h={"%FE%FF":"","%FF%FE":""},m=t.exec(s);m;){try{h[m[0]]=decodeURIComponent(m[0])}catch{var u=i(m[0]);u!==m[0]&&(h[m[0]]=u)}m=t.exec(s)}h["%C2"]="";for(var v=Object.keys(h),T=0;T<v.length;T++){var B=v[T];s=s.replace(new RegExp(B,"g"),h[B])}return s}return Uc=function(s){if(typeof s!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof s+"`");try{return s=s.replace(/\+/g," "),decodeURIComponent(s)}catch{return o(s)}},Uc}var Lc,yl;function Oy(){return yl||(yl=1,Lc=(n,e)=>{if(!(typeof n=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[n];const t=n.indexOf(e);return t===-1?[n]:[n.slice(0,t),n.slice(t+e.length)]}),Lc}var wl;function By(){return wl||(wl=1,function(n){const e=_y(),t=Py(),r=Oy(),i=E=>E==null;function o(E){switch(E.arrayFormat){case"index":return C=>(N,$)=>{const re=N.length;return $===void 0||E.skipNull&&$===null||E.skipEmptyString&&$===""?N:$===null?[...N,[m(C,E),"[",re,"]"].join("")]:[...N,[m(C,E),"[",m(re,E),"]=",m($,E)].join("")]};case"bracket":return C=>(N,$)=>$===void 0||E.skipNull&&$===null||E.skipEmptyString&&$===""?N:$===null?[...N,[m(C,E),"[]"].join("")]:[...N,[m(C,E),"[]=",m($,E)].join("")];case"comma":case"separator":return C=>(N,$)=>$==null||$.length===0?N:N.length===0?[[m(C,E),"=",m($,E)].join("")]:[[N,m($,E)].join(E.arrayFormatSeparator)];default:return C=>(N,$)=>$===void 0||E.skipNull&&$===null||E.skipEmptyString&&$===""?N:$===null?[...N,m(C,E)]:[...N,[m(C,E),"=",m($,E)].join("")]}}function s(E){let C;switch(E.arrayFormat){case"index":return(N,$,re)=>{if(C=/\[(\d*)\]$/.exec(N),N=N.replace(/\[\d*\]$/,""),!C){re[N]=$;return}re[N]===void 0&&(re[N]={}),re[N][C[1]]=$};case"bracket":return(N,$,re)=>{if(C=/(\[\])$/.exec(N),N=N.replace(/\[\]$/,""),!C){re[N]=$;return}if(re[N]===void 0){re[N]=[$];return}re[N]=[].concat(re[N],$)};case"comma":case"separator":return(N,$,re)=>{const I=typeof $=="string"&&$.split("").indexOf(E.arrayFormatSeparator)>-1?$.split(E.arrayFormatSeparator).map(Y=>u(Y,E)):$===null?$:u($,E);re[N]=I};default:return(N,$,re)=>{if(re[N]===void 0){re[N]=$;return}re[N]=[].concat(re[N],$)}}}function h(E){if(typeof E!="string"||E.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function m(E,C){return C.encode?C.strict?e(E):encodeURIComponent(E):E}function u(E,C){return C.decode?t(E):E}function v(E){return Array.isArray(E)?E.sort():typeof E=="object"?v(Object.keys(E)).sort((C,N)=>Number(C)-Number(N)).map(C=>E[C]):E}function T(E){const C=E.indexOf("#");return C!==-1&&(E=E.slice(0,C)),E}function B(E){let C="";const N=E.indexOf("#");return N!==-1&&(C=E.slice(N)),C}function W(E){E=T(E);const C=E.indexOf("?");return C===-1?"":E.slice(C+1)}function U(E,C){return C.parseNumbers&&!Number.isNaN(Number(E))&&typeof E=="string"&&E.trim()!==""?E=Number(E):C.parseBooleans&&E!==null&&(E.toLowerCase()==="true"||E.toLowerCase()==="false")&&(E=E.toLowerCase()==="true"),E}function ne(E,C){C=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},C),h(C.arrayFormatSeparator);const N=s(C),$=Object.create(null);if(typeof E!="string"||(E=E.trim().replace(/^[?#&]/,""),!E))return $;for(const re of E.split("&")){let[ue,I]=r(C.decode?re.replace(/\+/g," "):re,"=");I=I===void 0?null:["comma","separator"].includes(C.arrayFormat)?I:u(I,C),N(u(ue,C),I,$)}for(const re of Object.keys($)){const ue=$[re];if(typeof ue=="object"&&ue!==null)for(const I of Object.keys(ue))ue[I]=U(ue[I],C);else $[re]=U(ue,C)}return C.sort===!1?$:(C.sort===!0?Object.keys($).sort():Object.keys($).sort(C.sort)).reduce((re,ue)=>{const I=$[ue];return I&&typeof I=="object"&&!Array.isArray(I)?re[ue]=v(I):re[ue]=I,re},Object.create(null))}n.extract=W,n.parse=ne,n.stringify=(E,C)=>{if(!E)return"";C=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},C),h(C.arrayFormatSeparator);const N=I=>C.skipNull&&i(E[I])||C.skipEmptyString&&E[I]==="",$=o(C),re={};for(const I of Object.keys(E))N(I)||(re[I]=E[I]);const ue=Object.keys(re);return C.sort!==!1&&ue.sort(C.sort),ue.map(I=>{const Y=E[I];return Y===void 0?"":Y===null?m(I,C):Array.isArray(Y)?Y.reduce($(I),[]).join("&"):m(I,C)+"="+m(Y,C)}).filter(I=>I.length>0).join("&")},n.parseUrl=(E,C)=>{C=Object.assign({decode:!0},C);const[N,$]=r(E,"#");return Object.assign({url:N.split("?")[0]||"",query:ne(W(E),C)},C&&C.parseFragmentIdentifier&&$?{fragmentIdentifier:u($,C)}:{})},n.stringifyUrl=(E,C)=>{C=Object.assign({encode:!0,strict:!0},C);const N=T(E.url).split("?")[0]||"",$=n.extract(E.url),re=n.parse($,{sort:!1}),ue=Object.assign(re,E.query);let I=n.stringify(ue,C);I&&(I=`?${I}`);let Y=B(E.url);return E.fragmentIdentifier&&(Y=`#${m(E.fragmentIdentifier,C)}`),`${N}${I}${Y}`}}(Nc)),Nc}var zf=By();function Cy(n){const e=n.indexOf("?")!==-1?n.indexOf("?"):void 0;return typeof e<"u"?n.substr(e):""}function Ny(n,e){let t=Hf(n);return t=Object.assign(Object.assign({},t),e),n=Vy(t),n}function Hf(n){return zf.parse(n)}function Vy(n){return zf.stringify(n)}function Uy(n){return typeof n.bridge<"u"}function Ly(n){const e=n.indexOf(":"),t=n.indexOf("?")!==-1?n.indexOf("?"):void 0,r=n.substring(0,e),i=n.substring(e+1,t);function o(T){const W=T.split("@");return{handshakeTopic:W[0],version:parseInt(W[1],10)}}const s=o(i),h=typeof t<"u"?n.substr(t):"";function m(T){const B=Hf(T);return{key:B.key||"",bridge:B.bridge||""}}const u=m(h);return Object.assign(Object.assign({protocol:r},s),u)}class $y{constructor(){this._eventEmitters=[],typeof window<"u"&&typeof window.addEventListener<"u"&&(window.addEventListener("online",()=>this.trigger("online")),window.addEventListener("offline",()=>this.trigger("offline")))}on(e,t){this._eventEmitters.push({event:e,callback:t})}trigger(e){let t=[];e&&(t=this._eventEmitters.filter(r=>r.event===e)),t.forEach(r=>{r.callback()})}}const Fy=typeof globalThis.WebSocket<"u"?globalThis.WebSocket:require("ws");class qy{constructor(e){if(this.opts=e,this._queue=[],this._events=[],this._subscriptions=[],this._protocol=e.protocol,this._version=e.version,this._url="",this._netMonitor=null,this._socket=null,this._nextSocket=null,this._subscriptions=e.subscriptions||[],this._netMonitor=e.netMonitor||new $y,!e.url||typeof e.url!="string")throw new Error("Missing or invalid WebSocket url");this._url=e.url,this._netMonitor.on("online",()=>this._socketCreate())}set readyState(e){}get readyState(){return this._socket?this._socket.readyState:-1}set connecting(e){}get connecting(){return this.readyState===0}set connected(e){}get connected(){return this.readyState===1}set closing(e){}get closing(){return this.readyState===2}set closed(e){}get closed(){return this.readyState===3}open(){this._socketCreate()}close(){this._socketClose()}send(e,t,r){if(!t||typeof t!="string")throw new Error("Missing or invalid topic field");this._socketSend({topic:t,type:"pub",payload:e,silent:!!r})}subscribe(e){this._socketSend({topic:e,type:"sub",payload:"",silent:!0})}on(e,t){this._events.push({event:e,callback:t})}_socketCreate(){if(this._nextSocket)return;const e=zy(this._url,this._protocol,this._version);if(this._nextSocket=new Fy(e),!this._nextSocket)throw new Error("Failed to create socket");this._nextSocket.onmessage=t=>this._socketReceive(t),this._nextSocket.onopen=()=>this._socketOpen(),this._nextSocket.onerror=t=>this._socketError(t),this._nextSocket.onclose=()=>{setTimeout(()=>{this._nextSocket=null,this._socketCreate()},1e3)}}_socketOpen(){this._socketClose(),this._socket=this._nextSocket,this._nextSocket=null,this._queueSubscriptions(),this._pushQueue()}_socketClose(){this._socket&&(this._socket.onclose=()=>{},this._socket.close())}_socketSend(e){const t=JSON.stringify(e);this._socket&&this._socket.readyState===1?this._socket.send(t):(this._setToQueue(e),this._socketCreate())}async _socketReceive(e){let t;try{t=JSON.parse(e.data)}catch{return}if(this._socketSend({topic:t.topic,type:"ack",payload:"",silent:!0}),this._socket&&this._socket.readyState===1){const r=this._events.filter(i=>i.event==="message");r&&r.length&&r.forEach(i=>i.callback(t))}}_socketError(e){const t=this._events.filter(r=>r.event==="error");t&&t.length&&t.forEach(r=>r.callback(e))}_queueSubscriptions(){this._subscriptions.forEach(t=>this._queue.push({topic:t,type:"sub",payload:"",silent:!0})),this._subscriptions=this.opts.subscriptions||[]}_setToQueue(e){this._queue.push(e)}_pushQueue(){this._queue.forEach(t=>this._socketSend(t)),this._queue=[]}}function zy(n,e,t){var r,i;const s=(n.startsWith("https")?n.replace("https","wss"):n.startsWith("http")?n.replace("http","ws"):n).split("?"),h=gm()?{protocol:e,version:t,env:"browser",host:((r=mm())===null||r===void 0?void 0:r.host)||""}:{protocol:e,version:t,env:((i=du())===null||i===void 0?void 0:i.name)||""},m=Ny(Cy(s[1]||""),h);return s[0]+"?"+m}const $c="Session currently connected",qr="Session currently disconnected",Hy="Session Rejected",Wy="Missing JSON RPC response",jy='JSON-RPC success response must include "result" field',Gy='JSON-RPC error response must include "error" field',Ky='JSON RPC request must have valid "method" value',Jy='JSON RPC request must have valid "id" value',Yy="Missing one of the required parameters: bridge / uri / session",vl="JSON RPC response format is invalid",Xy="URI format is invalid",Zy="QRCode Modal not provided",Sl="User close QRCode Modal";class Qy{constructor(){this._eventEmitters=[]}subscribe(e){this._eventEmitters.push(e)}unsubscribe(e){this._eventEmitters=this._eventEmitters.filter(t=>t.event!==e)}trigger(e){let t=[],r;Ay(e)?r=e.method:bs(e)||Na(e)?r=`response:${e.id}`:dl(e)?r=e.event:r="",r&&(t=this._eventEmitters.filter(i=>i.event===r)),(!t||!t.length)&&!My(r)&&!dl(r)&&(t=this._eventEmitters.filter(i=>i.event==="call_request")),t.forEach(i=>{if(Na(e)){const o=new Error(e.error.message);i.callback(o,null)}else i.callback(null,e)})}}class ew{constructor(e="walletconnect"){this.storageId=e}getSession(){let e=null;const t=Rf(this.storageId);return t&&Uy(t)&&(e=t),e}setSession(e){return Em(this.storageId,e),e}removeSession(){_f(this.storageId)}}const tw="walletconnect.org",nw="abcdefghijklmnopqrstuvwxyz0123456789",Wf=nw.split("").map(n=>`https://${n}.bridge.walletconnect.org`);function rw(n){let e=n.indexOf("//")>-1?n.split("/")[2]:n.split("/")[0];return e=e.split(":")[0],e=e.split("?")[0],e}function iw(n){return rw(n).split(".").slice(-2).join(".")}function ow(){return Math.floor(Math.random()*Wf.length)}function sw(){return Wf[ow()]}function aw(n){return iw(n)===tw}function cw(n){return aw(n)?sw():n}class hw{constructor(e){if(this.protocol="wc",this.version=1,this._bridge="",this._key=null,this._clientId="",this._clientMeta=null,this._peerId="",this._peerMeta=null,this._handshakeId=0,this._handshakeTopic="",this._connected=!1,this._accounts=[],this._chainId=0,this._networkId=0,this._rpcUrl="",this._eventManager=new Qy,this._clientMeta=il()||e.connectorOpts.clientMeta||null,this._cryptoLib=e.cryptoLib,this._sessionStorage=e.sessionStorage||new ew(e.connectorOpts.storageId),this._qrcodeModal=e.connectorOpts.qrcodeModal,this._qrcodeModalOptions=e.connectorOpts.qrcodeModalOptions,this._signingMethods=[...Pf,...e.connectorOpts.signingMethods||[]],!e.connectorOpts.bridge&&!e.connectorOpts.uri&&!e.connectorOpts.session)throw new Error(Yy);e.connectorOpts.bridge&&(this.bridge=cw(e.connectorOpts.bridge)),e.connectorOpts.uri&&(this.uri=e.connectorOpts.uri);const t=e.connectorOpts.session||this._getStorageSession();t&&(this.session=t),this.handshakeId&&this._subscribeToSessionResponse(this.handshakeId,"Session request rejected"),this._transport=e.transport||new qy({protocol:this.protocol,version:this.version,url:this.bridge,subscriptions:[this.clientId]}),this._subscribeToInternalEvents(),this._initTransport(),e.connectorOpts.uri&&this._subscribeToSessionRequest(),e.pushServerOpts&&this._registerPushServer(e.pushServerOpts)}set bridge(e){e&&(this._bridge=e)}get bridge(){return this._bridge}set key(e){if(!e)return;const t=Gm(e);this._key=t}get key(){return this._key?zm(this._key):""}set clientId(e){e&&(this._clientId=e)}get clientId(){let e=this._clientId;return e||(e=this._clientId=Bc()),this._clientId}set peerId(e){e&&(this._peerId=e)}get peerId(){return this._peerId}set clientMeta(e){}get clientMeta(){let e=this._clientMeta;return e||(e=this._clientMeta=il()),e}set peerMeta(e){this._peerMeta=e}get peerMeta(){return this._peerMeta}set handshakeTopic(e){e&&(this._handshakeTopic=e)}get handshakeTopic(){return this._handshakeTopic}set handshakeId(e){e&&(this._handshakeId=e)}get handshakeId(){return this._handshakeId}get uri(){return this._formatUri()}set uri(e){if(!e)return;const{handshakeTopic:t,bridge:r,key:i}=this._parseUri(e);this.handshakeTopic=t,this.bridge=r,this.key=i}set chainId(e){this._chainId=e}get chainId(){return this._chainId}set networkId(e){this._networkId=e}get networkId(){return this._networkId}set accounts(e){this._accounts=e}get accounts(){return this._accounts}set rpcUrl(e){this._rpcUrl=e}get rpcUrl(){return this._rpcUrl}set connected(e){}get connected(){return this._connected}set pending(e){}get pending(){return!!this._handshakeTopic}get session(){return{connected:this.connected,accounts:this.accounts,chainId:this.chainId,bridge:this.bridge,key:this.key,clientId:this.clientId,clientMeta:this.clientMeta,peerId:this.peerId,peerMeta:this.peerMeta,handshakeId:this.handshakeId,handshakeTopic:this.handshakeTopic}}set session(e){e&&(this._connected=e.connected,this.accounts=e.accounts,this.chainId=e.chainId,this.bridge=e.bridge,this.key=e.key,this.clientId=e.clientId,this.clientMeta=e.clientMeta,this.peerId=e.peerId,this.peerMeta=e.peerMeta,this.handshakeId=e.handshakeId,this.handshakeTopic=e.handshakeTopic)}on(e,t){const r={event:e,callback:t};this._eventManager.subscribe(r)}off(e){this._eventManager.unsubscribe(e)}async createInstantRequest(e){this._key=await this._generateKey();const t=this._formatRequest({method:"wc_instantRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,request:this._formatRequest(e)}]});this.handshakeId=t.id,this.handshakeTopic=Bc(),this._eventManager.trigger({event:"display_uri",params:[this.uri]}),this.on("modal_closed",()=>{throw new Error(Sl)});const r=()=>{this.killSession()};try{const i=await this._sendCallRequest(t);return i&&r(),i}catch(i){throw r(),i}}async connect(e){if(!this._qrcodeModal)throw new Error(Zy);return this.connected?{chainId:this.chainId,accounts:this.accounts}:(await this.createSession(e),new Promise(async(t,r)=>{this.on("modal_closed",()=>r(new Error(Sl))),this.on("connect",(i,o)=>{if(i)return r(i);t(o.params[0])})}))}async createSession(e){if(this._connected)throw new Error($c);if(this.pending)return;this._key=await this._generateKey();const t=this._formatRequest({method:"wc_sessionRequest",params:[{peerId:this.clientId,peerMeta:this.clientMeta,chainId:e&&e.chainId?e.chainId:null}]});this.handshakeId=t.id,this.handshakeTopic=Bc(),this._sendSessionRequest(t,"Session update rejected",{topic:this.handshakeTopic}),this._eventManager.trigger({event:"display_uri",params:[this.uri]})}approveSession(e){if(this._connected)throw new Error($c);this.chainId=e.chainId,this.accounts=e.accounts,this.networkId=e.networkId||0,this.rpcUrl=e.rpcUrl||"";const t={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl,peerId:this.clientId,peerMeta:this.clientMeta},r={id:this.handshakeId,jsonrpc:"2.0",result:t};this._sendResponse(r),this._connected=!0,this._setStorageSession(),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})}rejectSession(e){if(this._connected)throw new Error($c);const t=e&&e.message?e.message:Hy,r=this._formatResponse({id:this.handshakeId,error:{message:t}});this._sendResponse(r),this._connected=!1,this._eventManager.trigger({event:"disconnect",params:[{message:t}]}),this._removeStorageSession()}updateSession(e){if(!this._connected)throw new Error(qr);this.chainId=e.chainId,this.accounts=e.accounts,this.networkId=e.networkId||0,this.rpcUrl=e.rpcUrl||"";const t={approved:!0,chainId:this.chainId,networkId:this.networkId,accounts:this.accounts,rpcUrl:this.rpcUrl},r=this._formatRequest({method:"wc_sessionUpdate",params:[t]});this._sendSessionRequest(r,"Session update rejected"),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]}),this._manageStorageSession()}async killSession(e){const t=e?e.message:"Session Disconnected",r={approved:!1,chainId:null,networkId:null,accounts:null},i=this._formatRequest({method:"wc_sessionUpdate",params:[r]});await this._sendRequest(i),this._handleSessionDisconnect(t)}async sendTransaction(e){if(!this._connected)throw new Error(qr);const t=Cc(e),r=this._formatRequest({method:"eth_sendTransaction",params:[t]});return await this._sendCallRequest(r)}async signTransaction(e){if(!this._connected)throw new Error(qr);const t=Cc(e),r=this._formatRequest({method:"eth_signTransaction",params:[t]});return await this._sendCallRequest(r)}async signMessage(e){if(!this._connected)throw new Error(qr);const t=this._formatRequest({method:"eth_sign",params:e});return await this._sendCallRequest(t)}async signPersonalMessage(e){if(!this._connected)throw new Error(qr);e=gl(e);const t=this._formatRequest({method:"personal_sign",params:e});return await this._sendCallRequest(t)}async signTypedData(e){if(!this._connected)throw new Error(qr);const t=this._formatRequest({method:"eth_signTypedData",params:e});return await this._sendCallRequest(t)}async updateChain(e){if(!this._connected)throw new Error("Session currently disconnected");const t=this._formatRequest({method:"wallet_updateChain",params:[e]});return await this._sendCallRequest(t)}unsafeSend(e,t){return this._sendRequest(e,t),this._eventManager.trigger({event:"call_request_sent",params:[{request:e,options:t}]}),new Promise((r,i)=>{this._subscribeToResponse(e.id,(o,s)=>{if(o){i(o);return}if(!s)throw new Error(Wy);r(s)})})}async sendCustomRequest(e,t){if(!this._connected)throw new Error(qr);switch(e.method){case"eth_accounts":return this.accounts;case"eth_chainId":return $f(this.chainId);case"eth_sendTransaction":case"eth_signTransaction":e.params&&(e.params[0]=Cc(e.params[0]));break;case"personal_sign":e.params&&(e.params=gl(e.params));break}const r=this._formatRequest(e);return await this._sendCallRequest(r,t)}approveRequest(e){if(bs(e)){const t=this._formatResponse(e);this._sendResponse(t)}else throw new Error(jy)}rejectRequest(e){if(Na(e)){const t=this._formatResponse(e);this._sendResponse(t)}else throw new Error(Gy)}transportClose(){this._transport.close()}async _sendRequest(e,t){const r=this._formatRequest(e),i=await this._encrypt(r),o=typeof(t==null?void 0:t.topic)<"u"?t.topic:this.peerId,s=JSON.stringify(i),h=typeof(t==null?void 0:t.forcePushNotification)<"u"?!t.forcePushNotification:Dy(r);this._transport.send(s,o,h)}async _sendResponse(e){const t=await this._encrypt(e),r=this.peerId,i=JSON.stringify(t);this._transport.send(i,r,!0)}async _sendSessionRequest(e,t,r){this._sendRequest(e,r),this._subscribeToSessionResponse(e.id,t)}_sendCallRequest(e,t){return this._sendRequest(e,t),this._eventManager.trigger({event:"call_request_sent",params:[{request:e,options:t}]}),this._subscribeToCallResponse(e.id)}_formatRequest(e){if(typeof e.method>"u")throw new Error(Ky);return{id:typeof e.id>"u"?by():e.id,jsonrpc:"2.0",method:e.method,params:typeof e.params>"u"?[]:e.params}}_formatResponse(e){if(typeof e.id>"u")throw new Error(Jy);const t={id:e.id,jsonrpc:"2.0"};if(Na(e)){const r=Ry(e.error);return Object.assign(Object.assign(Object.assign({},t),e),{error:r})}else if(bs(e))return Object.assign(Object.assign({},t),e);throw new Error(vl)}_handleSessionDisconnect(e){const t=e||"Session Disconnected";this._connected||(this._qrcodeModal&&this._qrcodeModal.close(),_f(ol)),this._connected&&(this._connected=!1),this._handshakeId&&(this._handshakeId=0),this._handshakeTopic&&(this._handshakeTopic=""),this._peerId&&(this._peerId=""),this._eventManager.trigger({event:"disconnect",params:[{message:t}]}),this._removeStorageSession(),this.transportClose()}_handleSessionResponse(e,t){t?t.approved?(this._connected?(t.chainId&&(this.chainId=t.chainId),t.accounts&&(this.accounts=t.accounts),this._eventManager.trigger({event:"session_update",params:[{chainId:this.chainId,accounts:this.accounts}]})):(this._connected=!0,t.chainId&&(this.chainId=t.chainId),t.accounts&&(this.accounts=t.accounts),t.peerId&&!this.peerId&&(this.peerId=t.peerId),t.peerMeta&&!this.peerMeta&&(this.peerMeta=t.peerMeta),this._eventManager.trigger({event:"connect",params:[{peerId:this.peerId,peerMeta:this.peerMeta,chainId:this.chainId,accounts:this.accounts}]})),this._manageStorageSession()):this._handleSessionDisconnect(e):this._handleSessionDisconnect(e)}async _handleIncomingMessages(e){if(![this.clientId,this.handshakeTopic].includes(e.topic))return;let r;try{r=JSON.parse(e.payload)}catch{return}const i=await this._decrypt(r);i&&this._eventManager.trigger(i)}_subscribeToSessionRequest(){this._transport.subscribe(this.handshakeTopic)}_subscribeToResponse(e,t){this.on(`response:${e}`,t)}_subscribeToSessionResponse(e,t){this._subscribeToResponse(e,(r,i)=>{if(r){this._handleSessionResponse(r.message);return}bs(i)?this._handleSessionResponse(t,i.result):i.error&&i.error.message?this._handleSessionResponse(i.error.message):this._handleSessionResponse(t)})}_subscribeToCallResponse(e){return new Promise((t,r)=>{this._subscribeToResponse(e,(i,o)=>{if(i){r(i);return}bs(o)?t(o.result):o.error&&o.error.message?r(o.error):r(new Error(vl))})})}_subscribeToInternalEvents(){this.on("display_uri",()=>{this._qrcodeModal&&this._qrcodeModal.open(this.uri,()=>{this._eventManager.trigger({event:"modal_closed",params:[]})},this._qrcodeModalOptions)}),this.on("connect",()=>{this._qrcodeModal&&this._qrcodeModal.close()}),this.on("call_request_sent",(e,t)=>{const{request:r}=t.params[0];if(fm()&&this._signingMethods.includes(r.method)){const i=Rf(ol);i&&(window.location.href=i.href)}}),this.on("wc_sessionRequest",(e,t)=>{e&&this._eventManager.trigger({event:"error",params:[{code:"SESSION_REQUEST_ERROR",message:e.toString()}]}),this.handshakeId=t.id,this.peerId=t.params[0].peerId,this.peerMeta=t.params[0].peerMeta;const r=Object.assign(Object.assign({},t),{method:"session_request"});this._eventManager.trigger(r)}),this.on("wc_sessionUpdate",(e,t)=>{e&&this._handleSessionResponse(e.message),this._handleSessionResponse("Session disconnected",t.params[0])})}_initTransport(){this._transport.on("message",e=>this._handleIncomingMessages(e)),this._transport.on("open",()=>this._eventManager.trigger({event:"transport_open",params:[]})),this._transport.on("close",()=>this._eventManager.trigger({event:"transport_close",params:[]})),this._transport.on("error",()=>this._eventManager.trigger({event:"transport_error",params:["Websocket connection failed"]})),this._transport.open()}_formatUri(){const e=this.protocol,t=this.handshakeTopic,r=this.version,i=encodeURIComponent(this.bridge),o=this.key;return`${e}:${t}@${r}?bridge=${i}&key=${o}`}_parseUri(e){const t=Ly(e);if(t.protocol===this.protocol){if(!t.handshakeTopic)throw Error("Invalid or missing handshakeTopic parameter value");const r=t.handshakeTopic;if(!t.bridge)throw Error("Invalid or missing bridge url parameter value");const i=decodeURIComponent(t.bridge);if(!t.key)throw Error("Invalid or missing key parameter value");const o=t.key;return{handshakeTopic:r,bridge:i,key:o}}else throw new Error(Xy)}async _generateKey(){return this._cryptoLib?await this._cryptoLib.generateKey():null}async _encrypt(e){const t=this._key;return this._cryptoLib&&t?await this._cryptoLib.encrypt(e,t):null}async _decrypt(e){const t=this._key;return this._cryptoLib&&t?await this._cryptoLib.decrypt(e,t):null}_getStorageSession(){let e=null;return this._sessionStorage&&(e=this._sessionStorage.getSession()),e}_setStorageSession(){this._sessionStorage&&this._sessionStorage.setSession(this.session)}_removeStorageSession(){this._sessionStorage&&this._sessionStorage.removeSession()}_manageStorageSession(){this._connected?this._setStorageSession():this._removeStorageSession()}_registerPushServer(e){if(!e.url||typeof e.url!="string")throw Error("Invalid or missing pushServerOpts.url parameter value");if(!e.type||typeof e.type!="string")throw Error("Invalid or missing pushServerOpts.type parameter value");if(!e.token||typeof e.token!="string")throw Error("Invalid or missing pushServerOpts.token parameter value");const t={bridge:this.bridge,topic:this.clientId,type:e.type,token:e.token,peerName:"",language:e.language||""};this.on("connect",async(r,i)=>{if(r)throw r;if(e.peerMeta){const o=i.params[0].peerMeta.name;t.peerName=o}try{if(!(await(await fetch(`${e.url}/new`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)})).json()).success)throw Error("Failed to register in Push Server")}catch{throw Error("Failed to register in Push Server")}})}}function uw(n){return ma.getBrowerCrypto().getRandomValues(new Uint8Array(n))}const jf=256,Gf=jf,lw=jf,Ir="AES-CBC",fw=`SHA-${Gf}`,dh="HMAC",dw="encrypt",gw="decrypt",pw="sign",mw="verify";function yw(n){return n===Ir?{length:Gf,name:Ir}:{hash:{name:fw},name:dh}}function ww(n){return n===Ir?[dw,gw]:[pw,mw]}async function yu(n,e=Ir){return ma.getSubtleCrypto().importKey("raw",n,yw(e),!0,ww(e))}async function vw(n,e,t){const r=ma.getSubtleCrypto(),i=await yu(e,Ir),o=await r.encrypt({iv:n,name:Ir},i,t);return new Uint8Array(o)}async function Sw(n,e,t){const r=ma.getSubtleCrypto(),i=await yu(e,Ir),o=await r.decrypt({iv:n,name:Ir},i,t);return new Uint8Array(o)}async function Ew(n,e){const t=ma.getSubtleCrypto(),r=await yu(n,dh),i=await t.sign({length:lw,name:dh},r,e);return new Uint8Array(i)}function bw(n,e,t){return vw(n,e,t)}function xw(n,e,t){return Sw(n,e,t)}async function Kf(n,e){return await Ew(n,e)}async function Jf(n){const e=(n||256)/8,t=uw(e);return Hm(ic(t))}async function Yf(n,e){const t=zi(n.data),r=zi(n.iv),i=zi(n.hmac),o=qi(i,!1),s=Uf(t,r),h=await Kf(e,s),m=qi(h,!1);return Tr(o)===Tr(m)}async function kw(n,e,t){const r=ji(hh(e)),i=t||await Jf(128),o=ji(hh(i)),s=qi(o,!1),h=JSON.stringify(n),m=Cm(h),u=await bw(o,r,m),v=qi(u,!1),T=Uf(u,o),B=await Kf(r,T),W=qi(B,!1);return{data:v,hmac:W,iv:s}}async function Aw(n,e){const t=ji(hh(e));if(!t)throw new Error("Missing key: required for decryption");if(!await Yf(n,t))return null;const i=zi(n.data),o=zi(n.iv),s=await xw(o,t,i),h=Om(s);let m;try{m=JSON.parse(h)}catch{return null}return m}const Mw=Object.freeze(Object.defineProperty({__proto__:null,decrypt:Aw,encrypt:kw,generateKey:Jf,verifyHmac:Yf},Symbol.toStringTag,{value:"Module"}));class El extends hw{constructor(e,t){super({cryptoLib:Mw,connectorOpts:e,pushServerOpts:t})}}function Dw(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Fc={exports:{}},bl;function Tw(){return bl||(bl=1,function(n){(function(e){var t=function(d){var b,A=new Float64Array(16);if(d)for(b=0;b<d.length;b++)A[b]=d[b];return A},r=function(){throw new Error("no PRNG")},i=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var s=t(),h=t([1]),m=t([56129,1]),u=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),v=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),T=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),B=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),W=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function U(d,b,A,c){d[b]=A>>24&255,d[b+1]=A>>16&255,d[b+2]=A>>8&255,d[b+3]=A&255,d[b+4]=c>>24&255,d[b+5]=c>>16&255,d[b+6]=c>>8&255,d[b+7]=c&255}function ne(d,b,A,c,D){var Q,X=0;for(Q=0;Q<D;Q++)X|=d[b+Q]^A[c+Q];return(1&X-1>>>8)-1}function E(d,b,A,c){return ne(d,b,A,c,16)}function C(d,b,A,c){return ne(d,b,A,c,32)}function N(d,b,A,c){for(var D=c[0]&255|(c[1]&255)<<8|(c[2]&255)<<16|(c[3]&255)<<24,Q=A[0]&255|(A[1]&255)<<8|(A[2]&255)<<16|(A[3]&255)<<24,X=A[4]&255|(A[5]&255)<<8|(A[6]&255)<<16|(A[7]&255)<<24,de=A[8]&255|(A[9]&255)<<8|(A[10]&255)<<16|(A[11]&255)<<24,_e=A[12]&255|(A[13]&255)<<8|(A[14]&255)<<16|(A[15]&255)<<24,$e=c[4]&255|(c[5]&255)<<8|(c[6]&255)<<16|(c[7]&255)<<24,Ce=b[0]&255|(b[1]&255)<<8|(b[2]&255)<<16|(b[3]&255)<<24,wt=b[4]&255|(b[5]&255)<<8|(b[6]&255)<<16|(b[7]&255)<<24,Ue=b[8]&255|(b[9]&255)<<8|(b[10]&255)<<16|(b[11]&255)<<24,et=b[12]&255|(b[13]&255)<<8|(b[14]&255)<<16|(b[15]&255)<<24,tt=c[8]&255|(c[9]&255)<<8|(c[10]&255)<<16|(c[11]&255)<<24,it=A[16]&255|(A[17]&255)<<8|(A[18]&255)<<16|(A[19]&255)<<24,gt=A[20]&255|(A[21]&255)<<8|(A[22]&255)<<16|(A[23]&255)<<24,at=A[24]&255|(A[25]&255)<<8|(A[26]&255)<<16|(A[27]&255)<<24,ut=A[28]&255|(A[29]&255)<<8|(A[30]&255)<<16|(A[31]&255)<<24,ct=c[12]&255|(c[13]&255)<<8|(c[14]&255)<<16|(c[15]&255)<<24,Fe=D,Je=Q,Le=X,qe=de,ze=_e,Ne=$e,le=Ce,fe=wt,De=Ue,be=et,ke=tt,Pe=it,nt=gt,vt=at,bt=ut,St=ct,F,At=0;At<20;At+=2)F=Fe+nt|0,ze^=F<<7|F>>>25,F=ze+Fe|0,De^=F<<9|F>>>23,F=De+ze|0,nt^=F<<13|F>>>19,F=nt+De|0,Fe^=F<<18|F>>>14,F=Ne+Je|0,be^=F<<7|F>>>25,F=be+Ne|0,vt^=F<<9|F>>>23,F=vt+be|0,Je^=F<<13|F>>>19,F=Je+vt|0,Ne^=F<<18|F>>>14,F=ke+le|0,bt^=F<<7|F>>>25,F=bt+ke|0,Le^=F<<9|F>>>23,F=Le+bt|0,le^=F<<13|F>>>19,F=le+Le|0,ke^=F<<18|F>>>14,F=St+Pe|0,qe^=F<<7|F>>>25,F=qe+St|0,fe^=F<<9|F>>>23,F=fe+qe|0,Pe^=F<<13|F>>>19,F=Pe+fe|0,St^=F<<18|F>>>14,F=Fe+qe|0,Je^=F<<7|F>>>25,F=Je+Fe|0,Le^=F<<9|F>>>23,F=Le+Je|0,qe^=F<<13|F>>>19,F=qe+Le|0,Fe^=F<<18|F>>>14,F=Ne+ze|0,le^=F<<7|F>>>25,F=le+Ne|0,fe^=F<<9|F>>>23,F=fe+le|0,ze^=F<<13|F>>>19,F=ze+fe|0,Ne^=F<<18|F>>>14,F=ke+be|0,Pe^=F<<7|F>>>25,F=Pe+ke|0,De^=F<<9|F>>>23,F=De+Pe|0,be^=F<<13|F>>>19,F=be+De|0,ke^=F<<18|F>>>14,F=St+bt|0,nt^=F<<7|F>>>25,F=nt+St|0,vt^=F<<9|F>>>23,F=vt+nt|0,bt^=F<<13|F>>>19,F=bt+vt|0,St^=F<<18|F>>>14;Fe=Fe+D|0,Je=Je+Q|0,Le=Le+X|0,qe=qe+de|0,ze=ze+_e|0,Ne=Ne+$e|0,le=le+Ce|0,fe=fe+wt|0,De=De+Ue|0,be=be+et|0,ke=ke+tt|0,Pe=Pe+it|0,nt=nt+gt|0,vt=vt+at|0,bt=bt+ut|0,St=St+ct|0,d[0]=Fe>>>0&255,d[1]=Fe>>>8&255,d[2]=Fe>>>16&255,d[3]=Fe>>>24&255,d[4]=Je>>>0&255,d[5]=Je>>>8&255,d[6]=Je>>>16&255,d[7]=Je>>>24&255,d[8]=Le>>>0&255,d[9]=Le>>>8&255,d[10]=Le>>>16&255,d[11]=Le>>>24&255,d[12]=qe>>>0&255,d[13]=qe>>>8&255,d[14]=qe>>>16&255,d[15]=qe>>>24&255,d[16]=ze>>>0&255,d[17]=ze>>>8&255,d[18]=ze>>>16&255,d[19]=ze>>>24&255,d[20]=Ne>>>0&255,d[21]=Ne>>>8&255,d[22]=Ne>>>16&255,d[23]=Ne>>>24&255,d[24]=le>>>0&255,d[25]=le>>>8&255,d[26]=le>>>16&255,d[27]=le>>>24&255,d[28]=fe>>>0&255,d[29]=fe>>>8&255,d[30]=fe>>>16&255,d[31]=fe>>>24&255,d[32]=De>>>0&255,d[33]=De>>>8&255,d[34]=De>>>16&255,d[35]=De>>>24&255,d[36]=be>>>0&255,d[37]=be>>>8&255,d[38]=be>>>16&255,d[39]=be>>>24&255,d[40]=ke>>>0&255,d[41]=ke>>>8&255,d[42]=ke>>>16&255,d[43]=ke>>>24&255,d[44]=Pe>>>0&255,d[45]=Pe>>>8&255,d[46]=Pe>>>16&255,d[47]=Pe>>>24&255,d[48]=nt>>>0&255,d[49]=nt>>>8&255,d[50]=nt>>>16&255,d[51]=nt>>>24&255,d[52]=vt>>>0&255,d[53]=vt>>>8&255,d[54]=vt>>>16&255,d[55]=vt>>>24&255,d[56]=bt>>>0&255,d[57]=bt>>>8&255,d[58]=bt>>>16&255,d[59]=bt>>>24&255,d[60]=St>>>0&255,d[61]=St>>>8&255,d[62]=St>>>16&255,d[63]=St>>>24&255}function $(d,b,A,c){for(var D=c[0]&255|(c[1]&255)<<8|(c[2]&255)<<16|(c[3]&255)<<24,Q=A[0]&255|(A[1]&255)<<8|(A[2]&255)<<16|(A[3]&255)<<24,X=A[4]&255|(A[5]&255)<<8|(A[6]&255)<<16|(A[7]&255)<<24,de=A[8]&255|(A[9]&255)<<8|(A[10]&255)<<16|(A[11]&255)<<24,_e=A[12]&255|(A[13]&255)<<8|(A[14]&255)<<16|(A[15]&255)<<24,$e=c[4]&255|(c[5]&255)<<8|(c[6]&255)<<16|(c[7]&255)<<24,Ce=b[0]&255|(b[1]&255)<<8|(b[2]&255)<<16|(b[3]&255)<<24,wt=b[4]&255|(b[5]&255)<<8|(b[6]&255)<<16|(b[7]&255)<<24,Ue=b[8]&255|(b[9]&255)<<8|(b[10]&255)<<16|(b[11]&255)<<24,et=b[12]&255|(b[13]&255)<<8|(b[14]&255)<<16|(b[15]&255)<<24,tt=c[8]&255|(c[9]&255)<<8|(c[10]&255)<<16|(c[11]&255)<<24,it=A[16]&255|(A[17]&255)<<8|(A[18]&255)<<16|(A[19]&255)<<24,gt=A[20]&255|(A[21]&255)<<8|(A[22]&255)<<16|(A[23]&255)<<24,at=A[24]&255|(A[25]&255)<<8|(A[26]&255)<<16|(A[27]&255)<<24,ut=A[28]&255|(A[29]&255)<<8|(A[30]&255)<<16|(A[31]&255)<<24,ct=c[12]&255|(c[13]&255)<<8|(c[14]&255)<<16|(c[15]&255)<<24,Fe=D,Je=Q,Le=X,qe=de,ze=_e,Ne=$e,le=Ce,fe=wt,De=Ue,be=et,ke=tt,Pe=it,nt=gt,vt=at,bt=ut,St=ct,F,At=0;At<20;At+=2)F=Fe+nt|0,ze^=F<<7|F>>>25,F=ze+Fe|0,De^=F<<9|F>>>23,F=De+ze|0,nt^=F<<13|F>>>19,F=nt+De|0,Fe^=F<<18|F>>>14,F=Ne+Je|0,be^=F<<7|F>>>25,F=be+Ne|0,vt^=F<<9|F>>>23,F=vt+be|0,Je^=F<<13|F>>>19,F=Je+vt|0,Ne^=F<<18|F>>>14,F=ke+le|0,bt^=F<<7|F>>>25,F=bt+ke|0,Le^=F<<9|F>>>23,F=Le+bt|0,le^=F<<13|F>>>19,F=le+Le|0,ke^=F<<18|F>>>14,F=St+Pe|0,qe^=F<<7|F>>>25,F=qe+St|0,fe^=F<<9|F>>>23,F=fe+qe|0,Pe^=F<<13|F>>>19,F=Pe+fe|0,St^=F<<18|F>>>14,F=Fe+qe|0,Je^=F<<7|F>>>25,F=Je+Fe|0,Le^=F<<9|F>>>23,F=Le+Je|0,qe^=F<<13|F>>>19,F=qe+Le|0,Fe^=F<<18|F>>>14,F=Ne+ze|0,le^=F<<7|F>>>25,F=le+Ne|0,fe^=F<<9|F>>>23,F=fe+le|0,ze^=F<<13|F>>>19,F=ze+fe|0,Ne^=F<<18|F>>>14,F=ke+be|0,Pe^=F<<7|F>>>25,F=Pe+ke|0,De^=F<<9|F>>>23,F=De+Pe|0,be^=F<<13|F>>>19,F=be+De|0,ke^=F<<18|F>>>14,F=St+bt|0,nt^=F<<7|F>>>25,F=nt+St|0,vt^=F<<9|F>>>23,F=vt+nt|0,bt^=F<<13|F>>>19,F=bt+vt|0,St^=F<<18|F>>>14;d[0]=Fe>>>0&255,d[1]=Fe>>>8&255,d[2]=Fe>>>16&255,d[3]=Fe>>>24&255,d[4]=Ne>>>0&255,d[5]=Ne>>>8&255,d[6]=Ne>>>16&255,d[7]=Ne>>>24&255,d[8]=ke>>>0&255,d[9]=ke>>>8&255,d[10]=ke>>>16&255,d[11]=ke>>>24&255,d[12]=St>>>0&255,d[13]=St>>>8&255,d[14]=St>>>16&255,d[15]=St>>>24&255,d[16]=le>>>0&255,d[17]=le>>>8&255,d[18]=le>>>16&255,d[19]=le>>>24&255,d[20]=fe>>>0&255,d[21]=fe>>>8&255,d[22]=fe>>>16&255,d[23]=fe>>>24&255,d[24]=De>>>0&255,d[25]=De>>>8&255,d[26]=De>>>16&255,d[27]=De>>>24&255,d[28]=be>>>0&255,d[29]=be>>>8&255,d[30]=be>>>16&255,d[31]=be>>>24&255}function re(d,b,A,c){N(d,b,A,c)}function ue(d,b,A,c){$(d,b,A,c)}var I=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function Y(d,b,A,c,D,Q,X){var de=new Uint8Array(16),_e=new Uint8Array(64),$e,Ce;for(Ce=0;Ce<16;Ce++)de[Ce]=0;for(Ce=0;Ce<8;Ce++)de[Ce]=Q[Ce];for(;D>=64;){for(re(_e,de,X,I),Ce=0;Ce<64;Ce++)d[b+Ce]=A[c+Ce]^_e[Ce];for($e=1,Ce=8;Ce<16;Ce++)$e=$e+(de[Ce]&255)|0,de[Ce]=$e&255,$e>>>=8;D-=64,b+=64,c+=64}if(D>0)for(re(_e,de,X,I),Ce=0;Ce<D;Ce++)d[b+Ce]=A[c+Ce]^_e[Ce];return 0}function Z(d,b,A,c,D){var Q=new Uint8Array(16),X=new Uint8Array(64),de,_e;for(_e=0;_e<16;_e++)Q[_e]=0;for(_e=0;_e<8;_e++)Q[_e]=c[_e];for(;A>=64;){for(re(X,Q,D,I),_e=0;_e<64;_e++)d[b+_e]=X[_e];for(de=1,_e=8;_e<16;_e++)de=de+(Q[_e]&255)|0,Q[_e]=de&255,de>>>=8;A-=64,b+=64}if(A>0)for(re(X,Q,D,I),_e=0;_e<A;_e++)d[b+_e]=X[_e];return 0}function ge(d,b,A,c,D){var Q=new Uint8Array(32);ue(Q,c,D,I);for(var X=new Uint8Array(8),de=0;de<8;de++)X[de]=c[de+16];return Z(d,b,A,X,Q)}function S(d,b,A,c,D,Q,X){var de=new Uint8Array(32);ue(de,Q,X,I);for(var _e=new Uint8Array(8),$e=0;$e<8;$e++)_e[$e]=Q[$e+16];return Y(d,b,A,c,D,_e,de)}var a=function(d){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var b,A,c,D,Q,X,de,_e;b=d[0]&255|(d[1]&255)<<8,this.r[0]=b&8191,A=d[2]&255|(d[3]&255)<<8,this.r[1]=(b>>>13|A<<3)&8191,c=d[4]&255|(d[5]&255)<<8,this.r[2]=(A>>>10|c<<6)&7939,D=d[6]&255|(d[7]&255)<<8,this.r[3]=(c>>>7|D<<9)&8191,Q=d[8]&255|(d[9]&255)<<8,this.r[4]=(D>>>4|Q<<12)&255,this.r[5]=Q>>>1&8190,X=d[10]&255|(d[11]&255)<<8,this.r[6]=(Q>>>14|X<<2)&8191,de=d[12]&255|(d[13]&255)<<8,this.r[7]=(X>>>11|de<<5)&8065,_e=d[14]&255|(d[15]&255)<<8,this.r[8]=(de>>>8|_e<<8)&8191,this.r[9]=_e>>>5&127,this.pad[0]=d[16]&255|(d[17]&255)<<8,this.pad[1]=d[18]&255|(d[19]&255)<<8,this.pad[2]=d[20]&255|(d[21]&255)<<8,this.pad[3]=d[22]&255|(d[23]&255)<<8,this.pad[4]=d[24]&255|(d[25]&255)<<8,this.pad[5]=d[26]&255|(d[27]&255)<<8,this.pad[6]=d[28]&255|(d[29]&255)<<8,this.pad[7]=d[30]&255|(d[31]&255)<<8};a.prototype.blocks=function(d,b,A){for(var c=this.fin?0:2048,D,Q,X,de,_e,$e,Ce,wt,Ue,et,tt,it,gt,at,ut,ct,Fe,Je,Le,qe=this.h[0],ze=this.h[1],Ne=this.h[2],le=this.h[3],fe=this.h[4],De=this.h[5],be=this.h[6],ke=this.h[7],Pe=this.h[8],nt=this.h[9],vt=this.r[0],bt=this.r[1],St=this.r[2],F=this.r[3],At=this.r[4],Pt=this.r[5],Ot=this.r[6],xt=this.r[7],Tt=this.r[8],It=this.r[9];A>=16;)D=d[b+0]&255|(d[b+1]&255)<<8,qe+=D&8191,Q=d[b+2]&255|(d[b+3]&255)<<8,ze+=(D>>>13|Q<<3)&8191,X=d[b+4]&255|(d[b+5]&255)<<8,Ne+=(Q>>>10|X<<6)&8191,de=d[b+6]&255|(d[b+7]&255)<<8,le+=(X>>>7|de<<9)&8191,_e=d[b+8]&255|(d[b+9]&255)<<8,fe+=(de>>>4|_e<<12)&8191,De+=_e>>>1&8191,$e=d[b+10]&255|(d[b+11]&255)<<8,be+=(_e>>>14|$e<<2)&8191,Ce=d[b+12]&255|(d[b+13]&255)<<8,ke+=($e>>>11|Ce<<5)&8191,wt=d[b+14]&255|(d[b+15]&255)<<8,Pe+=(Ce>>>8|wt<<8)&8191,nt+=wt>>>5|c,Ue=0,et=Ue,et+=qe*vt,et+=ze*(5*It),et+=Ne*(5*Tt),et+=le*(5*xt),et+=fe*(5*Ot),Ue=et>>>13,et&=8191,et+=De*(5*Pt),et+=be*(5*At),et+=ke*(5*F),et+=Pe*(5*St),et+=nt*(5*bt),Ue+=et>>>13,et&=8191,tt=Ue,tt+=qe*bt,tt+=ze*vt,tt+=Ne*(5*It),tt+=le*(5*Tt),tt+=fe*(5*xt),Ue=tt>>>13,tt&=8191,tt+=De*(5*Ot),tt+=be*(5*Pt),tt+=ke*(5*At),tt+=Pe*(5*F),tt+=nt*(5*St),Ue+=tt>>>13,tt&=8191,it=Ue,it+=qe*St,it+=ze*bt,it+=Ne*vt,it+=le*(5*It),it+=fe*(5*Tt),Ue=it>>>13,it&=8191,it+=De*(5*xt),it+=be*(5*Ot),it+=ke*(5*Pt),it+=Pe*(5*At),it+=nt*(5*F),Ue+=it>>>13,it&=8191,gt=Ue,gt+=qe*F,gt+=ze*St,gt+=Ne*bt,gt+=le*vt,gt+=fe*(5*It),Ue=gt>>>13,gt&=8191,gt+=De*(5*Tt),gt+=be*(5*xt),gt+=ke*(5*Ot),gt+=Pe*(5*Pt),gt+=nt*(5*At),Ue+=gt>>>13,gt&=8191,at=Ue,at+=qe*At,at+=ze*F,at+=Ne*St,at+=le*bt,at+=fe*vt,Ue=at>>>13,at&=8191,at+=De*(5*It),at+=be*(5*Tt),at+=ke*(5*xt),at+=Pe*(5*Ot),at+=nt*(5*Pt),Ue+=at>>>13,at&=8191,ut=Ue,ut+=qe*Pt,ut+=ze*At,ut+=Ne*F,ut+=le*St,ut+=fe*bt,Ue=ut>>>13,ut&=8191,ut+=De*vt,ut+=be*(5*It),ut+=ke*(5*Tt),ut+=Pe*(5*xt),ut+=nt*(5*Ot),Ue+=ut>>>13,ut&=8191,ct=Ue,ct+=qe*Ot,ct+=ze*Pt,ct+=Ne*At,ct+=le*F,ct+=fe*St,Ue=ct>>>13,ct&=8191,ct+=De*bt,ct+=be*vt,ct+=ke*(5*It),ct+=Pe*(5*Tt),ct+=nt*(5*xt),Ue+=ct>>>13,ct&=8191,Fe=Ue,Fe+=qe*xt,Fe+=ze*Ot,Fe+=Ne*Pt,Fe+=le*At,Fe+=fe*F,Ue=Fe>>>13,Fe&=8191,Fe+=De*St,Fe+=be*bt,Fe+=ke*vt,Fe+=Pe*(5*It),Fe+=nt*(5*Tt),Ue+=Fe>>>13,Fe&=8191,Je=Ue,Je+=qe*Tt,Je+=ze*xt,Je+=Ne*Ot,Je+=le*Pt,Je+=fe*At,Ue=Je>>>13,Je&=8191,Je+=De*F,Je+=be*St,Je+=ke*bt,Je+=Pe*vt,Je+=nt*(5*It),Ue+=Je>>>13,Je&=8191,Le=Ue,Le+=qe*It,Le+=ze*Tt,Le+=Ne*xt,Le+=le*Ot,Le+=fe*Pt,Ue=Le>>>13,Le&=8191,Le+=De*At,Le+=be*F,Le+=ke*St,Le+=Pe*bt,Le+=nt*vt,Ue+=Le>>>13,Le&=8191,Ue=(Ue<<2)+Ue|0,Ue=Ue+et|0,et=Ue&8191,Ue=Ue>>>13,tt+=Ue,qe=et,ze=tt,Ne=it,le=gt,fe=at,De=ut,be=ct,ke=Fe,Pe=Je,nt=Le,b+=16,A-=16;this.h[0]=qe,this.h[1]=ze,this.h[2]=Ne,this.h[3]=le,this.h[4]=fe,this.h[5]=De,this.h[6]=be,this.h[7]=ke,this.h[8]=Pe,this.h[9]=nt},a.prototype.finish=function(d,b){var A=new Uint16Array(10),c,D,Q,X;if(this.leftover){for(X=this.leftover,this.buffer[X++]=1;X<16;X++)this.buffer[X]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(c=this.h[1]>>>13,this.h[1]&=8191,X=2;X<10;X++)this.h[X]+=c,c=this.h[X]>>>13,this.h[X]&=8191;for(this.h[0]+=c*5,c=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=c,c=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=c,A[0]=this.h[0]+5,c=A[0]>>>13,A[0]&=8191,X=1;X<10;X++)A[X]=this.h[X]+c,c=A[X]>>>13,A[X]&=8191;for(A[9]-=8192,D=(c^1)-1,X=0;X<10;X++)A[X]&=D;for(D=~D,X=0;X<10;X++)this.h[X]=this.h[X]&D|A[X];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,Q=this.h[0]+this.pad[0],this.h[0]=Q&65535,X=1;X<8;X++)Q=(this.h[X]+this.pad[X]|0)+(Q>>>16)|0,this.h[X]=Q&65535;d[b+0]=this.h[0]>>>0&255,d[b+1]=this.h[0]>>>8&255,d[b+2]=this.h[1]>>>0&255,d[b+3]=this.h[1]>>>8&255,d[b+4]=this.h[2]>>>0&255,d[b+5]=this.h[2]>>>8&255,d[b+6]=this.h[3]>>>0&255,d[b+7]=this.h[3]>>>8&255,d[b+8]=this.h[4]>>>0&255,d[b+9]=this.h[4]>>>8&255,d[b+10]=this.h[5]>>>0&255,d[b+11]=this.h[5]>>>8&255,d[b+12]=this.h[6]>>>0&255,d[b+13]=this.h[6]>>>8&255,d[b+14]=this.h[7]>>>0&255,d[b+15]=this.h[7]>>>8&255},a.prototype.update=function(d,b,A){var c,D;if(this.leftover){for(D=16-this.leftover,D>A&&(D=A),c=0;c<D;c++)this.buffer[this.leftover+c]=d[b+c];if(A-=D,b+=D,this.leftover+=D,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(A>=16&&(D=A-A%16,this.blocks(d,b,D),b+=D,A-=D),A){for(c=0;c<A;c++)this.buffer[this.leftover+c]=d[b+c];this.leftover+=A}};function f(d,b,A,c,D,Q){var X=new a(Q);return X.update(A,c,D),X.finish(d,b),0}function g(d,b,A,c,D,Q){var X=new Uint8Array(16);return f(X,0,A,c,D,Q),E(d,b,X,0)}function x(d,b,A,c,D){var Q;if(A<32)return-1;for(S(d,0,b,0,A,c,D),f(d,16,d,32,A-32,d),Q=0;Q<16;Q++)d[Q]=0;return 0}function R(d,b,A,c,D){var Q,X=new Uint8Array(32);if(A<32||(ge(X,0,32,c,D),g(b,16,b,32,A-32,X)!==0))return-1;for(S(d,0,b,0,A,c,D),Q=0;Q<32;Q++)d[Q]=0;return 0}function V(d,b){var A;for(A=0;A<16;A++)d[A]=b[A]|0}function H(d){var b,A,c=1;for(b=0;b<16;b++)A=d[b]+c+65535,c=Math.floor(A/65536),d[b]=A-c*65536;d[0]+=c-1+37*(c-1)}function _(d,b,A){for(var c,D=~(A-1),Q=0;Q<16;Q++)c=D&(d[Q]^b[Q]),d[Q]^=c,b[Q]^=c}function l(d,b){var A,c,D,Q=t(),X=t();for(A=0;A<16;A++)X[A]=b[A];for(H(X),H(X),H(X),c=0;c<2;c++){for(Q[0]=X[0]-65517,A=1;A<15;A++)Q[A]=X[A]-65535-(Q[A-1]>>16&1),Q[A-1]&=65535;Q[15]=X[15]-32767-(Q[14]>>16&1),D=Q[15]>>16&1,Q[14]&=65535,_(X,Q,1-D)}for(A=0;A<16;A++)d[2*A]=X[A]&255,d[2*A+1]=X[A]>>8}function P(d,b){var A=new Uint8Array(32),c=new Uint8Array(32);return l(A,d),l(c,b),C(A,0,c,0)}function Te(d){var b=new Uint8Array(32);return l(b,d),b[0]&1}function ve(d,b){var A;for(A=0;A<16;A++)d[A]=b[2*A]+(b[2*A+1]<<8);d[15]&=32767}function we(d,b,A){for(var c=0;c<16;c++)d[c]=b[c]+A[c]}function ie(d,b,A){for(var c=0;c<16;c++)d[c]=b[c]-A[c]}function y(d,b,A){var c,D,Q=0,X=0,de=0,_e=0,$e=0,Ce=0,wt=0,Ue=0,et=0,tt=0,it=0,gt=0,at=0,ut=0,ct=0,Fe=0,Je=0,Le=0,qe=0,ze=0,Ne=0,le=0,fe=0,De=0,be=0,ke=0,Pe=0,nt=0,vt=0,bt=0,St=0,F=A[0],At=A[1],Pt=A[2],Ot=A[3],xt=A[4],Tt=A[5],It=A[6],Zt=A[7],Lt=A[8],Jt=A[9],Yt=A[10],Xt=A[11],rn=A[12],fn=A[13],dn=A[14],gn=A[15];c=b[0],Q+=c*F,X+=c*At,de+=c*Pt,_e+=c*Ot,$e+=c*xt,Ce+=c*Tt,wt+=c*It,Ue+=c*Zt,et+=c*Lt,tt+=c*Jt,it+=c*Yt,gt+=c*Xt,at+=c*rn,ut+=c*fn,ct+=c*dn,Fe+=c*gn,c=b[1],X+=c*F,de+=c*At,_e+=c*Pt,$e+=c*Ot,Ce+=c*xt,wt+=c*Tt,Ue+=c*It,et+=c*Zt,tt+=c*Lt,it+=c*Jt,gt+=c*Yt,at+=c*Xt,ut+=c*rn,ct+=c*fn,Fe+=c*dn,Je+=c*gn,c=b[2],de+=c*F,_e+=c*At,$e+=c*Pt,Ce+=c*Ot,wt+=c*xt,Ue+=c*Tt,et+=c*It,tt+=c*Zt,it+=c*Lt,gt+=c*Jt,at+=c*Yt,ut+=c*Xt,ct+=c*rn,Fe+=c*fn,Je+=c*dn,Le+=c*gn,c=b[3],_e+=c*F,$e+=c*At,Ce+=c*Pt,wt+=c*Ot,Ue+=c*xt,et+=c*Tt,tt+=c*It,it+=c*Zt,gt+=c*Lt,at+=c*Jt,ut+=c*Yt,ct+=c*Xt,Fe+=c*rn,Je+=c*fn,Le+=c*dn,qe+=c*gn,c=b[4],$e+=c*F,Ce+=c*At,wt+=c*Pt,Ue+=c*Ot,et+=c*xt,tt+=c*Tt,it+=c*It,gt+=c*Zt,at+=c*Lt,ut+=c*Jt,ct+=c*Yt,Fe+=c*Xt,Je+=c*rn,Le+=c*fn,qe+=c*dn,ze+=c*gn,c=b[5],Ce+=c*F,wt+=c*At,Ue+=c*Pt,et+=c*Ot,tt+=c*xt,it+=c*Tt,gt+=c*It,at+=c*Zt,ut+=c*Lt,ct+=c*Jt,Fe+=c*Yt,Je+=c*Xt,Le+=c*rn,qe+=c*fn,ze+=c*dn,Ne+=c*gn,c=b[6],wt+=c*F,Ue+=c*At,et+=c*Pt,tt+=c*Ot,it+=c*xt,gt+=c*Tt,at+=c*It,ut+=c*Zt,ct+=c*Lt,Fe+=c*Jt,Je+=c*Yt,Le+=c*Xt,qe+=c*rn,ze+=c*fn,Ne+=c*dn,le+=c*gn,c=b[7],Ue+=c*F,et+=c*At,tt+=c*Pt,it+=c*Ot,gt+=c*xt,at+=c*Tt,ut+=c*It,ct+=c*Zt,Fe+=c*Lt,Je+=c*Jt,Le+=c*Yt,qe+=c*Xt,ze+=c*rn,Ne+=c*fn,le+=c*dn,fe+=c*gn,c=b[8],et+=c*F,tt+=c*At,it+=c*Pt,gt+=c*Ot,at+=c*xt,ut+=c*Tt,ct+=c*It,Fe+=c*Zt,Je+=c*Lt,Le+=c*Jt,qe+=c*Yt,ze+=c*Xt,Ne+=c*rn,le+=c*fn,fe+=c*dn,De+=c*gn,c=b[9],tt+=c*F,it+=c*At,gt+=c*Pt,at+=c*Ot,ut+=c*xt,ct+=c*Tt,Fe+=c*It,Je+=c*Zt,Le+=c*Lt,qe+=c*Jt,ze+=c*Yt,Ne+=c*Xt,le+=c*rn,fe+=c*fn,De+=c*dn,be+=c*gn,c=b[10],it+=c*F,gt+=c*At,at+=c*Pt,ut+=c*Ot,ct+=c*xt,Fe+=c*Tt,Je+=c*It,Le+=c*Zt,qe+=c*Lt,ze+=c*Jt,Ne+=c*Yt,le+=c*Xt,fe+=c*rn,De+=c*fn,be+=c*dn,ke+=c*gn,c=b[11],gt+=c*F,at+=c*At,ut+=c*Pt,ct+=c*Ot,Fe+=c*xt,Je+=c*Tt,Le+=c*It,qe+=c*Zt,ze+=c*Lt,Ne+=c*Jt,le+=c*Yt,fe+=c*Xt,De+=c*rn,be+=c*fn,ke+=c*dn,Pe+=c*gn,c=b[12],at+=c*F,ut+=c*At,ct+=c*Pt,Fe+=c*Ot,Je+=c*xt,Le+=c*Tt,qe+=c*It,ze+=c*Zt,Ne+=c*Lt,le+=c*Jt,fe+=c*Yt,De+=c*Xt,be+=c*rn,ke+=c*fn,Pe+=c*dn,nt+=c*gn,c=b[13],ut+=c*F,ct+=c*At,Fe+=c*Pt,Je+=c*Ot,Le+=c*xt,qe+=c*Tt,ze+=c*It,Ne+=c*Zt,le+=c*Lt,fe+=c*Jt,De+=c*Yt,be+=c*Xt,ke+=c*rn,Pe+=c*fn,nt+=c*dn,vt+=c*gn,c=b[14],ct+=c*F,Fe+=c*At,Je+=c*Pt,Le+=c*Ot,qe+=c*xt,ze+=c*Tt,Ne+=c*It,le+=c*Zt,fe+=c*Lt,De+=c*Jt,be+=c*Yt,ke+=c*Xt,Pe+=c*rn,nt+=c*fn,vt+=c*dn,bt+=c*gn,c=b[15],Fe+=c*F,Je+=c*At,Le+=c*Pt,qe+=c*Ot,ze+=c*xt,Ne+=c*Tt,le+=c*It,fe+=c*Zt,De+=c*Lt,be+=c*Jt,ke+=c*Yt,Pe+=c*Xt,nt+=c*rn,vt+=c*fn,bt+=c*dn,St+=c*gn,Q+=38*Je,X+=38*Le,de+=38*qe,_e+=38*ze,$e+=38*Ne,Ce+=38*le,wt+=38*fe,Ue+=38*De,et+=38*be,tt+=38*ke,it+=38*Pe,gt+=38*nt,at+=38*vt,ut+=38*bt,ct+=38*St,D=1,c=Q+D+65535,D=Math.floor(c/65536),Q=c-D*65536,c=X+D+65535,D=Math.floor(c/65536),X=c-D*65536,c=de+D+65535,D=Math.floor(c/65536),de=c-D*65536,c=_e+D+65535,D=Math.floor(c/65536),_e=c-D*65536,c=$e+D+65535,D=Math.floor(c/65536),$e=c-D*65536,c=Ce+D+65535,D=Math.floor(c/65536),Ce=c-D*65536,c=wt+D+65535,D=Math.floor(c/65536),wt=c-D*65536,c=Ue+D+65535,D=Math.floor(c/65536),Ue=c-D*65536,c=et+D+65535,D=Math.floor(c/65536),et=c-D*65536,c=tt+D+65535,D=Math.floor(c/65536),tt=c-D*65536,c=it+D+65535,D=Math.floor(c/65536),it=c-D*65536,c=gt+D+65535,D=Math.floor(c/65536),gt=c-D*65536,c=at+D+65535,D=Math.floor(c/65536),at=c-D*65536,c=ut+D+65535,D=Math.floor(c/65536),ut=c-D*65536,c=ct+D+65535,D=Math.floor(c/65536),ct=c-D*65536,c=Fe+D+65535,D=Math.floor(c/65536),Fe=c-D*65536,Q+=D-1+37*(D-1),D=1,c=Q+D+65535,D=Math.floor(c/65536),Q=c-D*65536,c=X+D+65535,D=Math.floor(c/65536),X=c-D*65536,c=de+D+65535,D=Math.floor(c/65536),de=c-D*65536,c=_e+D+65535,D=Math.floor(c/65536),_e=c-D*65536,c=$e+D+65535,D=Math.floor(c/65536),$e=c-D*65536,c=Ce+D+65535,D=Math.floor(c/65536),Ce=c-D*65536,c=wt+D+65535,D=Math.floor(c/65536),wt=c-D*65536,c=Ue+D+65535,D=Math.floor(c/65536),Ue=c-D*65536,c=et+D+65535,D=Math.floor(c/65536),et=c-D*65536,c=tt+D+65535,D=Math.floor(c/65536),tt=c-D*65536,c=it+D+65535,D=Math.floor(c/65536),it=c-D*65536,c=gt+D+65535,D=Math.floor(c/65536),gt=c-D*65536,c=at+D+65535,D=Math.floor(c/65536),at=c-D*65536,c=ut+D+65535,D=Math.floor(c/65536),ut=c-D*65536,c=ct+D+65535,D=Math.floor(c/65536),ct=c-D*65536,c=Fe+D+65535,D=Math.floor(c/65536),Fe=c-D*65536,Q+=D-1+37*(D-1),d[0]=Q,d[1]=X,d[2]=de,d[3]=_e,d[4]=$e,d[5]=Ce,d[6]=wt,d[7]=Ue,d[8]=et,d[9]=tt,d[10]=it,d[11]=gt,d[12]=at,d[13]=ut,d[14]=ct,d[15]=Fe}function se(d,b){y(d,b,b)}function Se(d,b){var A=t(),c;for(c=0;c<16;c++)A[c]=b[c];for(c=253;c>=0;c--)se(A,A),c!==2&&c!==4&&y(A,A,b);for(c=0;c<16;c++)d[c]=A[c]}function j(d,b){var A=t(),c;for(c=0;c<16;c++)A[c]=b[c];for(c=250;c>=0;c--)se(A,A),c!==1&&y(A,A,b);for(c=0;c<16;c++)d[c]=A[c]}function te(d,b,A){var c=new Uint8Array(32),D=new Float64Array(80),Q,X,de=t(),_e=t(),$e=t(),Ce=t(),wt=t(),Ue=t();for(X=0;X<31;X++)c[X]=b[X];for(c[31]=b[31]&127|64,c[0]&=248,ve(D,A),X=0;X<16;X++)_e[X]=D[X],Ce[X]=de[X]=$e[X]=0;for(de[0]=Ce[0]=1,X=254;X>=0;--X)Q=c[X>>>3]>>>(X&7)&1,_(de,_e,Q),_($e,Ce,Q),we(wt,de,$e),ie(de,de,$e),we($e,_e,Ce),ie(_e,_e,Ce),se(Ce,wt),se(Ue,de),y(de,$e,de),y($e,_e,wt),we(wt,de,$e),ie(de,de,$e),se(_e,de),ie($e,Ce,Ue),y(de,$e,m),we(de,de,Ce),y($e,$e,de),y(de,Ce,Ue),y(Ce,_e,D),se(_e,wt),_(de,_e,Q),_($e,Ce,Q);for(X=0;X<16;X++)D[X+16]=de[X],D[X+32]=$e[X],D[X+48]=_e[X],D[X+64]=Ce[X];var et=D.subarray(32),tt=D.subarray(16);return Se(et,et),y(tt,tt,et),l(d,tt),0}function w(d,b){return te(d,b,o)}function k(d,b){return r(b,32),w(d,b)}function O(d,b,A){var c=new Uint8Array(32);return te(c,A,b),ue(d,i,c,I)}var ee=x,L=R;function z(d,b,A,c,D,Q){var X=new Uint8Array(32);return O(X,D,Q),ee(d,b,A,c,X)}function ae(d,b,A,c,D,Q){var X=new Uint8Array(32);return O(X,D,Q),L(d,b,A,c,X)}var q=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function G(d,b,A,c){for(var D=new Int32Array(16),Q=new Int32Array(16),X,de,_e,$e,Ce,wt,Ue,et,tt,it,gt,at,ut,ct,Fe,Je,Le,qe,ze,Ne,le,fe,De,be,ke,Pe,nt=d[0],vt=d[1],bt=d[2],St=d[3],F=d[4],At=d[5],Pt=d[6],Ot=d[7],xt=b[0],Tt=b[1],It=b[2],Zt=b[3],Lt=b[4],Jt=b[5],Yt=b[6],Xt=b[7],rn=0;c>=128;){for(ze=0;ze<16;ze++)Ne=8*ze+rn,D[ze]=A[Ne+0]<<24|A[Ne+1]<<16|A[Ne+2]<<8|A[Ne+3],Q[ze]=A[Ne+4]<<24|A[Ne+5]<<16|A[Ne+6]<<8|A[Ne+7];for(ze=0;ze<80;ze++)if(X=nt,de=vt,_e=bt,$e=St,Ce=F,wt=At,Ue=Pt,et=Ot,tt=xt,it=Tt,gt=It,at=Zt,ut=Lt,ct=Jt,Fe=Yt,Je=Xt,le=Ot,fe=Xt,De=fe&65535,be=fe>>>16,ke=le&65535,Pe=le>>>16,le=(F>>>14|Lt<<18)^(F>>>18|Lt<<14)^(Lt>>>9|F<<23),fe=(Lt>>>14|F<<18)^(Lt>>>18|F<<14)^(F>>>9|Lt<<23),De+=fe&65535,be+=fe>>>16,ke+=le&65535,Pe+=le>>>16,le=F&At^~F&Pt,fe=Lt&Jt^~Lt&Yt,De+=fe&65535,be+=fe>>>16,ke+=le&65535,Pe+=le>>>16,le=q[ze*2],fe=q[ze*2+1],De+=fe&65535,be+=fe>>>16,ke+=le&65535,Pe+=le>>>16,le=D[ze%16],fe=Q[ze%16],De+=fe&65535,be+=fe>>>16,ke+=le&65535,Pe+=le>>>16,be+=De>>>16,ke+=be>>>16,Pe+=ke>>>16,Le=ke&65535|Pe<<16,qe=De&65535|be<<16,le=Le,fe=qe,De=fe&65535,be=fe>>>16,ke=le&65535,Pe=le>>>16,le=(nt>>>28|xt<<4)^(xt>>>2|nt<<30)^(xt>>>7|nt<<25),fe=(xt>>>28|nt<<4)^(nt>>>2|xt<<30)^(nt>>>7|xt<<25),De+=fe&65535,be+=fe>>>16,ke+=le&65535,Pe+=le>>>16,le=nt&vt^nt&bt^vt&bt,fe=xt&Tt^xt&It^Tt&It,De+=fe&65535,be+=fe>>>16,ke+=le&65535,Pe+=le>>>16,be+=De>>>16,ke+=be>>>16,Pe+=ke>>>16,et=ke&65535|Pe<<16,Je=De&65535|be<<16,le=$e,fe=at,De=fe&65535,be=fe>>>16,ke=le&65535,Pe=le>>>16,le=Le,fe=qe,De+=fe&65535,be+=fe>>>16,ke+=le&65535,Pe+=le>>>16,be+=De>>>16,ke+=be>>>16,Pe+=ke>>>16,$e=ke&65535|Pe<<16,at=De&65535|be<<16,vt=X,bt=de,St=_e,F=$e,At=Ce,Pt=wt,Ot=Ue,nt=et,Tt=tt,It=it,Zt=gt,Lt=at,Jt=ut,Yt=ct,Xt=Fe,xt=Je,ze%16===15)for(Ne=0;Ne<16;Ne++)le=D[Ne],fe=Q[Ne],De=fe&65535,be=fe>>>16,ke=le&65535,Pe=le>>>16,le=D[(Ne+9)%16],fe=Q[(Ne+9)%16],De+=fe&65535,be+=fe>>>16,ke+=le&65535,Pe+=le>>>16,Le=D[(Ne+1)%16],qe=Q[(Ne+1)%16],le=(Le>>>1|qe<<31)^(Le>>>8|qe<<24)^Le>>>7,fe=(qe>>>1|Le<<31)^(qe>>>8|Le<<24)^(qe>>>7|Le<<25),De+=fe&65535,be+=fe>>>16,ke+=le&65535,Pe+=le>>>16,Le=D[(Ne+14)%16],qe=Q[(Ne+14)%16],le=(Le>>>19|qe<<13)^(qe>>>29|Le<<3)^Le>>>6,fe=(qe>>>19|Le<<13)^(Le>>>29|qe<<3)^(qe>>>6|Le<<26),De+=fe&65535,be+=fe>>>16,ke+=le&65535,Pe+=le>>>16,be+=De>>>16,ke+=be>>>16,Pe+=ke>>>16,D[Ne]=ke&65535|Pe<<16,Q[Ne]=De&65535|be<<16;le=nt,fe=xt,De=fe&65535,be=fe>>>16,ke=le&65535,Pe=le>>>16,le=d[0],fe=b[0],De+=fe&65535,be+=fe>>>16,ke+=le&65535,Pe+=le>>>16,be+=De>>>16,ke+=be>>>16,Pe+=ke>>>16,d[0]=nt=ke&65535|Pe<<16,b[0]=xt=De&65535|be<<16,le=vt,fe=Tt,De=fe&65535,be=fe>>>16,ke=le&65535,Pe=le>>>16,le=d[1],fe=b[1],De+=fe&65535,be+=fe>>>16,ke+=le&65535,Pe+=le>>>16,be+=De>>>16,ke+=be>>>16,Pe+=ke>>>16,d[1]=vt=ke&65535|Pe<<16,b[1]=Tt=De&65535|be<<16,le=bt,fe=It,De=fe&65535,be=fe>>>16,ke=le&65535,Pe=le>>>16,le=d[2],fe=b[2],De+=fe&65535,be+=fe>>>16,ke+=le&65535,Pe+=le>>>16,be+=De>>>16,ke+=be>>>16,Pe+=ke>>>16,d[2]=bt=ke&65535|Pe<<16,b[2]=It=De&65535|be<<16,le=St,fe=Zt,De=fe&65535,be=fe>>>16,ke=le&65535,Pe=le>>>16,le=d[3],fe=b[3],De+=fe&65535,be+=fe>>>16,ke+=le&65535,Pe+=le>>>16,be+=De>>>16,ke+=be>>>16,Pe+=ke>>>16,d[3]=St=ke&65535|Pe<<16,b[3]=Zt=De&65535|be<<16,le=F,fe=Lt,De=fe&65535,be=fe>>>16,ke=le&65535,Pe=le>>>16,le=d[4],fe=b[4],De+=fe&65535,be+=fe>>>16,ke+=le&65535,Pe+=le>>>16,be+=De>>>16,ke+=be>>>16,Pe+=ke>>>16,d[4]=F=ke&65535|Pe<<16,b[4]=Lt=De&65535|be<<16,le=At,fe=Jt,De=fe&65535,be=fe>>>16,ke=le&65535,Pe=le>>>16,le=d[5],fe=b[5],De+=fe&65535,be+=fe>>>16,ke+=le&65535,Pe+=le>>>16,be+=De>>>16,ke+=be>>>16,Pe+=ke>>>16,d[5]=At=ke&65535|Pe<<16,b[5]=Jt=De&65535|be<<16,le=Pt,fe=Yt,De=fe&65535,be=fe>>>16,ke=le&65535,Pe=le>>>16,le=d[6],fe=b[6],De+=fe&65535,be+=fe>>>16,ke+=le&65535,Pe+=le>>>16,be+=De>>>16,ke+=be>>>16,Pe+=ke>>>16,d[6]=Pt=ke&65535|Pe<<16,b[6]=Yt=De&65535|be<<16,le=Ot,fe=Xt,De=fe&65535,be=fe>>>16,ke=le&65535,Pe=le>>>16,le=d[7],fe=b[7],De+=fe&65535,be+=fe>>>16,ke+=le&65535,Pe+=le>>>16,be+=De>>>16,ke+=be>>>16,Pe+=ke>>>16,d[7]=Ot=ke&65535|Pe<<16,b[7]=Xt=De&65535|be<<16,rn+=128,c-=128}return c}function oe(d,b,A){var c=new Int32Array(8),D=new Int32Array(8),Q=new Uint8Array(256),X,de=A;for(c[0]=1779033703,c[1]=3144134277,c[2]=1013904242,c[3]=2773480762,c[4]=1359893119,c[5]=2600822924,c[6]=528734635,c[7]=1541459225,D[0]=4089235720,D[1]=2227873595,D[2]=4271175723,D[3]=1595750129,D[4]=2917565137,D[5]=725511199,D[6]=4215389547,D[7]=327033209,G(c,D,b,A),A%=128,X=0;X<A;X++)Q[X]=b[de-A+X];for(Q[A]=128,A=256-128*(A<112?1:0),Q[A-9]=0,U(Q,A-8,de/536870912|0,de<<3),G(c,D,Q,A),X=0;X<8;X++)U(d,8*X,c[X],D[X]);return 0}function J(d,b){var A=t(),c=t(),D=t(),Q=t(),X=t(),de=t(),_e=t(),$e=t(),Ce=t();ie(A,d[1],d[0]),ie(Ce,b[1],b[0]),y(A,A,Ce),we(c,d[0],d[1]),we(Ce,b[0],b[1]),y(c,c,Ce),y(D,d[3],b[3]),y(D,D,v),y(Q,d[2],b[2]),we(Q,Q,Q),ie(X,c,A),ie(de,Q,D),we(_e,Q,D),we($e,c,A),y(d[0],X,de),y(d[1],$e,_e),y(d[2],_e,de),y(d[3],X,$e)}function he(d,b,A){var c;for(c=0;c<4;c++)_(d[c],b[c],A)}function Ee(d,b){var A=t(),c=t(),D=t();Se(D,b[2]),y(A,b[0],D),y(c,b[1],D),l(d,c),d[31]^=Te(A)<<7}function ye(d,b,A){var c,D;for(V(d[0],s),V(d[1],h),V(d[2],h),V(d[3],s),D=255;D>=0;--D)c=A[D/8|0]>>(D&7)&1,he(d,b,c),J(b,d),J(d,d),he(d,b,c)}function Oe(d,b){var A=[t(),t(),t(),t()];V(A[0],T),V(A[1],B),V(A[2],h),y(A[3],T,B),ye(d,A,b)}function je(d,b,A){var c=new Uint8Array(64),D=[t(),t(),t(),t()],Q;for(A||r(b,32),oe(c,b,32),c[0]&=248,c[31]&=127,c[31]|=64,Oe(D,c),Ee(d,D),Q=0;Q<32;Q++)b[Q+32]=d[Q];return 0}var He=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Ve(d,b){var A,c,D,Q;for(c=63;c>=32;--c){for(A=0,D=c-32,Q=c-12;D<Q;++D)b[D]+=A-16*b[c]*He[D-(c-32)],A=Math.floor((b[D]+128)/256),b[D]-=A*256;b[D]+=A,b[c]=0}for(A=0,D=0;D<32;D++)b[D]+=A-(b[31]>>4)*He[D],A=b[D]>>8,b[D]&=255;for(D=0;D<32;D++)b[D]-=A*He[D];for(c=0;c<32;c++)b[c+1]+=b[c]>>8,d[c]=b[c]&255}function Qe(d){var b=new Float64Array(64),A;for(A=0;A<64;A++)b[A]=d[A];for(A=0;A<64;A++)d[A]=0;Ve(d,b)}function Ge(d,b,A,c){var D=new Uint8Array(64),Q=new Uint8Array(64),X=new Uint8Array(64),de,_e,$e=new Float64Array(64),Ce=[t(),t(),t(),t()];oe(D,c,32),D[0]&=248,D[31]&=127,D[31]|=64;var wt=A+64;for(de=0;de<A;de++)d[64+de]=b[de];for(de=0;de<32;de++)d[32+de]=D[32+de];for(oe(X,d.subarray(32),A+32),Qe(X),Oe(Ce,X),Ee(d,Ce),de=32;de<64;de++)d[de]=c[de];for(oe(Q,d,A+64),Qe(Q),de=0;de<64;de++)$e[de]=0;for(de=0;de<32;de++)$e[de]=X[de];for(de=0;de<32;de++)for(_e=0;_e<32;_e++)$e[de+_e]+=Q[de]*D[_e];return Ve(d.subarray(32),$e),wt}function ht(d,b){var A=t(),c=t(),D=t(),Q=t(),X=t(),de=t(),_e=t();return V(d[2],h),ve(d[1],b),se(D,d[1]),y(Q,D,u),ie(D,D,d[2]),we(Q,d[2],Q),se(X,Q),se(de,X),y(_e,de,X),y(A,_e,D),y(A,A,Q),j(A,A),y(A,A,D),y(A,A,Q),y(A,A,Q),y(d[0],A,Q),se(c,d[0]),y(c,c,Q),P(c,D)&&y(d[0],d[0],W),se(c,d[0]),y(c,c,Q),P(c,D)?-1:(Te(d[0])===b[31]>>7&&ie(d[0],s,d[0]),y(d[3],d[0],d[1]),0)}function Bt(d,b,A,c){var D,Q=new Uint8Array(32),X=new Uint8Array(64),de=[t(),t(),t(),t()],_e=[t(),t(),t(),t()];if(A<64||ht(_e,c))return-1;for(D=0;D<A;D++)d[D]=b[D];for(D=0;D<32;D++)d[D+32]=c[D];if(oe(X,d,A),Qe(X),ye(de,_e,X),Oe(_e,b.subarray(32)),J(de,_e),Ee(Q,de),A-=64,C(b,0,Q,0)){for(D=0;D<A;D++)d[D]=0;return-1}for(D=0;D<A;D++)d[D]=b[D+64];return A}var st=32,Xe=24,Mt=32,Ke=16,We=32,rt=32,ft=32,dt=32,qt=32,mt=Xe,yt=Mt,jt=Ke,Dt=64,_t=32,bn=64,Vt=32,Ut=64;e.lowlevel={crypto_core_hsalsa20:ue,crypto_stream_xor:S,crypto_stream:ge,crypto_stream_salsa20_xor:Y,crypto_stream_salsa20:Z,crypto_onetimeauth:f,crypto_onetimeauth_verify:g,crypto_verify_16:E,crypto_verify_32:C,crypto_secretbox:x,crypto_secretbox_open:R,crypto_scalarmult:te,crypto_scalarmult_base:w,crypto_box_beforenm:O,crypto_box_afternm:ee,crypto_box:z,crypto_box_open:ae,crypto_box_keypair:k,crypto_hash:oe,crypto_sign:Ge,crypto_sign_keypair:je,crypto_sign_open:Bt,crypto_secretbox_KEYBYTES:st,crypto_secretbox_NONCEBYTES:Xe,crypto_secretbox_ZEROBYTES:Mt,crypto_secretbox_BOXZEROBYTES:Ke,crypto_scalarmult_BYTES:We,crypto_scalarmult_SCALARBYTES:rt,crypto_box_PUBLICKEYBYTES:ft,crypto_box_SECRETKEYBYTES:dt,crypto_box_BEFORENMBYTES:qt,crypto_box_NONCEBYTES:mt,crypto_box_ZEROBYTES:yt,crypto_box_BOXZEROBYTES:jt,crypto_sign_BYTES:Dt,crypto_sign_PUBLICKEYBYTES:_t,crypto_sign_SECRETKEYBYTES:bn,crypto_sign_SEEDBYTES:Vt,crypto_hash_BYTES:Ut,gf:t,D:u,L:He,pack25519:l,unpack25519:ve,M:y,A:we,S:se,Z:ie,pow2523:j,add:J,set25519:V,modL:Ve,scalarmult:ye,scalarbase:Oe};function zn(d,b){if(d.length!==st)throw new Error("bad key size");if(b.length!==Xe)throw new Error("bad nonce size")}function zt(d,b){if(d.length!==ft)throw new Error("bad public key size");if(b.length!==dt)throw new Error("bad secret key size")}function kt(){for(var d=0;d<arguments.length;d++)if(!(arguments[d]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Hn(d){for(var b=0;b<d.length;b++)d[b]=0}e.randomBytes=function(d){var b=new Uint8Array(d);return r(b,d),b},e.secretbox=function(d,b,A){kt(d,b,A),zn(A,b);for(var c=new Uint8Array(Mt+d.length),D=new Uint8Array(c.length),Q=0;Q<d.length;Q++)c[Q+Mt]=d[Q];return x(D,c,c.length,b,A),D.subarray(Ke)},e.secretbox.open=function(d,b,A){kt(d,b,A),zn(A,b);for(var c=new Uint8Array(Ke+d.length),D=new Uint8Array(c.length),Q=0;Q<d.length;Q++)c[Q+Ke]=d[Q];return c.length<32||R(D,c,c.length,b,A)!==0?null:D.subarray(Mt)},e.secretbox.keyLength=st,e.secretbox.nonceLength=Xe,e.secretbox.overheadLength=Ke,e.scalarMult=function(d,b){if(kt(d,b),d.length!==rt)throw new Error("bad n size");if(b.length!==We)throw new Error("bad p size");var A=new Uint8Array(We);return te(A,d,b),A},e.scalarMult.base=function(d){if(kt(d),d.length!==rt)throw new Error("bad n size");var b=new Uint8Array(We);return w(b,d),b},e.scalarMult.scalarLength=rt,e.scalarMult.groupElementLength=We,e.box=function(d,b,A,c){var D=e.box.before(A,c);return e.secretbox(d,b,D)},e.box.before=function(d,b){kt(d,b),zt(d,b);var A=new Uint8Array(qt);return O(A,d,b),A},e.box.after=e.secretbox,e.box.open=function(d,b,A,c){var D=e.box.before(A,c);return e.secretbox.open(d,b,D)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var d=new Uint8Array(ft),b=new Uint8Array(dt);return k(d,b),{publicKey:d,secretKey:b}},e.box.keyPair.fromSecretKey=function(d){if(kt(d),d.length!==dt)throw new Error("bad secret key size");var b=new Uint8Array(ft);return w(b,d),{publicKey:b,secretKey:new Uint8Array(d)}},e.box.publicKeyLength=ft,e.box.secretKeyLength=dt,e.box.sharedKeyLength=qt,e.box.nonceLength=mt,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(d,b){if(kt(d,b),b.length!==bn)throw new Error("bad secret key size");var A=new Uint8Array(Dt+d.length);return Ge(A,d,d.length,b),A},e.sign.open=function(d,b){if(kt(d,b),b.length!==_t)throw new Error("bad public key size");var A=new Uint8Array(d.length),c=Bt(A,d,d.length,b);if(c<0)return null;for(var D=new Uint8Array(c),Q=0;Q<D.length;Q++)D[Q]=A[Q];return D},e.sign.detached=function(d,b){for(var A=e.sign(d,b),c=new Uint8Array(Dt),D=0;D<c.length;D++)c[D]=A[D];return c},e.sign.detached.verify=function(d,b,A){if(kt(d,b,A),b.length!==Dt)throw new Error("bad signature size");if(A.length!==_t)throw new Error("bad public key size");var c=new Uint8Array(Dt+d.length),D=new Uint8Array(Dt+d.length),Q;for(Q=0;Q<Dt;Q++)c[Q]=b[Q];for(Q=0;Q<d.length;Q++)c[Q+Dt]=d[Q];return Bt(D,c,c.length,A)>=0},e.sign.keyPair=function(){var d=new Uint8Array(_t),b=new Uint8Array(bn);return je(d,b),{publicKey:d,secretKey:b}},e.sign.keyPair.fromSecretKey=function(d){if(kt(d),d.length!==bn)throw new Error("bad secret key size");for(var b=new Uint8Array(_t),A=0;A<b.length;A++)b[A]=d[32+A];return{publicKey:b,secretKey:new Uint8Array(d)}},e.sign.keyPair.fromSeed=function(d){if(kt(d),d.length!==Vt)throw new Error("bad seed size");for(var b=new Uint8Array(_t),A=new Uint8Array(bn),c=0;c<32;c++)A[c]=d[c];return je(b,A,!0),{publicKey:b,secretKey:A}},e.sign.publicKeyLength=_t,e.sign.secretKeyLength=bn,e.sign.seedLength=Vt,e.sign.signatureLength=Dt,e.hash=function(d){kt(d);var b=new Uint8Array(Ut);return oe(b,d,d.length),b},e.hash.hashLength=Ut,e.verify=function(d,b){return kt(d,b),d.length===0||b.length===0||d.length!==b.length?!1:ne(d,0,b,0,d.length)===0},e.setPRNG=function(d){r=d},function(){var d=typeof self<"u"?self.crypto||self.msCrypto:null;if(d&&d.getRandomValues){var b=65536;e.setPRNG(function(A,c){var D,Q=new Uint8Array(c);for(D=0;D<c;D+=b)d.getRandomValues(Q.subarray(D,D+Math.min(c-D,b)));for(D=0;D<c;D++)A[D]=Q[D];Hn(Q)})}else typeof Dw<"u"&&(d=Of,d&&d.randomBytes&&e.setPRNG(function(A,c){var D,Q=d.randomBytes(c);for(D=0;D<c;D++)A[D]=Q[D];Hn(Q)}))}()})(n.exports?n.exports:self.nacl=self.nacl||{})}(Fc)),Fc.exports}var Iw=Tw();const sr=os(Iw);var qc={exports:{}};/*
 * [js-sha512]{@link https://github.com/emn178/js-sha512}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2018
 * @license MIT
 */var xl;function Rw(){return xl||(xl=1,function(n){(function(){var e="input is invalid type",t="finalize already called",r=typeof window=="object",i=r?window:{};i.JS_SHA512_NO_WINDOW&&(r=!1);var o=!r&&typeof self=="object",s=!i.JS_SHA512_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;s?i=globalThis:o&&(i=self);var h=!i.JS_SHA512_NO_COMMON_JS&&!0&&n.exports,m=!i.JS_SHA512_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",u="0123456789abcdef".split(""),v=[-2147483648,8388608,32768,128],T=[24,16,8,0],B=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],W=["hex","array","digest","arrayBuffer"],U=[];(i.JS_SHA512_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(I){return Object.prototype.toString.call(I)==="[object Array]"}),m&&(i.JS_SHA512_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(I){return typeof I=="object"&&I.buffer&&I.buffer.constructor===ArrayBuffer});var ne=function(I,Y){return function(Z){return new $(Y,!0).update(Z)[I]()}},E=function(I){var Y=ne("hex",I);Y.create=function(){return new $(I)},Y.update=function(S){return Y.create().update(S)};for(var Z=0;Z<W.length;++Z){var ge=W[Z];Y[ge]=ne(ge,I)}return Y},C=function(I,Y){return function(Z,ge){return new re(Z,Y,!0).update(ge)[I]()}},N=function(I){var Y=C("hex",I);Y.create=function(S){return new re(S,I)},Y.update=function(S,a){return Y.create(S).update(a)};for(var Z=0;Z<W.length;++Z){var ge=W[Z];Y[ge]=C(ge,I)}return Y};function $(I,Y){Y?(U[0]=U[1]=U[2]=U[3]=U[4]=U[5]=U[6]=U[7]=U[8]=U[9]=U[10]=U[11]=U[12]=U[13]=U[14]=U[15]=U[16]=U[17]=U[18]=U[19]=U[20]=U[21]=U[22]=U[23]=U[24]=U[25]=U[26]=U[27]=U[28]=U[29]=U[30]=U[31]=U[32]=0,this.blocks=U):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],I==384?(this.h0h=3418070365,this.h0l=3238371032,this.h1h=1654270250,this.h1l=914150663,this.h2h=2438529370,this.h2l=812702999,this.h3h=355462360,this.h3l=4144912697,this.h4h=1731405415,this.h4l=4290775857,this.h5h=2394180231,this.h5l=1750603025,this.h6h=3675008525,this.h6l=1694076839,this.h7h=1203062813,this.h7l=3204075428):I==256?(this.h0h=573645204,this.h0l=4230739756,this.h1h=2673172387,this.h1l=3360449730,this.h2h=596883563,this.h2l=1867755857,this.h3h=2520282905,this.h3l=1497426621,this.h4h=2519219938,this.h4l=2827943907,this.h5h=3193839141,this.h5l=1401305490,this.h6h=721525244,this.h6l=746961066,this.h7h=246885852,this.h7l=2177182882):I==224?(this.h0h=2352822216,this.h0l=424955298,this.h1h=1944164710,this.h1l=2312950998,this.h2h=502970286,this.h2l=855612546,this.h3h=1738396948,this.h3l=1479516111,this.h4h=258812777,this.h4l=2077511080,this.h5h=2011393907,this.h5l=79989058,this.h6h=1067287976,this.h6l=1780299464,this.h7h=286451373,this.h7l=2446758561):(this.h0h=1779033703,this.h0l=4089235720,this.h1h=3144134277,this.h1l=2227873595,this.h2h=1013904242,this.h2l=4271175723,this.h3h=2773480762,this.h3l=1595750129,this.h4h=1359893119,this.h4l=2917565137,this.h5h=2600822924,this.h5l=725511199,this.h6h=528734635,this.h6l=4215389547,this.h7h=1541459225,this.h7l=327033209),this.bits=I,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1}$.prototype.update=function(I){if(this.finalized)throw new Error(t);var Y,Z=typeof I;if(Z!=="string"){if(Z==="object"){if(I===null)throw new Error(e);if(m&&I.constructor===ArrayBuffer)I=new Uint8Array(I);else if(!Array.isArray(I)&&(!m||!ArrayBuffer.isView(I)))throw new Error(e)}else throw new Error(e);Y=!0}for(var ge,S=0,a,f=I.length,g=this.blocks;S<f;){if(this.hashed&&(this.hashed=!1,g[0]=this.block,g[1]=g[2]=g[3]=g[4]=g[5]=g[6]=g[7]=g[8]=g[9]=g[10]=g[11]=g[12]=g[13]=g[14]=g[15]=g[16]=g[17]=g[18]=g[19]=g[20]=g[21]=g[22]=g[23]=g[24]=g[25]=g[26]=g[27]=g[28]=g[29]=g[30]=g[31]=g[32]=0),Y)for(a=this.start;S<f&&a<128;++S)g[a>>2]|=I[S]<<T[a++&3];else for(a=this.start;S<f&&a<128;++S)ge=I.charCodeAt(S),ge<128?g[a>>2]|=ge<<T[a++&3]:ge<2048?(g[a>>2]|=(192|ge>>6)<<T[a++&3],g[a>>2]|=(128|ge&63)<<T[a++&3]):ge<55296||ge>=57344?(g[a>>2]|=(224|ge>>12)<<T[a++&3],g[a>>2]|=(128|ge>>6&63)<<T[a++&3],g[a>>2]|=(128|ge&63)<<T[a++&3]):(ge=65536+((ge&1023)<<10|I.charCodeAt(++S)&1023),g[a>>2]|=(240|ge>>18)<<T[a++&3],g[a>>2]|=(128|ge>>12&63)<<T[a++&3],g[a>>2]|=(128|ge>>6&63)<<T[a++&3],g[a>>2]|=(128|ge&63)<<T[a++&3]);this.lastByteIndex=a,this.bytes+=a-this.start,a>=128?(this.block=g[32],this.start=a-128,this.hash(),this.hashed=!0):this.start=a}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this},$.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var I=this.blocks,Y=this.lastByteIndex;I[32]=this.block,I[Y>>2]|=v[Y&3],this.block=I[32],Y>=112&&(this.hashed||this.hash(),I[0]=this.block,I[1]=I[2]=I[3]=I[4]=I[5]=I[6]=I[7]=I[8]=I[9]=I[10]=I[11]=I[12]=I[13]=I[14]=I[15]=I[16]=I[17]=I[18]=I[19]=I[20]=I[21]=I[22]=I[23]=I[24]=I[25]=I[26]=I[27]=I[28]=I[29]=I[30]=I[31]=I[32]=0),I[30]=this.hBytes<<3|this.bytes>>>29,I[31]=this.bytes<<3,this.hash()}},$.prototype.hash=function(){var I=this.h0h,Y=this.h0l,Z=this.h1h,ge=this.h1l,S=this.h2h,a=this.h2l,f=this.h3h,g=this.h3l,x=this.h4h,R=this.h4l,V=this.h5h,H=this.h5l,_=this.h6h,l=this.h6l,P=this.h7h,Te=this.h7l,ve=this.blocks,we,ie,y,se,Se,j,te,w,k,O,ee,L,z,ae,q,G,oe,J,he,Ee,ye,Oe,je,He,Ve;for(we=32;we<160;we+=2)Ee=ve[we-30],ye=ve[we-29],ie=(Ee>>>1|ye<<31)^(Ee>>>8|ye<<24)^Ee>>>7,y=(ye>>>1|Ee<<31)^(ye>>>8|Ee<<24)^(ye>>>7|Ee<<25),Ee=ve[we-4],ye=ve[we-3],se=(Ee>>>19|ye<<13)^(ye>>>29|Ee<<3)^Ee>>>6,Se=(ye>>>19|Ee<<13)^(Ee>>>29|ye<<3)^(ye>>>6|Ee<<26),Ee=ve[we-32],ye=ve[we-31],Oe=ve[we-14],je=ve[we-13],j=(je&65535)+(ye&65535)+(y&65535)+(Se&65535),te=(je>>>16)+(ye>>>16)+(y>>>16)+(Se>>>16)+(j>>>16),w=(Oe&65535)+(Ee&65535)+(ie&65535)+(se&65535)+(te>>>16),k=(Oe>>>16)+(Ee>>>16)+(ie>>>16)+(se>>>16)+(w>>>16),ve[we]=k<<16|w&65535,ve[we+1]=te<<16|j&65535;var Qe=I,Ge=Y,ht=Z,Bt=ge,st=S,Xe=a,Mt=f,Ke=g,We=x,rt=R,ft=V,dt=H,qt=_,mt=l,yt=P,jt=Te;for(G=ht&st,oe=Bt&Xe,we=0;we<160;we+=8)ie=(Qe>>>28|Ge<<4)^(Ge>>>2|Qe<<30)^(Ge>>>7|Qe<<25),y=(Ge>>>28|Qe<<4)^(Qe>>>2|Ge<<30)^(Qe>>>7|Ge<<25),se=(We>>>14|rt<<18)^(We>>>18|rt<<14)^(rt>>>9|We<<23),Se=(rt>>>14|We<<18)^(rt>>>18|We<<14)^(We>>>9|rt<<23),O=Qe&ht,ee=Ge&Bt,J=O^Qe&st^G,he=ee^Ge&Xe^oe,He=We&ft^~We&qt,Ve=rt&dt^~rt&mt,Ee=ve[we],ye=ve[we+1],Oe=B[we],je=B[we+1],j=(je&65535)+(ye&65535)+(Ve&65535)+(Se&65535)+(jt&65535),te=(je>>>16)+(ye>>>16)+(Ve>>>16)+(Se>>>16)+(jt>>>16)+(j>>>16),w=(Oe&65535)+(Ee&65535)+(He&65535)+(se&65535)+(yt&65535)+(te>>>16),k=(Oe>>>16)+(Ee>>>16)+(He>>>16)+(se>>>16)+(yt>>>16)+(w>>>16),Ee=k<<16|w&65535,ye=te<<16|j&65535,j=(he&65535)+(y&65535),te=(he>>>16)+(y>>>16)+(j>>>16),w=(J&65535)+(ie&65535)+(te>>>16),k=(J>>>16)+(ie>>>16)+(w>>>16),Oe=k<<16|w&65535,je=te<<16|j&65535,j=(Ke&65535)+(ye&65535),te=(Ke>>>16)+(ye>>>16)+(j>>>16),w=(Mt&65535)+(Ee&65535)+(te>>>16),k=(Mt>>>16)+(Ee>>>16)+(w>>>16),yt=k<<16|w&65535,jt=te<<16|j&65535,j=(je&65535)+(ye&65535),te=(je>>>16)+(ye>>>16)+(j>>>16),w=(Oe&65535)+(Ee&65535)+(te>>>16),k=(Oe>>>16)+(Ee>>>16)+(w>>>16),Mt=k<<16|w&65535,Ke=te<<16|j&65535,ie=(Mt>>>28|Ke<<4)^(Ke>>>2|Mt<<30)^(Ke>>>7|Mt<<25),y=(Ke>>>28|Mt<<4)^(Mt>>>2|Ke<<30)^(Mt>>>7|Ke<<25),se=(yt>>>14|jt<<18)^(yt>>>18|jt<<14)^(jt>>>9|yt<<23),Se=(jt>>>14|yt<<18)^(jt>>>18|yt<<14)^(yt>>>9|jt<<23),L=Mt&Qe,z=Ke&Ge,J=L^Mt&ht^O,he=z^Ke&Bt^ee,He=yt&We^~yt&ft,Ve=jt&rt^~jt&dt,Ee=ve[we+2],ye=ve[we+3],Oe=B[we+2],je=B[we+3],j=(je&65535)+(ye&65535)+(Ve&65535)+(Se&65535)+(mt&65535),te=(je>>>16)+(ye>>>16)+(Ve>>>16)+(Se>>>16)+(mt>>>16)+(j>>>16),w=(Oe&65535)+(Ee&65535)+(He&65535)+(se&65535)+(qt&65535)+(te>>>16),k=(Oe>>>16)+(Ee>>>16)+(He>>>16)+(se>>>16)+(qt>>>16)+(w>>>16),Ee=k<<16|w&65535,ye=te<<16|j&65535,j=(he&65535)+(y&65535),te=(he>>>16)+(y>>>16)+(j>>>16),w=(J&65535)+(ie&65535)+(te>>>16),k=(J>>>16)+(ie>>>16)+(w>>>16),Oe=k<<16|w&65535,je=te<<16|j&65535,j=(Xe&65535)+(ye&65535),te=(Xe>>>16)+(ye>>>16)+(j>>>16),w=(st&65535)+(Ee&65535)+(te>>>16),k=(st>>>16)+(Ee>>>16)+(w>>>16),qt=k<<16|w&65535,mt=te<<16|j&65535,j=(je&65535)+(ye&65535),te=(je>>>16)+(ye>>>16)+(j>>>16),w=(Oe&65535)+(Ee&65535)+(te>>>16),k=(Oe>>>16)+(Ee>>>16)+(w>>>16),st=k<<16|w&65535,Xe=te<<16|j&65535,ie=(st>>>28|Xe<<4)^(Xe>>>2|st<<30)^(Xe>>>7|st<<25),y=(Xe>>>28|st<<4)^(st>>>2|Xe<<30)^(st>>>7|Xe<<25),se=(qt>>>14|mt<<18)^(qt>>>18|mt<<14)^(mt>>>9|qt<<23),Se=(mt>>>14|qt<<18)^(mt>>>18|qt<<14)^(qt>>>9|mt<<23),ae=st&Mt,q=Xe&Ke,J=ae^st&Qe^L,he=q^Xe&Ge^z,He=qt&yt^~qt&We,Ve=mt&jt^~mt&rt,Ee=ve[we+4],ye=ve[we+5],Oe=B[we+4],je=B[we+5],j=(je&65535)+(ye&65535)+(Ve&65535)+(Se&65535)+(dt&65535),te=(je>>>16)+(ye>>>16)+(Ve>>>16)+(Se>>>16)+(dt>>>16)+(j>>>16),w=(Oe&65535)+(Ee&65535)+(He&65535)+(se&65535)+(ft&65535)+(te>>>16),k=(Oe>>>16)+(Ee>>>16)+(He>>>16)+(se>>>16)+(ft>>>16)+(w>>>16),Ee=k<<16|w&65535,ye=te<<16|j&65535,j=(he&65535)+(y&65535),te=(he>>>16)+(y>>>16)+(j>>>16),w=(J&65535)+(ie&65535)+(te>>>16),k=(J>>>16)+(ie>>>16)+(w>>>16),Oe=k<<16|w&65535,je=te<<16|j&65535,j=(Bt&65535)+(ye&65535),te=(Bt>>>16)+(ye>>>16)+(j>>>16),w=(ht&65535)+(Ee&65535)+(te>>>16),k=(ht>>>16)+(Ee>>>16)+(w>>>16),ft=k<<16|w&65535,dt=te<<16|j&65535,j=(je&65535)+(ye&65535),te=(je>>>16)+(ye>>>16)+(j>>>16),w=(Oe&65535)+(Ee&65535)+(te>>>16),k=(Oe>>>16)+(Ee>>>16)+(w>>>16),ht=k<<16|w&65535,Bt=te<<16|j&65535,ie=(ht>>>28|Bt<<4)^(Bt>>>2|ht<<30)^(Bt>>>7|ht<<25),y=(Bt>>>28|ht<<4)^(ht>>>2|Bt<<30)^(ht>>>7|Bt<<25),se=(ft>>>14|dt<<18)^(ft>>>18|dt<<14)^(dt>>>9|ft<<23),Se=(dt>>>14|ft<<18)^(dt>>>18|ft<<14)^(ft>>>9|dt<<23),G=ht&st,oe=Bt&Xe,J=G^ht&Mt^ae,he=oe^Bt&Ke^q,He=ft&qt^~ft&yt,Ve=dt&mt^~dt&jt,Ee=ve[we+6],ye=ve[we+7],Oe=B[we+6],je=B[we+7],j=(je&65535)+(ye&65535)+(Ve&65535)+(Se&65535)+(rt&65535),te=(je>>>16)+(ye>>>16)+(Ve>>>16)+(Se>>>16)+(rt>>>16)+(j>>>16),w=(Oe&65535)+(Ee&65535)+(He&65535)+(se&65535)+(We&65535)+(te>>>16),k=(Oe>>>16)+(Ee>>>16)+(He>>>16)+(se>>>16)+(We>>>16)+(w>>>16),Ee=k<<16|w&65535,ye=te<<16|j&65535,j=(he&65535)+(y&65535),te=(he>>>16)+(y>>>16)+(j>>>16),w=(J&65535)+(ie&65535)+(te>>>16),k=(J>>>16)+(ie>>>16)+(w>>>16),Oe=k<<16|w&65535,je=te<<16|j&65535,j=(Ge&65535)+(ye&65535),te=(Ge>>>16)+(ye>>>16)+(j>>>16),w=(Qe&65535)+(Ee&65535)+(te>>>16),k=(Qe>>>16)+(Ee>>>16)+(w>>>16),We=k<<16|w&65535,rt=te<<16|j&65535,j=(je&65535)+(ye&65535),te=(je>>>16)+(ye>>>16)+(j>>>16),w=(Oe&65535)+(Ee&65535)+(te>>>16),k=(Oe>>>16)+(Ee>>>16)+(w>>>16),Qe=k<<16|w&65535,Ge=te<<16|j&65535;j=(Y&65535)+(Ge&65535),te=(Y>>>16)+(Ge>>>16)+(j>>>16),w=(I&65535)+(Qe&65535)+(te>>>16),k=(I>>>16)+(Qe>>>16)+(w>>>16),this.h0h=k<<16|w&65535,this.h0l=te<<16|j&65535,j=(ge&65535)+(Bt&65535),te=(ge>>>16)+(Bt>>>16)+(j>>>16),w=(Z&65535)+(ht&65535)+(te>>>16),k=(Z>>>16)+(ht>>>16)+(w>>>16),this.h1h=k<<16|w&65535,this.h1l=te<<16|j&65535,j=(a&65535)+(Xe&65535),te=(a>>>16)+(Xe>>>16)+(j>>>16),w=(S&65535)+(st&65535)+(te>>>16),k=(S>>>16)+(st>>>16)+(w>>>16),this.h2h=k<<16|w&65535,this.h2l=te<<16|j&65535,j=(g&65535)+(Ke&65535),te=(g>>>16)+(Ke>>>16)+(j>>>16),w=(f&65535)+(Mt&65535)+(te>>>16),k=(f>>>16)+(Mt>>>16)+(w>>>16),this.h3h=k<<16|w&65535,this.h3l=te<<16|j&65535,j=(R&65535)+(rt&65535),te=(R>>>16)+(rt>>>16)+(j>>>16),w=(x&65535)+(We&65535)+(te>>>16),k=(x>>>16)+(We>>>16)+(w>>>16),this.h4h=k<<16|w&65535,this.h4l=te<<16|j&65535,j=(H&65535)+(dt&65535),te=(H>>>16)+(dt>>>16)+(j>>>16),w=(V&65535)+(ft&65535)+(te>>>16),k=(V>>>16)+(ft>>>16)+(w>>>16),this.h5h=k<<16|w&65535,this.h5l=te<<16|j&65535,j=(l&65535)+(mt&65535),te=(l>>>16)+(mt>>>16)+(j>>>16),w=(_&65535)+(qt&65535)+(te>>>16),k=(_>>>16)+(qt>>>16)+(w>>>16),this.h6h=k<<16|w&65535,this.h6l=te<<16|j&65535,j=(Te&65535)+(jt&65535),te=(Te>>>16)+(jt>>>16)+(j>>>16),w=(P&65535)+(yt&65535)+(te>>>16),k=(P>>>16)+(yt>>>16)+(w>>>16),this.h7h=k<<16|w&65535,this.h7l=te<<16|j&65535},$.prototype.hex=function(){this.finalize();var I=this.h0h,Y=this.h0l,Z=this.h1h,ge=this.h1l,S=this.h2h,a=this.h2l,f=this.h3h,g=this.h3l,x=this.h4h,R=this.h4l,V=this.h5h,H=this.h5l,_=this.h6h,l=this.h6l,P=this.h7h,Te=this.h7l,ve=this.bits,we=u[I>>28&15]+u[I>>24&15]+u[I>>20&15]+u[I>>16&15]+u[I>>12&15]+u[I>>8&15]+u[I>>4&15]+u[I&15]+u[Y>>28&15]+u[Y>>24&15]+u[Y>>20&15]+u[Y>>16&15]+u[Y>>12&15]+u[Y>>8&15]+u[Y>>4&15]+u[Y&15]+u[Z>>28&15]+u[Z>>24&15]+u[Z>>20&15]+u[Z>>16&15]+u[Z>>12&15]+u[Z>>8&15]+u[Z>>4&15]+u[Z&15]+u[ge>>28&15]+u[ge>>24&15]+u[ge>>20&15]+u[ge>>16&15]+u[ge>>12&15]+u[ge>>8&15]+u[ge>>4&15]+u[ge&15]+u[S>>28&15]+u[S>>24&15]+u[S>>20&15]+u[S>>16&15]+u[S>>12&15]+u[S>>8&15]+u[S>>4&15]+u[S&15]+u[a>>28&15]+u[a>>24&15]+u[a>>20&15]+u[a>>16&15]+u[a>>12&15]+u[a>>8&15]+u[a>>4&15]+u[a&15]+u[f>>28&15]+u[f>>24&15]+u[f>>20&15]+u[f>>16&15]+u[f>>12&15]+u[f>>8&15]+u[f>>4&15]+u[f&15];return ve>=256&&(we+=u[g>>28&15]+u[g>>24&15]+u[g>>20&15]+u[g>>16&15]+u[g>>12&15]+u[g>>8&15]+u[g>>4&15]+u[g&15]),ve>=384&&(we+=u[x>>28&15]+u[x>>24&15]+u[x>>20&15]+u[x>>16&15]+u[x>>12&15]+u[x>>8&15]+u[x>>4&15]+u[x&15]+u[R>>28&15]+u[R>>24&15]+u[R>>20&15]+u[R>>16&15]+u[R>>12&15]+u[R>>8&15]+u[R>>4&15]+u[R&15]+u[V>>28&15]+u[V>>24&15]+u[V>>20&15]+u[V>>16&15]+u[V>>12&15]+u[V>>8&15]+u[V>>4&15]+u[V&15]+u[H>>28&15]+u[H>>24&15]+u[H>>20&15]+u[H>>16&15]+u[H>>12&15]+u[H>>8&15]+u[H>>4&15]+u[H&15]),ve==512&&(we+=u[_>>28&15]+u[_>>24&15]+u[_>>20&15]+u[_>>16&15]+u[_>>12&15]+u[_>>8&15]+u[_>>4&15]+u[_&15]+u[l>>28&15]+u[l>>24&15]+u[l>>20&15]+u[l>>16&15]+u[l>>12&15]+u[l>>8&15]+u[l>>4&15]+u[l&15]+u[P>>28&15]+u[P>>24&15]+u[P>>20&15]+u[P>>16&15]+u[P>>12&15]+u[P>>8&15]+u[P>>4&15]+u[P&15]+u[Te>>28&15]+u[Te>>24&15]+u[Te>>20&15]+u[Te>>16&15]+u[Te>>12&15]+u[Te>>8&15]+u[Te>>4&15]+u[Te&15]),we},$.prototype.toString=$.prototype.hex,$.prototype.digest=function(){this.finalize();var I=this.h0h,Y=this.h0l,Z=this.h1h,ge=this.h1l,S=this.h2h,a=this.h2l,f=this.h3h,g=this.h3l,x=this.h4h,R=this.h4l,V=this.h5h,H=this.h5l,_=this.h6h,l=this.h6l,P=this.h7h,Te=this.h7l,ve=this.bits,we=[I>>24&255,I>>16&255,I>>8&255,I&255,Y>>24&255,Y>>16&255,Y>>8&255,Y&255,Z>>24&255,Z>>16&255,Z>>8&255,Z&255,ge>>24&255,ge>>16&255,ge>>8&255,ge&255,S>>24&255,S>>16&255,S>>8&255,S&255,a>>24&255,a>>16&255,a>>8&255,a&255,f>>24&255,f>>16&255,f>>8&255,f&255];return ve>=256&&we.push(g>>24&255,g>>16&255,g>>8&255,g&255),ve>=384&&we.push(x>>24&255,x>>16&255,x>>8&255,x&255,R>>24&255,R>>16&255,R>>8&255,R&255,V>>24&255,V>>16&255,V>>8&255,V&255,H>>24&255,H>>16&255,H>>8&255,H&255),ve==512&&we.push(_>>24&255,_>>16&255,_>>8&255,_&255,l>>24&255,l>>16&255,l>>8&255,l&255,P>>24&255,P>>16&255,P>>8&255,P&255,Te>>24&255,Te>>16&255,Te>>8&255,Te&255),we},$.prototype.array=$.prototype.digest,$.prototype.arrayBuffer=function(){this.finalize();var I=this.bits,Y=new ArrayBuffer(I/8),Z=new DataView(Y);return Z.setUint32(0,this.h0h),Z.setUint32(4,this.h0l),Z.setUint32(8,this.h1h),Z.setUint32(12,this.h1l),Z.setUint32(16,this.h2h),Z.setUint32(20,this.h2l),Z.setUint32(24,this.h3h),I>=256&&Z.setUint32(28,this.h3l),I>=384&&(Z.setUint32(32,this.h4h),Z.setUint32(36,this.h4l),Z.setUint32(40,this.h5h),Z.setUint32(44,this.h5l)),I==512&&(Z.setUint32(48,this.h6h),Z.setUint32(52,this.h6l),Z.setUint32(56,this.h7h),Z.setUint32(60,this.h7l)),Y},$.prototype.clone=function(){var I=new $(this.bits,!1);return this.copyTo(I),I},$.prototype.copyTo=function(I){var Y=0,Z=["h0h","h0l","h1h","h1l","h2h","h2l","h3h","h3l","h4h","h4l","h5h","h5l","h6h","h6l","h7h","h7l","start","bytes","hBytes","finalized","hashed","lastByteIndex"];for(Y=0;Y<Z.length;++Y)I[Z[Y]]=this[Z[Y]];for(Y=0;Y<this.blocks.length;++Y)I.blocks[Y]=this.blocks[Y]};function re(I,Y,Z){var ge,S=typeof I;if(S!=="string"){if(S==="object"){if(I===null)throw new Error(e);if(m&&I.constructor===ArrayBuffer)I=new Uint8Array(I);else if(!Array.isArray(I)&&(!m||!ArrayBuffer.isView(I)))throw new Error(e)}else throw new Error(e);ge=!0}var a=I.length;if(!ge){for(var f=[],a=I.length,g=0,x,R=0;R<a;++R)x=I.charCodeAt(R),x<128?f[g++]=x:x<2048?(f[g++]=192|x>>6,f[g++]=128|x&63):x<55296||x>=57344?(f[g++]=224|x>>12,f[g++]=128|x>>6&63,f[g++]=128|x&63):(x=65536+((x&1023)<<10|I.charCodeAt(++R)&1023),f[g++]=240|x>>18,f[g++]=128|x>>12&63,f[g++]=128|x>>6&63,f[g++]=128|x&63);I=f}I.length>128&&(I=new $(Y,!0).update(I).array());for(var V=[],H=[],R=0;R<128;++R){var _=I[R]||0;V[R]=92^_,H[R]=54^_}$.call(this,Y,Z),this.update(H),this.oKeyPad=V,this.inner=!0,this.sharedMemory=Z}re.prototype=new $,re.prototype.finalize=function(){if($.prototype.finalize.call(this),this.inner){this.inner=!1;var I=this.array();$.call(this,this.bits,this.sharedMemory),this.update(this.oKeyPad),this.update(I),$.prototype.finalize.call(this)}},re.prototype.clone=function(){var I=new re([],this.bits,!1);this.copyTo(I),I.inner=this.inner;for(var Y=0;Y<this.oKeyPad.length;++Y)I.oKeyPad[Y]=this.oKeyPad[Y];return I};var ue=E(512);ue.sha512=ue,ue.sha384=E(384),ue.sha512_256=E(256),ue.sha512_224=E(224),ue.sha512.hmac=N(512),ue.sha384.hmac=N(384),ue.sha512_256.hmac=N(256),ue.sha512_224.hmac=N(224),h?n.exports=ue:(i.sha512=ue.sha512,i.sha384=ue.sha384,i.sha512_256=ue.sha512_256,i.sha512_224=ue.sha512_224)})()}(qc)),qc.exports}var _w=Rw();const Pw=os(_w);var ds={exports:{}},zc={exports:{}},Ra={exports:{}},Ow=Ra.exports,kl;function Xf(){return kl||(kl=1,function(n){(function(e){var t,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,i=Math.ceil,o=Math.floor,s="[BigNumber Error] ",h=s+"Number primitive has more than 15 significant digits: ",m=1e14,u=14,v=9007199254740991,T=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],B=1e7,W=1e9;function U(I){var Y,Z,ge,S=ie.prototype={constructor:ie,toString:null,valueOf:null},a=new ie(1),f=20,g=4,x=-7,R=21,V=-1e7,H=1e7,_=!1,l=1,P=0,Te={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},ve="0123456789abcdefghijklmnopqrstuvwxyz",we=!0;function ie(w,k){var O,ee,L,z,ae,q,G,oe,J=this;if(!(J instanceof ie))return new ie(w,k);if(k==null){if(w&&w._isBigNumber===!0){J.s=w.s,!w.c||w.e>H?J.c=J.e=null:w.e<V?J.c=[J.e=0]:(J.e=w.e,J.c=w.c.slice());return}if((q=typeof w=="number")&&w*0==0){if(J.s=1/w<0?(w=-w,-1):1,w===~~w){for(z=0,ae=w;ae>=10;ae/=10,z++);z>H?J.c=J.e=null:(J.e=z,J.c=[w]);return}oe=String(w)}else{if(!r.test(oe=String(w)))return ge(J,oe,q);J.s=oe.charCodeAt(0)==45?(oe=oe.slice(1),-1):1}(z=oe.indexOf("."))>-1&&(oe=oe.replace(".","")),(ae=oe.search(/e/i))>0?(z<0&&(z=ae),z+=+oe.slice(ae+1),oe=oe.substring(0,ae)):z<0&&(z=oe.length)}else{if(N(k,2,ve.length,"Base"),k==10&&we)return J=new ie(w),j(J,f+J.e+1,g);if(oe=String(w),q=typeof w=="number"){if(w*0!=0)return ge(J,oe,q,k);if(J.s=1/w<0?(oe=oe.slice(1),-1):1,ie.DEBUG&&oe.replace(/^0\.0*|\./,"").length>15)throw Error(h+w)}else J.s=oe.charCodeAt(0)===45?(oe=oe.slice(1),-1):1;for(O=ve.slice(0,k),z=ae=0,G=oe.length;ae<G;ae++)if(O.indexOf(ee=oe.charAt(ae))<0){if(ee=="."){if(ae>z){z=G;continue}}else if(!L&&(oe==oe.toUpperCase()&&(oe=oe.toLowerCase())||oe==oe.toLowerCase()&&(oe=oe.toUpperCase()))){L=!0,ae=-1,z=0;continue}return ge(J,String(w),q,k)}q=!1,oe=Z(oe,k,10,J.s),(z=oe.indexOf("."))>-1?oe=oe.replace(".",""):z=oe.length}for(ae=0;oe.charCodeAt(ae)===48;ae++);for(G=oe.length;oe.charCodeAt(--G)===48;);if(oe=oe.slice(ae,++G)){if(G-=ae,q&&ie.DEBUG&&G>15&&(w>v||w!==o(w)))throw Error(h+J.s*w);if((z=z-ae-1)>H)J.c=J.e=null;else if(z<V)J.c=[J.e=0];else{if(J.e=z,J.c=[],ae=(z+1)%u,z<0&&(ae+=u),ae<G){for(ae&&J.c.push(+oe.slice(0,ae)),G-=u;ae<G;)J.c.push(+oe.slice(ae,ae+=u));ae=u-(oe=oe.slice(ae)).length}else ae-=G;for(;ae--;oe+="0");J.c.push(+oe)}}else J.c=[J.e=0]}ie.clone=U,ie.ROUND_UP=0,ie.ROUND_DOWN=1,ie.ROUND_CEIL=2,ie.ROUND_FLOOR=3,ie.ROUND_HALF_UP=4,ie.ROUND_HALF_DOWN=5,ie.ROUND_HALF_EVEN=6,ie.ROUND_HALF_CEIL=7,ie.ROUND_HALF_FLOOR=8,ie.EUCLID=9,ie.config=ie.set=function(w){var k,O;if(w!=null)if(typeof w=="object"){if(w.hasOwnProperty(k="DECIMAL_PLACES")&&(O=w[k],N(O,0,W,k),f=O),w.hasOwnProperty(k="ROUNDING_MODE")&&(O=w[k],N(O,0,8,k),g=O),w.hasOwnProperty(k="EXPONENTIAL_AT")&&(O=w[k],O&&O.pop?(N(O[0],-W,0,k),N(O[1],0,W,k),x=O[0],R=O[1]):(N(O,-W,W,k),x=-(R=O<0?-O:O))),w.hasOwnProperty(k="RANGE"))if(O=w[k],O&&O.pop)N(O[0],-W,-1,k),N(O[1],1,W,k),V=O[0],H=O[1];else if(N(O,-W,W,k),O)V=-(H=O<0?-O:O);else throw Error(s+k+" cannot be zero: "+O);if(w.hasOwnProperty(k="CRYPTO"))if(O=w[k],O===!!O)if(O)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))_=O;else throw _=!O,Error(s+"crypto unavailable");else _=O;else throw Error(s+k+" not true or false: "+O);if(w.hasOwnProperty(k="MODULO_MODE")&&(O=w[k],N(O,0,9,k),l=O),w.hasOwnProperty(k="POW_PRECISION")&&(O=w[k],N(O,0,W,k),P=O),w.hasOwnProperty(k="FORMAT"))if(O=w[k],typeof O=="object")Te=O;else throw Error(s+k+" not an object: "+O);if(w.hasOwnProperty(k="ALPHABET"))if(O=w[k],typeof O=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(O))we=O.slice(0,10)=="0123456789",ve=O;else throw Error(s+k+" invalid: "+O)}else throw Error(s+"Object expected: "+w);return{DECIMAL_PLACES:f,ROUNDING_MODE:g,EXPONENTIAL_AT:[x,R],RANGE:[V,H],CRYPTO:_,MODULO_MODE:l,POW_PRECISION:P,FORMAT:Te,ALPHABET:ve}},ie.isBigNumber=function(w){if(!w||w._isBigNumber!==!0)return!1;if(!ie.DEBUG)return!0;var k,O,ee=w.c,L=w.e,z=w.s;e:if({}.toString.call(ee)=="[object Array]"){if((z===1||z===-1)&&L>=-W&&L<=W&&L===o(L)){if(ee[0]===0){if(L===0&&ee.length===1)return!0;break e}if(k=(L+1)%u,k<1&&(k+=u),String(ee[0]).length==k){for(k=0;k<ee.length;k++)if(O=ee[k],O<0||O>=m||O!==o(O))break e;if(O!==0)return!0}}}else if(ee===null&&L===null&&(z===null||z===1||z===-1))return!0;throw Error(s+"Invalid BigNumber: "+w)},ie.maximum=ie.max=function(){return se(arguments,-1)},ie.minimum=ie.min=function(){return se(arguments,1)},ie.random=function(){var w=9007199254740992,k=Math.random()*w&2097151?function(){return o(Math.random()*w)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(O){var ee,L,z,ae,q,G=0,oe=[],J=new ie(a);if(O==null?O=f:N(O,0,W),ae=i(O/u),_)if(crypto.getRandomValues){for(ee=crypto.getRandomValues(new Uint32Array(ae*=2));G<ae;)q=ee[G]*131072+(ee[G+1]>>>11),q>=9e15?(L=crypto.getRandomValues(new Uint32Array(2)),ee[G]=L[0],ee[G+1]=L[1]):(oe.push(q%1e14),G+=2);G=ae/2}else if(crypto.randomBytes){for(ee=crypto.randomBytes(ae*=7);G<ae;)q=(ee[G]&31)*281474976710656+ee[G+1]*1099511627776+ee[G+2]*4294967296+ee[G+3]*16777216+(ee[G+4]<<16)+(ee[G+5]<<8)+ee[G+6],q>=9e15?crypto.randomBytes(7).copy(ee,G):(oe.push(q%1e14),G+=7);G=ae/7}else throw _=!1,Error(s+"crypto unavailable");if(!_)for(;G<ae;)q=k(),q<9e15&&(oe[G++]=q%1e14);for(ae=oe[--G],O%=u,ae&&O&&(q=T[u-O],oe[G]=o(ae/q)*q);oe[G]===0;oe.pop(),G--);if(G<0)oe=[z=0];else{for(z=-1;oe[0]===0;oe.splice(0,1),z-=u);for(G=1,q=oe[0];q>=10;q/=10,G++);G<u&&(z-=u-G)}return J.e=z,J.c=oe,J}}(),ie.sum=function(){for(var w=1,k=arguments,O=new ie(k[0]);w<k.length;)O=O.plus(k[w++]);return O},Z=function(){var w="0123456789";function k(O,ee,L,z){for(var ae,q=[0],G,oe=0,J=O.length;oe<J;){for(G=q.length;G--;q[G]*=ee);for(q[0]+=z.indexOf(O.charAt(oe++)),ae=0;ae<q.length;ae++)q[ae]>L-1&&(q[ae+1]==null&&(q[ae+1]=0),q[ae+1]+=q[ae]/L|0,q[ae]%=L)}return q.reverse()}return function(O,ee,L,z,ae){var q,G,oe,J,he,Ee,ye,Oe,je=O.indexOf("."),He=f,Ve=g;for(je>=0&&(J=P,P=0,O=O.replace(".",""),Oe=new ie(ee),Ee=Oe.pow(O.length-je),P=J,Oe.c=k(ue(E(Ee.c),Ee.e,"0"),10,L,w),Oe.e=Oe.c.length),ye=k(O,ee,L,ae?(q=ve,w):(q=w,ve)),oe=J=ye.length;ye[--J]==0;ye.pop());if(!ye[0])return q.charAt(0);if(je<0?--oe:(Ee.c=ye,Ee.e=oe,Ee.s=z,Ee=Y(Ee,Oe,He,Ve,L),ye=Ee.c,he=Ee.r,oe=Ee.e),G=oe+He+1,je=ye[G],J=L/2,he=he||G<0||ye[G+1]!=null,he=Ve<4?(je!=null||he)&&(Ve==0||Ve==(Ee.s<0?3:2)):je>J||je==J&&(Ve==4||he||Ve==6&&ye[G-1]&1||Ve==(Ee.s<0?8:7)),G<1||!ye[0])O=he?ue(q.charAt(1),-He,q.charAt(0)):q.charAt(0);else{if(ye.length=G,he)for(--L;++ye[--G]>L;)ye[G]=0,G||(++oe,ye=[1].concat(ye));for(J=ye.length;!ye[--J];);for(je=0,O="";je<=J;O+=q.charAt(ye[je++]));O=ue(O,oe,q.charAt(0))}return O}}(),Y=function(){function w(ee,L,z){var ae,q,G,oe,J=0,he=ee.length,Ee=L%B,ye=L/B|0;for(ee=ee.slice();he--;)G=ee[he]%B,oe=ee[he]/B|0,ae=ye*G+oe*Ee,q=Ee*G+ae%B*B+J,J=(q/z|0)+(ae/B|0)+ye*oe,ee[he]=q%z;return J&&(ee=[J].concat(ee)),ee}function k(ee,L,z,ae){var q,G;if(z!=ae)G=z>ae?1:-1;else for(q=G=0;q<z;q++)if(ee[q]!=L[q]){G=ee[q]>L[q]?1:-1;break}return G}function O(ee,L,z,ae){for(var q=0;z--;)ee[z]-=q,q=ee[z]<L[z]?1:0,ee[z]=q*ae+ee[z]-L[z];for(;!ee[0]&&ee.length>1;ee.splice(0,1));}return function(ee,L,z,ae,q){var G,oe,J,he,Ee,ye,Oe,je,He,Ve,Qe,Ge,ht,Bt,st,Xe,Mt,Ke=ee.s==L.s?1:-1,We=ee.c,rt=L.c;if(!We||!We[0]||!rt||!rt[0])return new ie(!ee.s||!L.s||(We?rt&&We[0]==rt[0]:!rt)?NaN:We&&We[0]==0||!rt?Ke*0:Ke/0);for(je=new ie(Ke),He=je.c=[],oe=ee.e-L.e,Ke=z+oe+1,q||(q=m,oe=ne(ee.e/u)-ne(L.e/u),Ke=Ke/u|0),J=0;rt[J]==(We[J]||0);J++);if(rt[J]>(We[J]||0)&&oe--,Ke<0)He.push(1),he=!0;else{for(Bt=We.length,Xe=rt.length,J=0,Ke+=2,Ee=o(q/(rt[0]+1)),Ee>1&&(rt=w(rt,Ee,q),We=w(We,Ee,q),Xe=rt.length,Bt=We.length),ht=Xe,Ve=We.slice(0,Xe),Qe=Ve.length;Qe<Xe;Ve[Qe++]=0);Mt=rt.slice(),Mt=[0].concat(Mt),st=rt[0],rt[1]>=q/2&&st++;do{if(Ee=0,G=k(rt,Ve,Xe,Qe),G<0){if(Ge=Ve[0],Xe!=Qe&&(Ge=Ge*q+(Ve[1]||0)),Ee=o(Ge/st),Ee>1)for(Ee>=q&&(Ee=q-1),ye=w(rt,Ee,q),Oe=ye.length,Qe=Ve.length;k(ye,Ve,Oe,Qe)==1;)Ee--,O(ye,Xe<Oe?Mt:rt,Oe,q),Oe=ye.length,G=1;else Ee==0&&(G=Ee=1),ye=rt.slice(),Oe=ye.length;if(Oe<Qe&&(ye=[0].concat(ye)),O(Ve,ye,Qe,q),Qe=Ve.length,G==-1)for(;k(rt,Ve,Xe,Qe)<1;)Ee++,O(Ve,Xe<Qe?Mt:rt,Qe,q),Qe=Ve.length}else G===0&&(Ee++,Ve=[0]);He[J++]=Ee,Ve[0]?Ve[Qe++]=We[ht]||0:(Ve=[We[ht]],Qe=1)}while((ht++<Bt||Ve[0]!=null)&&Ke--);he=Ve[0]!=null,He[0]||He.splice(0,1)}if(q==m){for(J=1,Ke=He[0];Ke>=10;Ke/=10,J++);j(je,z+(je.e=J+oe*u-1)+1,ae,he)}else je.e=oe,je.r=+he;return je}}();function y(w,k,O,ee){var L,z,ae,q,G;if(O==null?O=g:N(O,0,8),!w.c)return w.toString();if(L=w.c[0],ae=w.e,k==null)G=E(w.c),G=ee==1||ee==2&&(ae<=x||ae>=R)?re(G,ae):ue(G,ae,"0");else if(w=j(new ie(w),k,O),z=w.e,G=E(w.c),q=G.length,ee==1||ee==2&&(k<=z||z<=x)){for(;q<k;G+="0",q++);G=re(G,z)}else if(k-=ae,G=ue(G,z,"0"),z+1>q){if(--k>0)for(G+=".";k--;G+="0");}else if(k+=z-q,k>0)for(z+1==q&&(G+=".");k--;G+="0");return w.s<0&&L?"-"+G:G}function se(w,k){for(var O,ee,L=1,z=new ie(w[0]);L<w.length;L++)ee=new ie(w[L]),(!ee.s||(O=C(z,ee))===k||O===0&&z.s===k)&&(z=ee);return z}function Se(w,k,O){for(var ee=1,L=k.length;!k[--L];k.pop());for(L=k[0];L>=10;L/=10,ee++);return(O=ee+O*u-1)>H?w.c=w.e=null:O<V?w.c=[w.e=0]:(w.e=O,w.c=k),w}ge=function(){var w=/^(-?)0([xbo])(?=\w[\w.]*$)/i,k=/^([^.]+)\.$/,O=/^\.([^.]+)$/,ee=/^-?(Infinity|NaN)$/,L=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(z,ae,q,G){var oe,J=q?ae:ae.replace(L,"");if(ee.test(J))z.s=isNaN(J)?null:J<0?-1:1;else{if(!q&&(J=J.replace(w,function(he,Ee,ye){return oe=(ye=ye.toLowerCase())=="x"?16:ye=="b"?2:8,!G||G==oe?Ee:he}),G&&(oe=G,J=J.replace(k,"$1").replace(O,"0.$1")),ae!=J))return new ie(J,oe);if(ie.DEBUG)throw Error(s+"Not a"+(G?" base "+G:"")+" number: "+ae);z.s=null}z.c=z.e=null}}();function j(w,k,O,ee){var L,z,ae,q,G,oe,J,he=w.c,Ee=T;if(he){e:{for(L=1,q=he[0];q>=10;q/=10,L++);if(z=k-L,z<0)z+=u,ae=k,G=he[oe=0],J=o(G/Ee[L-ae-1]%10);else if(oe=i((z+1)/u),oe>=he.length)if(ee){for(;he.length<=oe;he.push(0));G=J=0,L=1,z%=u,ae=z-u+1}else break e;else{for(G=q=he[oe],L=1;q>=10;q/=10,L++);z%=u,ae=z-u+L,J=ae<0?0:o(G/Ee[L-ae-1]%10)}if(ee=ee||k<0||he[oe+1]!=null||(ae<0?G:G%Ee[L-ae-1]),ee=O<4?(J||ee)&&(O==0||O==(w.s<0?3:2)):J>5||J==5&&(O==4||ee||O==6&&(z>0?ae>0?G/Ee[L-ae]:0:he[oe-1])%10&1||O==(w.s<0?8:7)),k<1||!he[0])return he.length=0,ee?(k-=w.e+1,he[0]=Ee[(u-k%u)%u],w.e=-k||0):he[0]=w.e=0,w;if(z==0?(he.length=oe,q=1,oe--):(he.length=oe+1,q=Ee[u-z],he[oe]=ae>0?o(G/Ee[L-ae]%Ee[ae])*q:0),ee)for(;;)if(oe==0){for(z=1,ae=he[0];ae>=10;ae/=10,z++);for(ae=he[0]+=q,q=1;ae>=10;ae/=10,q++);z!=q&&(w.e++,he[0]==m&&(he[0]=1));break}else{if(he[oe]+=q,he[oe]!=m)break;he[oe--]=0,q=1}for(z=he.length;he[--z]===0;he.pop());}w.e>H?w.c=w.e=null:w.e<V&&(w.c=[w.e=0])}return w}function te(w){var k,O=w.e;return O===null?w.toString():(k=E(w.c),k=O<=x||O>=R?re(k,O):ue(k,O,"0"),w.s<0?"-"+k:k)}return S.absoluteValue=S.abs=function(){var w=new ie(this);return w.s<0&&(w.s=1),w},S.comparedTo=function(w,k){return C(this,new ie(w,k))},S.decimalPlaces=S.dp=function(w,k){var O,ee,L,z=this;if(w!=null)return N(w,0,W),k==null?k=g:N(k,0,8),j(new ie(z),w+z.e+1,k);if(!(O=z.c))return null;if(ee=((L=O.length-1)-ne(this.e/u))*u,L=O[L])for(;L%10==0;L/=10,ee--);return ee<0&&(ee=0),ee},S.dividedBy=S.div=function(w,k){return Y(this,new ie(w,k),f,g)},S.dividedToIntegerBy=S.idiv=function(w,k){return Y(this,new ie(w,k),0,1)},S.exponentiatedBy=S.pow=function(w,k){var O,ee,L,z,ae,q,G,oe,J,he=this;if(w=new ie(w),w.c&&!w.isInteger())throw Error(s+"Exponent not an integer: "+te(w));if(k!=null&&(k=new ie(k)),q=w.e>14,!he.c||!he.c[0]||he.c[0]==1&&!he.e&&he.c.length==1||!w.c||!w.c[0])return J=new ie(Math.pow(+te(he),q?w.s*(2-$(w)):+te(w))),k?J.mod(k):J;if(G=w.s<0,k){if(k.c?!k.c[0]:!k.s)return new ie(NaN);ee=!G&&he.isInteger()&&k.isInteger(),ee&&(he=he.mod(k))}else{if(w.e>9&&(he.e>0||he.e<-1||(he.e==0?he.c[0]>1||q&&he.c[1]>=24e7:he.c[0]<8e13||q&&he.c[0]<=9999975e7)))return z=he.s<0&&$(w)?-0:0,he.e>-1&&(z=1/z),new ie(G?1/z:z);P&&(z=i(P/u+2))}for(q?(O=new ie(.5),G&&(w.s=1),oe=$(w)):(L=Math.abs(+te(w)),oe=L%2),J=new ie(a);;){if(oe){if(J=J.times(he),!J.c)break;z?J.c.length>z&&(J.c.length=z):ee&&(J=J.mod(k))}if(L){if(L=o(L/2),L===0)break;oe=L%2}else if(w=w.times(O),j(w,w.e+1,1),w.e>14)oe=$(w);else{if(L=+te(w),L===0)break;oe=L%2}he=he.times(he),z?he.c&&he.c.length>z&&(he.c.length=z):ee&&(he=he.mod(k))}return ee?J:(G&&(J=a.div(J)),k?J.mod(k):z?j(J,P,g,ae):J)},S.integerValue=function(w){var k=new ie(this);return w==null?w=g:N(w,0,8),j(k,k.e+1,w)},S.isEqualTo=S.eq=function(w,k){return C(this,new ie(w,k))===0},S.isFinite=function(){return!!this.c},S.isGreaterThan=S.gt=function(w,k){return C(this,new ie(w,k))>0},S.isGreaterThanOrEqualTo=S.gte=function(w,k){return(k=C(this,new ie(w,k)))===1||k===0},S.isInteger=function(){return!!this.c&&ne(this.e/u)>this.c.length-2},S.isLessThan=S.lt=function(w,k){return C(this,new ie(w,k))<0},S.isLessThanOrEqualTo=S.lte=function(w,k){return(k=C(this,new ie(w,k)))===-1||k===0},S.isNaN=function(){return!this.s},S.isNegative=function(){return this.s<0},S.isPositive=function(){return this.s>0},S.isZero=function(){return!!this.c&&this.c[0]==0},S.minus=function(w,k){var O,ee,L,z,ae=this,q=ae.s;if(w=new ie(w,k),k=w.s,!q||!k)return new ie(NaN);if(q!=k)return w.s=-k,ae.plus(w);var G=ae.e/u,oe=w.e/u,J=ae.c,he=w.c;if(!G||!oe){if(!J||!he)return J?(w.s=-k,w):new ie(he?ae:NaN);if(!J[0]||!he[0])return he[0]?(w.s=-k,w):new ie(J[0]?ae:g==3?-0:0)}if(G=ne(G),oe=ne(oe),J=J.slice(),q=G-oe){for((z=q<0)?(q=-q,L=J):(oe=G,L=he),L.reverse(),k=q;k--;L.push(0));L.reverse()}else for(ee=(z=(q=J.length)<(k=he.length))?q:k,q=k=0;k<ee;k++)if(J[k]!=he[k]){z=J[k]<he[k];break}if(z&&(L=J,J=he,he=L,w.s=-w.s),k=(ee=he.length)-(O=J.length),k>0)for(;k--;J[O++]=0);for(k=m-1;ee>q;){if(J[--ee]<he[ee]){for(O=ee;O&&!J[--O];J[O]=k);--J[O],J[ee]+=m}J[ee]-=he[ee]}for(;J[0]==0;J.splice(0,1),--oe);return J[0]?Se(w,J,oe):(w.s=g==3?-1:1,w.c=[w.e=0],w)},S.modulo=S.mod=function(w,k){var O,ee,L=this;return w=new ie(w,k),!L.c||!w.s||w.c&&!w.c[0]?new ie(NaN):!w.c||L.c&&!L.c[0]?new ie(L):(l==9?(ee=w.s,w.s=1,O=Y(L,w,0,3),w.s=ee,O.s*=ee):O=Y(L,w,0,l),w=L.minus(O.times(w)),!w.c[0]&&l==1&&(w.s=L.s),w)},S.multipliedBy=S.times=function(w,k){var O,ee,L,z,ae,q,G,oe,J,he,Ee,ye,Oe,je,He,Ve=this,Qe=Ve.c,Ge=(w=new ie(w,k)).c;if(!Qe||!Ge||!Qe[0]||!Ge[0])return!Ve.s||!w.s||Qe&&!Qe[0]&&!Ge||Ge&&!Ge[0]&&!Qe?w.c=w.e=w.s=null:(w.s*=Ve.s,!Qe||!Ge?w.c=w.e=null:(w.c=[0],w.e=0)),w;for(ee=ne(Ve.e/u)+ne(w.e/u),w.s*=Ve.s,G=Qe.length,he=Ge.length,G<he&&(Oe=Qe,Qe=Ge,Ge=Oe,L=G,G=he,he=L),L=G+he,Oe=[];L--;Oe.push(0));for(je=m,He=B,L=he;--L>=0;){for(O=0,Ee=Ge[L]%He,ye=Ge[L]/He|0,ae=G,z=L+ae;z>L;)oe=Qe[--ae]%He,J=Qe[ae]/He|0,q=ye*oe+J*Ee,oe=Ee*oe+q%He*He+Oe[z]+O,O=(oe/je|0)+(q/He|0)+ye*J,Oe[z--]=oe%je;Oe[z]=O}return O?++ee:Oe.splice(0,1),Se(w,Oe,ee)},S.negated=function(){var w=new ie(this);return w.s=-w.s||null,w},S.plus=function(w,k){var O,ee=this,L=ee.s;if(w=new ie(w,k),k=w.s,!L||!k)return new ie(NaN);if(L!=k)return w.s=-k,ee.minus(w);var z=ee.e/u,ae=w.e/u,q=ee.c,G=w.c;if(!z||!ae){if(!q||!G)return new ie(L/0);if(!q[0]||!G[0])return G[0]?w:new ie(q[0]?ee:L*0)}if(z=ne(z),ae=ne(ae),q=q.slice(),L=z-ae){for(L>0?(ae=z,O=G):(L=-L,O=q),O.reverse();L--;O.push(0));O.reverse()}for(L=q.length,k=G.length,L-k<0&&(O=G,G=q,q=O,k=L),L=0;k;)L=(q[--k]=q[k]+G[k]+L)/m|0,q[k]=m===q[k]?0:q[k]%m;return L&&(q=[L].concat(q),++ae),Se(w,q,ae)},S.precision=S.sd=function(w,k){var O,ee,L,z=this;if(w!=null&&w!==!!w)return N(w,1,W),k==null?k=g:N(k,0,8),j(new ie(z),w,k);if(!(O=z.c))return null;if(L=O.length-1,ee=L*u+1,L=O[L]){for(;L%10==0;L/=10,ee--);for(L=O[0];L>=10;L/=10,ee++);}return w&&z.e+1>ee&&(ee=z.e+1),ee},S.shiftedBy=function(w){return N(w,-v,v),this.times("1e"+w)},S.squareRoot=S.sqrt=function(){var w,k,O,ee,L,z=this,ae=z.c,q=z.s,G=z.e,oe=f+4,J=new ie("0.5");if(q!==1||!ae||!ae[0])return new ie(!q||q<0&&(!ae||ae[0])?NaN:ae?z:1/0);if(q=Math.sqrt(+te(z)),q==0||q==1/0?(k=E(ae),(k.length+G)%2==0&&(k+="0"),q=Math.sqrt(+k),G=ne((G+1)/2)-(G<0||G%2),q==1/0?k="5e"+G:(k=q.toExponential(),k=k.slice(0,k.indexOf("e")+1)+G),O=new ie(k)):O=new ie(q+""),O.c[0]){for(G=O.e,q=G+oe,q<3&&(q=0);;)if(L=O,O=J.times(L.plus(Y(z,L,oe,1))),E(L.c).slice(0,q)===(k=E(O.c)).slice(0,q))if(O.e<G&&--q,k=k.slice(q-3,q+1),k=="9999"||!ee&&k=="4999"){if(!ee&&(j(L,L.e+f+2,0),L.times(L).eq(z))){O=L;break}oe+=4,q+=4,ee=1}else{(!+k||!+k.slice(1)&&k.charAt(0)=="5")&&(j(O,O.e+f+2,1),w=!O.times(O).eq(z));break}}return j(O,O.e+f+1,g,w)},S.toExponential=function(w,k){return w!=null&&(N(w,0,W),w++),y(this,w,k,1)},S.toFixed=function(w,k){return w!=null&&(N(w,0,W),w=w+this.e+1),y(this,w,k)},S.toFormat=function(w,k,O){var ee,L=this;if(O==null)w!=null&&k&&typeof k=="object"?(O=k,k=null):w&&typeof w=="object"?(O=w,w=k=null):O=Te;else if(typeof O!="object")throw Error(s+"Argument not an object: "+O);if(ee=L.toFixed(w,k),L.c){var z,ae=ee.split("."),q=+O.groupSize,G=+O.secondaryGroupSize,oe=O.groupSeparator||"",J=ae[0],he=ae[1],Ee=L.s<0,ye=Ee?J.slice(1):J,Oe=ye.length;if(G&&(z=q,q=G,G=z,Oe-=z),q>0&&Oe>0){for(z=Oe%q||q,J=ye.substr(0,z);z<Oe;z+=q)J+=oe+ye.substr(z,q);G>0&&(J+=oe+ye.slice(z)),Ee&&(J="-"+J)}ee=he?J+(O.decimalSeparator||"")+((G=+O.fractionGroupSize)?he.replace(new RegExp("\\d{"+G+"}\\B","g"),"$&"+(O.fractionGroupSeparator||"")):he):J}return(O.prefix||"")+ee+(O.suffix||"")},S.toFraction=function(w){var k,O,ee,L,z,ae,q,G,oe,J,he,Ee,ye=this,Oe=ye.c;if(w!=null&&(q=new ie(w),!q.isInteger()&&(q.c||q.s!==1)||q.lt(a)))throw Error(s+"Argument "+(q.isInteger()?"out of range: ":"not an integer: ")+te(q));if(!Oe)return new ie(ye);for(k=new ie(a),oe=O=new ie(a),ee=G=new ie(a),Ee=E(Oe),z=k.e=Ee.length-ye.e-1,k.c[0]=T[(ae=z%u)<0?u+ae:ae],w=!w||q.comparedTo(k)>0?z>0?k:oe:q,ae=H,H=1/0,q=new ie(Ee),G.c[0]=0;J=Y(q,k,0,1),L=O.plus(J.times(ee)),L.comparedTo(w)!=1;)O=ee,ee=L,oe=G.plus(J.times(L=oe)),G=L,k=q.minus(J.times(L=k)),q=L;return L=Y(w.minus(O),ee,0,1),G=G.plus(L.times(oe)),O=O.plus(L.times(ee)),G.s=oe.s=ye.s,z=z*2,he=Y(oe,ee,z,g).minus(ye).abs().comparedTo(Y(G,O,z,g).minus(ye).abs())<1?[oe,ee]:[G,O],H=ae,he},S.toNumber=function(){return+te(this)},S.toPrecision=function(w,k){return w!=null&&N(w,1,W),y(this,w,k,2)},S.toString=function(w){var k,O=this,ee=O.s,L=O.e;return L===null?ee?(k="Infinity",ee<0&&(k="-"+k)):k="NaN":(w==null?k=L<=x||L>=R?re(E(O.c),L):ue(E(O.c),L,"0"):w===10&&we?(O=j(new ie(O),f+L+1,g),k=ue(E(O.c),O.e,"0")):(N(w,2,ve.length,"Base"),k=Z(ue(E(O.c),L,"0"),10,w,ee,!0)),ee<0&&O.c[0]&&(k="-"+k)),k},S.valueOf=S.toJSON=function(){return te(this)},S._isBigNumber=!0,I!=null&&ie.set(I),ie}function ne(I){var Y=I|0;return I>0||I===Y?Y:Y-1}function E(I){for(var Y,Z,ge=1,S=I.length,a=I[0]+"";ge<S;){for(Y=I[ge++]+"",Z=u-Y.length;Z--;Y="0"+Y);a+=Y}for(S=a.length;a.charCodeAt(--S)===48;);return a.slice(0,S+1||1)}function C(I,Y){var Z,ge,S=I.c,a=Y.c,f=I.s,g=Y.s,x=I.e,R=Y.e;if(!f||!g)return null;if(Z=S&&!S[0],ge=a&&!a[0],Z||ge)return Z?ge?0:-g:f;if(f!=g)return f;if(Z=f<0,ge=x==R,!S||!a)return ge?0:!S^Z?1:-1;if(!ge)return x>R^Z?1:-1;for(g=(x=S.length)<(R=a.length)?x:R,f=0;f<g;f++)if(S[f]!=a[f])return S[f]>a[f]^Z?1:-1;return x==R?0:x>R^Z?1:-1}function N(I,Y,Z,ge){if(I<Y||I>Z||I!==o(I))throw Error(s+(ge||"Argument")+(typeof I=="number"?I<Y||I>Z?" out of range: ":" not an integer: ":" not a primitive number: ")+String(I))}function $(I){var Y=I.c.length-1;return ne(I.e/u)==Y&&I.c[Y]%2!=0}function re(I,Y){return(I.length>1?I.charAt(0)+"."+I.slice(1):I)+(Y<0?"e":"e+")+Y}function ue(I,Y,Z){var ge,S;if(Y<0){for(S=Z+".";++Y;S+=Z);I=S+I}else if(ge=I.length,++Y>ge){for(S=Z,Y-=ge;--Y;S+=Z);I+=S}else Y<ge&&(I=I.slice(0,Y)+"."+I.slice(Y));return I}t=U(),t.default=t.BigNumber=t,n.exports?n.exports=t:(e||(e=typeof self<"u"&&self?self:window),e.BigNumber=t)})(Ow)}(Ra)),Ra.exports}var Al;function Bw(){return Al||(Al=1,function(n){var e=Xf(),t=n.exports;(function(){var r=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,i,o,s={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},h;function m(v){return r.lastIndex=0,r.test(v)?'"'+v.replace(r,function(T){var B=s[T];return typeof B=="string"?B:"\\u"+("0000"+T.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+v+'"'}function u(v,T){var B,W,U,ne,E=i,C,N=T[v],$=N!=null&&(N instanceof e||e.isBigNumber(N));switch(N&&typeof N=="object"&&typeof N.toJSON=="function"&&(N=N.toJSON(v)),typeof h=="function"&&(N=h.call(T,v,N)),typeof N){case"string":return $?N:m(N);case"number":return isFinite(N)?String(N):"null";case"boolean":case"null":case"bigint":return String(N);case"object":if(!N)return"null";if(i+=o,C=[],Object.prototype.toString.apply(N)==="[object Array]"){for(ne=N.length,B=0;B<ne;B+=1)C[B]=u(B,N)||"null";return U=C.length===0?"[]":i?`[
`+i+C.join(`,
`+i)+`
`+E+"]":"["+C.join(",")+"]",i=E,U}if(h&&typeof h=="object")for(ne=h.length,B=0;B<ne;B+=1)typeof h[B]=="string"&&(W=h[B],U=u(W,N),U&&C.push(m(W)+(i?": ":":")+U));else Object.keys(N).forEach(function(re){var ue=u(re,N);ue&&C.push(m(re)+(i?": ":":")+ue)});return U=C.length===0?"{}":i?`{
`+i+C.join(`,
`+i)+`
`+E+"}":"{"+C.join(",")+"}",i=E,U}}typeof t.stringify!="function"&&(t.stringify=function(v,T,B){var W;if(i="",o="",typeof B=="number")for(W=0;W<B;W+=1)o+=" ";else typeof B=="string"&&(o=B);if(h=T,T&&typeof T!="function"&&(typeof T!="object"||typeof T.length!="number"))throw new Error("JSON.stringify");return u("",{"":v})})})()}(zc)),zc.exports}var Hc,Ml;function Cw(){if(Ml)return Hc;Ml=1;var n=null;const e=/(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])/,t=/(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)/;var r=function(i){var o={strict:!1,storeAsString:!1,alwaysParseAsBig:!1,useNativeBigInt:!1,protoAction:"error",constructorAction:"error"};if(i!=null){if(i.strict===!0&&(o.strict=!0),i.storeAsString===!0&&(o.storeAsString=!0),o.alwaysParseAsBig=i.alwaysParseAsBig===!0?i.alwaysParseAsBig:!1,o.useNativeBigInt=i.useNativeBigInt===!0?i.useNativeBigInt:!1,typeof i.constructorAction<"u")if(i.constructorAction==="error"||i.constructorAction==="ignore"||i.constructorAction==="preserve")o.constructorAction=i.constructorAction;else throw new Error(`Incorrect value for constructorAction option, must be "error", "ignore" or undefined but passed ${i.constructorAction}`);if(typeof i.protoAction<"u")if(i.protoAction==="error"||i.protoAction==="ignore"||i.protoAction==="preserve")o.protoAction=i.protoAction;else throw new Error(`Incorrect value for protoAction option, must be "error", "ignore" or undefined but passed ${i.protoAction}`)}var s,h,m={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},u,v=function($){throw{name:"SyntaxError",message:$,at:s,text:u}},T=function($){return $&&$!==h&&v("Expected '"+$+"' instead of '"+h+"'"),h=u.charAt(s),s+=1,h},B=function(){var $,re="";for(h==="-"&&(re="-",T("-"));h>="0"&&h<="9";)re+=h,T();if(h===".")for(re+=".";T()&&h>="0"&&h<="9";)re+=h;if(h==="e"||h==="E")for(re+=h,T(),(h==="-"||h==="+")&&(re+=h,T());h>="0"&&h<="9";)re+=h,T();if($=+re,!isFinite($))v("Bad number");else return n==null&&(n=Xf()),re.length>15?o.storeAsString?re:o.useNativeBigInt?BigInt(re):new n(re):o.alwaysParseAsBig?o.useNativeBigInt?BigInt($):new n($):$},W=function(){var $,re,ue="",I;if(h==='"')for(var Y=s;T();){if(h==='"')return s-1>Y&&(ue+=u.substring(Y,s-1)),T(),ue;if(h==="\\"){if(s-1>Y&&(ue+=u.substring(Y,s-1)),T(),h==="u"){for(I=0,re=0;re<4&&($=parseInt(T(),16),!!isFinite($));re+=1)I=I*16+$;ue+=String.fromCharCode(I)}else if(typeof m[h]=="string")ue+=m[h];else break;Y=s}}v("Bad string")},U=function(){for(;h&&h<=" ";)T()},ne=function(){switch(h){case"t":return T("t"),T("r"),T("u"),T("e"),!0;case"f":return T("f"),T("a"),T("l"),T("s"),T("e"),!1;case"n":return T("n"),T("u"),T("l"),T("l"),null}v("Unexpected '"+h+"'")},E,C=function(){var $=[];if(h==="["){if(T("["),U(),h==="]")return T("]"),$;for(;h;){if($.push(E()),U(),h==="]")return T("]"),$;T(","),U()}}v("Bad array")},N=function(){var $,re=Object.create(null);if(h==="{"){if(T("{"),U(),h==="}")return T("}"),re;for(;h;){if($=W(),U(),T(":"),o.strict===!0&&Object.hasOwnProperty.call(re,$)&&v('Duplicate key "'+$+'"'),e.test($)===!0?o.protoAction==="error"?v("Object contains forbidden prototype property"):o.protoAction==="ignore"?E():re[$]=E():t.test($)===!0?o.constructorAction==="error"?v("Object contains forbidden constructor property"):o.constructorAction==="ignore"?E():re[$]=E():re[$]=E(),U(),h==="}")return T("}"),re;T(","),U()}}v("Bad object")};return E=function(){switch(U(),h){case"{":return N();case"[":return C();case'"':return W();case"-":return B();default:return h>="0"&&h<="9"?B():ne()}},function($,re){var ue;return u=$+"",s=0,h=" ",ue=E(),U(),h&&v("Syntax error"),typeof re=="function"?function I(Y,Z){var ge,S=Y[Z];return S&&typeof S=="object"&&Object.keys(S).forEach(function(a){ge=I(S,a),ge!==void 0?S[a]=ge:delete S[a]}),re.call(Y,Z,S)}({"":ue},""):ue}};return Hc=r,Hc}var Dl;function Nw(){if(Dl)return ds.exports;Dl=1;var n=Bw().stringify,e=Cw();return ds.exports=function(t){return{parse:e(t),stringify:n}},ds.exports.parse=e(),ds.exports.stringify=n,ds.exports}var Vw=Nw();const Uw=os(Vw);var gh;(function(n){n.UNSAFE="unsafe",n.SAFE="safe",n.MIXED="mixed",n.BIGINT="bigint"})(gh||(gh={}));const an=gh,Zf=Uw({useNativeBigInt:!0,strict:!0});function wu(n,{intDecoding:e}){if(e!==an.SAFE&&e!==an.UNSAFE&&e!==an.BIGINT&&e!==an.MIXED)throw new Error(`Invalid intDecoding option: ${e}`);return Zf.parse(n,(t,r)=>{if(r!=null&&typeof r=="object"&&Object.getPrototypeOf(r)==null&&Object.setPrototypeOf(r,Object.prototype),typeof r=="bigint"){if(e===an.SAFE&&r>Number.MAX_SAFE_INTEGER)throw new Error(`Integer exceeds maximum safe integer: ${r.toString()}. Try parsing with a different intDecoding option.`);return e===an.BIGINT||e===an.MIXED&&r>Number.MAX_SAFE_INTEGER?r:Number(r)}return typeof r=="number"&&e===an.BIGINT&&Number.isInteger(r)?BigInt(r):r})}function ni(n,e,t){return Zf.stringify(n,e,t)}function tr(n,e){return n.length!==e.length?!1:Array.from(n).every((t,r)=>t===e[r])}function cn(...n){const e=n.reduce((i,o)=>i+o.length,0),t=new Uint8Array(e);let r=0;for(let i=0;i<n.length;i++)t.set(n[i],r),r+=n[i].length;return t}function oc(){return typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node<"u"}function Lw(){const{navigator:n}=globalThis;return typeof n=="object"&&n.product==="ReactNative"}function Re(n){if(typeof n>"u")throw new Error("Value is undefined");if(typeof n=="bigint"){if(n>BigInt(Number.MAX_SAFE_INTEGER)||n<BigInt(Number.MIN_SAFE_INTEGER))throw new Error(`BigInt value ${n} is not a safe integer`);return Number(n)}if(typeof n=="number"){if(Number.isSafeInteger(n))return n;throw new Error(`Value ${n} is not a safe integer`)}throw new Error(`Unexpected type ${typeof n}, ${n}`)}function Un(n){const e=Re(n);if(e<0)throw new Error(`Value ${e} is negative`);return e}function ce(n){if(typeof n>"u")throw new Error("Value is undefined");if(typeof n=="bigint")return n;if(typeof n=="number"){if(!Number.isSafeInteger(n))throw new Error(`Value ${n} is not a safe integer`);return BigInt(n)}throw new Error(`Unexpected type ${typeof n}, ${n}`)}function Gt(n){const e=ce(n);if(e<0||e>BigInt("0xffffffffffffffff"))throw new Error(`Value ${e} is not a uint64`);return e}function pr(n){return Pw.sha512_256.array(n)}function $w(n){return Lw()&&console.warn("It looks like you're running in react-native. In order to perform common crypto operations you will need to polyfill common operations such as crypto.getRandomValues"),sr.randomBytes(n)}function Qf(n){return sr.sign.keyPair.fromSeed(n)}function Fw(){const n=$w(sr.box.secretKeyLength);return Qf(n)}function ed(n){return n===sr.sign.signatureLength}function sc(n){return sr.sign.keyPair.fromSecretKey(n)}function ac(n,e){return sr.sign.detached(n,e)}function td(n,e){return sr.verify(n,e)}function cc(n,e,t){return sr.sign.detached.verify(n,e,t)}const nd=sr.sign.publicKeyLength;sr.sign.secretKeyLength;const Tl=32,ph=32;var Wc={exports:{}};/*
 * [hi-base32]{@link https://github.com/emn178/hi-base32}
 *
 * @version 0.5.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */var Il;function qw(){return Il||(Il=1,function(n){(function(){var e=typeof window=="object"?window:{},t=!e.HI_BASE32_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;t&&(e=globalThis);var r=!e.HI_BASE32_NO_COMMON_JS&&!0&&n.exports,i="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567".split(""),o={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,2:26,3:27,4:28,5:29,6:30,7:31},s=[0,0,0,0,0,0,0,0],h=function(E,C){C.length>10&&(C="..."+C.substr(-10));var N=new Error("Decoded data is not valid UTF-8. Maybe try base32.decode.asBytes()? Partial data after reading "+E+" bytes: "+C+" <-");throw N.position=E,N},m=function(E){for(var C="",N=E.length,$=0,re=0,ue,I;$<N;){if(ue=E[$++],ue<=127){C+=String.fromCharCode(ue);continue}else ue>191&&ue<=223?(I=ue&31,re=1):ue<=239?(I=ue&15,re=2):ue<=247?(I=ue&7,re=3):h($,C);for(var Y=0;Y<re;++Y)ue=E[$++],(ue<128||ue>191)&&h($,C),I<<=6,I+=ue&63;I>=55296&&I<=57343&&h($,C),I>1114111&&h($,C),I<=65535?C+=String.fromCharCode(I):(I-=65536,C+=String.fromCharCode((I>>10)+55296),C+=String.fromCharCode((I&1023)+56320))}return C},u=function(E){if(E==="")return[];if(!/^[A-Z2-7=]+$/.test(E))throw new Error("Invalid base32 characters");E=E.replace(/=/g,"");for(var C,N,$,re,ue,I,Y,Z,ge=[],S=0,a=E.length,f=0,g=a>>3<<3;f<g;)C=o[E.charAt(f++)],N=o[E.charAt(f++)],$=o[E.charAt(f++)],re=o[E.charAt(f++)],ue=o[E.charAt(f++)],I=o[E.charAt(f++)],Y=o[E.charAt(f++)],Z=o[E.charAt(f++)],ge[S++]=(C<<3|N>>>2)&255,ge[S++]=(N<<6|$<<1|re>>>4)&255,ge[S++]=(re<<4|ue>>>1)&255,ge[S++]=(ue<<7|I<<2|Y>>>3)&255,ge[S++]=(Y<<5|Z)&255;var x=a-g;return x===2?(C=o[E.charAt(f++)],N=o[E.charAt(f++)],ge[S++]=(C<<3|N>>>2)&255):x===4?(C=o[E.charAt(f++)],N=o[E.charAt(f++)],$=o[E.charAt(f++)],re=o[E.charAt(f++)],ge[S++]=(C<<3|N>>>2)&255,ge[S++]=(N<<6|$<<1|re>>>4)&255):x===5?(C=o[E.charAt(f++)],N=o[E.charAt(f++)],$=o[E.charAt(f++)],re=o[E.charAt(f++)],ue=o[E.charAt(f++)],ge[S++]=(C<<3|N>>>2)&255,ge[S++]=(N<<6|$<<1|re>>>4)&255,ge[S++]=(re<<4|ue>>>1)&255):x===7&&(C=o[E.charAt(f++)],N=o[E.charAt(f++)],$=o[E.charAt(f++)],re=o[E.charAt(f++)],ue=o[E.charAt(f++)],I=o[E.charAt(f++)],Y=o[E.charAt(f++)],ge[S++]=(C<<3|N>>>2)&255,ge[S++]=(N<<6|$<<1|re>>>4)&255,ge[S++]=(re<<4|ue>>>1)&255,ge[S++]=(ue<<7|I<<2|Y>>>3)&255),ge},v=function(E){for(var C,N,$,re,ue,I="",Y=E.length,Z=0,ge=parseInt(Y/5)*5;Z<ge;)C=E.charCodeAt(Z++),N=E.charCodeAt(Z++),$=E.charCodeAt(Z++),re=E.charCodeAt(Z++),ue=E.charCodeAt(Z++),I+=i[C>>>3]+i[(C<<2|N>>>6)&31]+i[N>>>1&31]+i[(N<<4|$>>>4)&31]+i[($<<1|re>>>7)&31]+i[re>>>2&31]+i[(re<<3|ue>>>5)&31]+i[ue&31];var S=Y-ge;return S===1?(C=E.charCodeAt(Z),I+=i[C>>>3]+i[C<<2&31]+"======"):S===2?(C=E.charCodeAt(Z++),N=E.charCodeAt(Z),I+=i[C>>>3]+i[(C<<2|N>>>6)&31]+i[N>>>1&31]+i[N<<4&31]+"===="):S===3?(C=E.charCodeAt(Z++),N=E.charCodeAt(Z++),$=E.charCodeAt(Z),I+=i[C>>>3]+i[(C<<2|N>>>6)&31]+i[N>>>1&31]+i[(N<<4|$>>>4)&31]+i[$<<1&31]+"==="):S===4&&(C=E.charCodeAt(Z++),N=E.charCodeAt(Z++),$=E.charCodeAt(Z++),re=E.charCodeAt(Z),I+=i[C>>>3]+i[(C<<2|N>>>6)&31]+i[N>>>1&31]+i[(N<<4|$>>>4)&31]+i[($<<1|re>>>7)&31]+i[re>>>2&31]+i[re<<3&31]+"="),I},T=function(E){var C,N,$,re,ue,I,Y=!1,Z="",ge=0,S,a=0,f=E.length;if(E==="")return Z;do{for(s[0]=s[5],s[1]=s[6],s[2]=s[7],S=a;ge<f&&S<5;++ge)I=E.charCodeAt(ge),I<128?s[S++]=I:I<2048?(s[S++]=192|I>>6,s[S++]=128|I&63):I<55296||I>=57344?(s[S++]=224|I>>12,s[S++]=128|I>>6&63,s[S++]=128|I&63):(I=65536+((I&1023)<<10|E.charCodeAt(++ge)&1023),s[S++]=240|I>>18,s[S++]=128|I>>12&63,s[S++]=128|I>>6&63,s[S++]=128|I&63);a=S-5,ge===f&&++ge,ge>f&&S<6&&(Y=!0),C=s[0],S>4?(N=s[1],$=s[2],re=s[3],ue=s[4],Z+=i[C>>>3]+i[(C<<2|N>>>6)&31]+i[N>>>1&31]+i[(N<<4|$>>>4)&31]+i[($<<1|re>>>7)&31]+i[re>>>2&31]+i[(re<<3|ue>>>5)&31]+i[ue&31]):S===1?Z+=i[C>>>3]+i[C<<2&31]+"======":S===2?(N=s[1],Z+=i[C>>>3]+i[(C<<2|N>>>6)&31]+i[N>>>1&31]+i[N<<4&31]+"===="):S===3?(N=s[1],$=s[2],Z+=i[C>>>3]+i[(C<<2|N>>>6)&31]+i[N>>>1&31]+i[(N<<4|$>>>4)&31]+i[$<<1&31]+"==="):(N=s[1],$=s[2],re=s[3],Z+=i[C>>>3]+i[(C<<2|N>>>6)&31]+i[N>>>1&31]+i[(N<<4|$>>>4)&31]+i[($<<1|re>>>7)&31]+i[re>>>2&31]+i[re<<3&31]+"=")}while(!Y);return Z},B=function(E){for(var C,N,$,re,ue,I="",Y=E.length,Z=0,ge=parseInt(Y/5)*5;Z<ge;)C=E[Z++],N=E[Z++],$=E[Z++],re=E[Z++],ue=E[Z++],I+=i[C>>>3]+i[(C<<2|N>>>6)&31]+i[N>>>1&31]+i[(N<<4|$>>>4)&31]+i[($<<1|re>>>7)&31]+i[re>>>2&31]+i[(re<<3|ue>>>5)&31]+i[ue&31];var S=Y-ge;return S===1?(C=E[Z],I+=i[C>>>3]+i[C<<2&31]+"======"):S===2?(C=E[Z++],N=E[Z],I+=i[C>>>3]+i[(C<<2|N>>>6)&31]+i[N>>>1&31]+i[N<<4&31]+"===="):S===3?(C=E[Z++],N=E[Z++],$=E[Z],I+=i[C>>>3]+i[(C<<2|N>>>6)&31]+i[N>>>1&31]+i[(N<<4|$>>>4)&31]+i[$<<1&31]+"==="):S===4&&(C=E[Z++],N=E[Z++],$=E[Z++],re=E[Z],I+=i[C>>>3]+i[(C<<2|N>>>6)&31]+i[N>>>1&31]+i[(N<<4|$>>>4)&31]+i[($<<1|re>>>7)&31]+i[re>>>2&31]+i[re<<3&31]+"="),I},W=function(E,C){var N=typeof E!="string";return N&&E.constructor===ArrayBuffer&&(E=new Uint8Array(E)),N?B(E):C?v(E):T(E)},U=function(E,C){if(!C)return m(u(E));if(E==="")return"";if(!/^[A-Z2-7=]+$/.test(E))throw new Error("Invalid base32 characters");var N,$,re,ue,I,Y,Z,ge,S="",a=E.indexOf("=");a===-1&&(a=E.length);for(var f=0,g=a>>3<<3;f<g;)N=o[E.charAt(f++)],$=o[E.charAt(f++)],re=o[E.charAt(f++)],ue=o[E.charAt(f++)],I=o[E.charAt(f++)],Y=o[E.charAt(f++)],Z=o[E.charAt(f++)],ge=o[E.charAt(f++)],S+=String.fromCharCode((N<<3|$>>>2)&255)+String.fromCharCode(($<<6|re<<1|ue>>>4)&255)+String.fromCharCode((ue<<4|I>>>1)&255)+String.fromCharCode((I<<7|Y<<2|Z>>>3)&255)+String.fromCharCode((Z<<5|ge)&255);var x=a-g;return x===2?(N=o[E.charAt(f++)],$=o[E.charAt(f++)],S+=String.fromCharCode((N<<3|$>>>2)&255)):x===4?(N=o[E.charAt(f++)],$=o[E.charAt(f++)],re=o[E.charAt(f++)],ue=o[E.charAt(f++)],S+=String.fromCharCode((N<<3|$>>>2)&255)+String.fromCharCode(($<<6|re<<1|ue>>>4)&255)):x===5?(N=o[E.charAt(f++)],$=o[E.charAt(f++)],re=o[E.charAt(f++)],ue=o[E.charAt(f++)],I=o[E.charAt(f++)],S+=String.fromCharCode((N<<3|$>>>2)&255)+String.fromCharCode(($<<6|re<<1|ue>>>4)&255)+String.fromCharCode((ue<<4|I>>>1)&255)):x===7&&(N=o[E.charAt(f++)],$=o[E.charAt(f++)],re=o[E.charAt(f++)],ue=o[E.charAt(f++)],I=o[E.charAt(f++)],Y=o[E.charAt(f++)],Z=o[E.charAt(f++)],S+=String.fromCharCode((N<<3|$>>>2)&255)+String.fromCharCode(($<<6|re<<1|ue>>>4)&255)+String.fromCharCode((ue<<4|I>>>1)&255)+String.fromCharCode((I<<7|Y<<2|Z>>>3)&255)),S},ne={encode:W,decode:U};U.asBytes=u,r?n.exports=ne:e.base32=ne})()}(Wc)),Wc.exports}var zw=qw();const Ds=os(zw);function rd(n){if(!(typeof n=="bigint"||Number.isInteger(n))||n<0||n>BigInt("0xffffffffffffffff"))throw new Error("Input is not a 64-bit unsigned integer");const t=new Uint8Array(8);return new DataView(t.buffer).setBigUint64(0,BigInt(n)),t}function Hw(n,e="safe"){if(e!=="safe"&&e!=="mixed"&&e!=="bigint")throw new Error(`Unknown decodingMode option: ${e}`);if(n.byteLength===0||n.byteLength>8)throw new Error(`Data has unacceptable length. Expected length is between 1 and 8, got ${n.byteLength}`);const t=new Uint8Array(8-n.byteLength),r=cn(t,n),o=new DataView(r.buffer).getBigUint64(0),s=o>BigInt(Number.MAX_SAFE_INTEGER);if(e==="safe"){if(s)throw new Error(`Integer exceeds maximum safe integer: ${o.toString()}. Try decoding with "mixed" or "safe" decodingMode.`);return Number(o)}return e==="mixed"&&!s?Number(o):o}function Be(n){if(oc())return new Uint8Array(Buffer.from(n,"base64"));const e=atob(n);return Uint8Array.from(e,t=>t.codePointAt(0))}function un(n){if(oc())return Buffer.from(n).toString("base64");const e=Array.from(n,t=>String.fromCodePoint(t)).join("");return btoa(e)}function hc(n){return new TextDecoder().decode(n)}function nr(n){return typeof n=="string"?new TextEncoder().encode(n):n}function uc(n){return oc()?Buffer.from(n).toString("hex"):Array.from(n).map(e=>e.toString(16).padStart(2,"0")).join("")}function Ww(n){if(oc())return Buffer.from(n,"hex");let e=n;n.length%2!==0&&(e=n.padStart(1,"0"));const t=new Uint8Array(e.length/2);for(let r=0;r<e.length/2;r++)t[r]=parseInt(e.slice(2*r,2*r+2),16);return t}const Hr=36,xs=4,jc=58,jw="AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY5HFKQ",gs="address seems to be malformed",Gw="wrong checksum for address";function Rl(n){return Uint8Array.from(pr(n).slice(Tl-xs,Tl))}class ot{constructor(e){if(!(e instanceof Uint8Array))throw new Error(`${gs}: ${e} is not Uint8Array, type ${typeof e}`);if(e.length!==Hr-xs)throw new Error(`${gs}: 0x${uc(e)}, length ${e.length}`);this.publicKey=e}equals(e){return e instanceof ot&&tr(this.publicKey,e.publicKey)}checksum(){return Rl(this.publicKey)}toString(){return Ds.encode(cn(this.publicKey,this.checksum())).slice(0,jc)}static fromString(e){if(typeof e!="string")throw new Error(`${gs}: expected string, got ${typeof e}, ${e}`);if(e.length!==jc)throw new Error(`${gs}: expected length ${jc}, got ${e.length}: ${e}`);const t=Ds.decode.asBytes(e);if(t.length!==Hr)throw new Error(`${gs}: expected byte length ${Hr}, got ${t.length}`);const r=new Uint8Array(t.slice(0,Hr-xs)),i=new Uint8Array(t.slice(nd,Hr)),o=Rl(r);if(!tr(o,i))throw new Error(Gw);return new ot(r)}static zeroAddress(){return new ot(new Uint8Array(Hr-xs))}}function id(n){return ot.fromString(n)}function od(n){try{ot.fromString(n)}catch{return!1}return!0}function sd(n){return new ot(n).toString()}const Kw=new TextEncoder().encode("appID");function mh(n){const e=cn(Kw,rd(n)),t=pr(e);return new ot(Uint8Array.from(t))}const ad=1e6,vu="Microalgos should be positive and less than 2^53 - 1.";function Jw(n){if(n<0||!Number.isSafeInteger(n))throw new Error(vu);return n/ad}function Yw(n){const e=n*ad;return Math.round(e)}class Xw extends Error{constructor(e,t){super(e),this.response=t,this.name="URLTokenBaseHTTPError",this.response=t}}class jr{constructor(e,t,r,i={}){this.defaultHeaders=i;const o=t.endsWith("/")?t:`${t}/`,s=new URL(o);if(typeof r<"u"&&(s.port=r.toString()),s.protocol.length===0)throw new Error("Invalid base server URL, protocol must be defined.");this.baseURL=s,this.tokenHeader=e}getURL(e,t){let r;e.startsWith("./")?r=e:e.startsWith("/")?r=`.${e}`:r=`./${e}`;const i=new URL(r,this.baseURL);if(t)for(const[o,s]of Object.entries(t))i.searchParams.set(o,s.toString());return i.toString()}static formatFetchResponseHeaders(e){const t={};return e.forEach((r,i)=>{t[r]=i}),t}static async checkHttpError(e){if(e.ok)return;let t,r;try{t=new Uint8Array(await e.arrayBuffer());const o=JSON.parse(new TextDecoder().decode(t));o.message&&(r=o.message)}catch{}let i=`Network request error. Received status ${e.status} (${e.statusText})`;throw r&&(i+=`: ${r}`),new Xw(i,{body:t??new Uint8Array,status:e.status,headers:jr.formatFetchResponseHeaders(e.headers)})}static async formatFetchResponse(e){return await this.checkHttpError(e),{body:new Uint8Array(await e.arrayBuffer()),status:e.status,headers:jr.formatFetchResponseHeaders(e.headers)}}async get(e,t,r,i){const o={...this.tokenHeader,...this.defaultHeaders,...r??{}},s=await fetch(this.getURL(e,t),{headers:o,...i??{}});return jr.formatFetchResponse(s)}async post(e,t,r,i,o){const s={...this.tokenHeader,...this.defaultHeaders,...i??{}},h=await fetch(this.getURL(e,r),{method:"POST",body:t,headers:s,...o??{}});return jr.formatFetchResponse(h)}async delete(e,t,r,i,o){const s={...this.tokenHeader,...this.defaultHeaders,...i??{}},h=await fetch(this.getURL(e,r),{method:"DELETE",body:t,headers:s,...o??{}});return jr.formatFetchResponse(h)}}class Zw{constructor(e){this.body=e.body,this.text=e.text,this.format=e.format,this.headers=e.headers,this.status=e.status,this.ok=e.ok}getJSONText(){if(this.text===void 0)throw new Error(`Response body does not contain JSON data. Format is ${this.format}`);return this.text}parseBodyAsJSON(e){if(this.text===void 0)throw new Error(`Response body does not contain JSON data. Format is ${this.format}`);return In.parseJSON(this.text,this.status,e)}}function Qw(n){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&(!n[e]||n[e].length===0)&&delete n[e];return n}function _l(n){return Object.keys(n).reduce((e,t)=>(e[t.toLowerCase()]=n[t],e),{})}function e0(n){if(n!==void 0&&Object.prototype.hasOwnProperty.call(n,"format"))switch(n.format){case"msgpack":return"application/msgpack";case"json":default:return"application/json"}else return"application/json"}class In{constructor(e,t,r,i={}){t!==void 0?this.bc=new jr(e,t,r,i):this.bc=e}static parseJSON(e,t,r){try{return e?wu(e,r):null}catch(i){const o=i;throw o.rawResponse=e||null,o.statusCode=t,o}}static serializeData(e,t){if(!e)return new Uint8Array(0);if(t["content-type"]==="application/json")return new TextEncoder().encode(ni(e));if(typeof e=="string")return new TextEncoder().encode(e);if(e instanceof Uint8Array)return e;throw new Error("provided data is neither a string nor a Uint8Array and content-type is not application/json")}static prepareResponse(e,t){const{body:r}=e;let i;return t!=="application/msgpack"&&(i=r&&new TextDecoder().decode(r)||""),new Zw({...e,format:t,text:i,ok:Math.trunc(e.status/100)===2})}static prepareResponseError(e){return e.response&&(e.response=In.prepareResponse(e.response,"application/json"),e.status=e.response.status),e}async get({relativePath:e,query:t,requestHeaders:r,customOptions:i}){const o=e0(t),s={...r??{},accept:o};try{const h=await this.bc.get(e,t?Qw(t):void 0,s,i);return In.prepareResponse(h,o)}catch(h){throw In.prepareResponseError(h)}}async post({relativePath:e,data:t,query:r,requestHeaders:i,customOptions:o}){const s={"content-type":"application/json",..._l(i??{})};try{const h=await this.bc.post(e,In.serializeData(t,s),r,s,o);return In.prepareResponse(h,"application/json")}catch(h){throw In.prepareResponseError(h)}}async delete({relativePath:e,data:t,requestHeaders:r,customOptions:i}){const o={"content-type":"application/json",..._l(r??{})};try{const s=await this.bc.delete(e,typeof t<"u"?In.serializeData(t,o):void 0,void 0,o,i);return In.prepareResponse(s,"application/json")}catch(s){throw In.prepareResponseError(s)}}}function t0(n,e=""){const t={};return e===""||(t[n]=e),t}function n0(n){return typeof n.get=="function"}class Su{constructor(e,t,r,i,o={}){if(n0(t))this.c=new In(t);else{let s;typeof t=="string"?s=t0(e,t):s=t,this.c=new In(s,r,i,o)}}}function r0(n){for(var e=n.length,t=0,r=0;r<e;){var i=n.charCodeAt(r++);if((i&4294967168)===0){t++;continue}else if((i&4294965248)===0)t+=2;else{if(i>=55296&&i<=56319&&r<e){var o=n.charCodeAt(r);(o&64512)===56320&&(++r,i=((i&1023)<<10)+(o&1023)+65536)}(i&4294901760)===0?t+=3:t+=4}}return t}function i0(n,e,t){for(var r=n.length,i=t,o=0;o<r;){var s=n.charCodeAt(o++);if((s&4294967168)===0){e[i++]=s;continue}else if((s&4294965248)===0)e[i++]=s>>6&31|192;else{if(s>=55296&&s<=56319&&o<r){var h=n.charCodeAt(o);(h&64512)===56320&&(++o,s=((s&1023)<<10)+(h&1023)+65536)}(s&4294901760)===0?(e[i++]=s>>12&15|224,e[i++]=s>>6&63|128):(e[i++]=s>>18&7|240,e[i++]=s>>12&63|128,e[i++]=s>>6&63|128)}e[i++]=s&63|128}}var o0=new TextEncoder,s0=50;function a0(n,e,t){o0.encodeInto(n,e.subarray(t))}function c0(n,e,t){n.length>s0?a0(n,e,t):i0(n,e,t)}var h0=4096;function cd(n,e,t){for(var r=e,i=r+t,o=[],s="";r<i;){var h=n[r++];if((h&128)===0)o.push(h);else if((h&224)===192){var m=n[r++]&63;o.push((h&31)<<6|m)}else if((h&240)===224){var m=n[r++]&63,u=n[r++]&63;o.push((h&31)<<12|m<<6|u)}else if((h&248)===240){var m=n[r++]&63,u=n[r++]&63,v=n[r++]&63,T=(h&7)<<18|m<<12|u<<6|v;T>65535&&(T-=65536,o.push(T>>>10&1023|55296),T=56320|T&1023),o.push(T)}else o.push(h);o.length>=h0&&(s+=String.fromCharCode.apply(String,o),o.length=0)}return o.length>0&&(s+=String.fromCharCode.apply(String,o)),s}var u0=new TextDecoder,l0=200;function f0(n,e,t){var r=n.subarray(e,e+t);return u0.decode(r)}function d0(n,e,t){return t>l0?f0(n,e,t):cd(n,e,t)}var Sa=function(){function n(e,t){this.type=e,this.data=t}return n}(),g0=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),jn=function(n){g0(e,n);function e(t){var r=n.call(this,t)||this,i=Object.create(e.prototype);return Object.setPrototypeOf(r,i),Object.defineProperty(r,"name",{configurable:!0,enumerable:!1,value:e.name}),r}return e}(Error),en;(function(n){n[n.UNSAFE_NUMBER=0]="UNSAFE_NUMBER",n[n.SAFE_NUMBER=1]="SAFE_NUMBER",n[n.AS_ENCODED=2]="AS_ENCODED",n[n.MIXED=3]="MIXED",n[n.BIGINT=4]="BIGINT"})(en||(en={}));var ps=4294967295;function p0(n,e,t){var r=t/4294967296,i=t;n.setUint32(e,r),n.setUint32(e+4,i)}function hd(n,e,t){var r=Math.floor(t/4294967296),i=t;n.setUint32(e,r),n.setUint32(e+4,i)}function ud(n,e,t){if(t===en.UNSAFE_NUMBER||t===en.SAFE_NUMBER){var r=n.getInt32(e),i=n.getUint32(e+4);if(t===en.SAFE_NUMBER&&(r<Math.floor(Number.MIN_SAFE_INTEGER/4294967296)||r===Math.floor(Number.MIN_SAFE_INTEGER/4294967296)&&i===0||r>(Number.MAX_SAFE_INTEGER-i)/4294967296)){var o="".concat(r<0?"-":"","0x").concat(Math.abs(r).toString(16)).concat(i.toString(16).padStart(8,"0"));throw new Error("Mode is IntMode.SAFE_NUMBER and value is not a safe integer: ".concat(o))}return r*4294967296+i}var s=n.getBigInt64(e);return t===en.MIXED&&s>=Number.MIN_SAFE_INTEGER&&s<=Number.MAX_SAFE_INTEGER?Number(s):s}function m0(n,e,t){if(t===en.UNSAFE_NUMBER||t===en.SAFE_NUMBER){var r=n.getUint32(e),i=n.getUint32(e+4);if(t===en.SAFE_NUMBER&&r>(Number.MAX_SAFE_INTEGER-i)/4294967296){var o="0x".concat(r.toString(16)).concat(i.toString(16).padStart(8,"0"));throw new Error("Mode is IntMode.SAFE_NUMBER and value is not a safe integer: ".concat(o))}return r*4294967296+i}var s=n.getBigUint64(e);return t===en.MIXED&&s<=Number.MAX_SAFE_INTEGER?Number(s):s}function y0(n,e){return e===en.BIGINT?BigInt(n):Number(n)}var w0=-1,v0=4294967296-1,S0=17179869184-1;function E0(n){var e=n.sec,t=n.nsec;if(e>=0&&t>=0&&e<=S0)if(t===0&&e<=v0){var r=new Uint8Array(4),i=new DataView(r.buffer);return i.setUint32(0,e),r}else{var o=e/4294967296,s=e&4294967295,r=new Uint8Array(8),i=new DataView(r.buffer);return i.setUint32(0,t<<2|o&3),i.setUint32(4,s),r}else{var r=new Uint8Array(12),i=new DataView(r.buffer);return i.setUint32(0,t),hd(i,4,e),r}}function b0(n){var e=n.getTime(),t=Math.floor(e/1e3),r=(e-t*1e3)*1e6,i=Math.floor(r/1e9);return{sec:t+i,nsec:r-i*1e9}}function x0(n){if(n instanceof Date){var e=b0(n);return E0(e)}else return null}function k0(n){var e=new DataView(n.buffer,n.byteOffset,n.byteLength);switch(n.byteLength){case 4:{var t=e.getUint32(0),r=0;return{sec:t,nsec:r}}case 8:{var i=e.getUint32(0),o=e.getUint32(4),t=(i&3)*4294967296+o,r=i>>>2;return{sec:t,nsec:r}}case 12:{var t=ud(e,4,en.UNSAFE_NUMBER),r=e.getUint32(0);return{sec:t,nsec:r}}default:throw new jn("Unrecognized data size for timestamp (expected 4, 8, or 12): ".concat(n.length))}}function A0(n){var e=k0(n);return new Date(e.sec*1e3+e.nsec/1e6)}var M0={type:w0,encode:x0,decode:A0},ld=function(){function n(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(M0)}return n.prototype.register=function(e){var t=e.type,r=e.encode,i=e.decode;if(t>=0)this.encoders[t]=r,this.decoders[t]=i;else{var o=1+t;this.builtInEncoders[o]=r,this.builtInDecoders[o]=i}},n.prototype.tryToEncode=function(e,t){for(var r=0;r<this.builtInEncoders.length;r++){var i=this.builtInEncoders[r];if(i!=null){var o=i(e,t);if(o!=null){var s=-1-r;return new Sa(s,o)}}}for(var r=0;r<this.encoders.length;r++){var i=this.encoders[r];if(i!=null){var o=i(e,t);if(o!=null){var s=r;return new Sa(s,o)}}}return e instanceof Sa?e:null},n.prototype.decode=function(e,t,r){var i=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return i?i(e,t,r):new Sa(t,e)},n.defaultCodec=new n,n}();function xr(n){return n instanceof Uint8Array?n:ArrayBuffer.isView(n)?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):n instanceof ArrayBuffer?new Uint8Array(n):Uint8Array.from(n)}function D0(n){if(n instanceof ArrayBuffer)return new DataView(n);var e=xr(n);return new DataView(e.buffer,e.byteOffset,e.byteLength)}function Pl(n,e){for(var t=Math.min(n.length,e.length),r=0;r<t;r++){var i=n[r]-e[r];if(i!==0)return i}return n.length-e.length}var Sn=function(){function n(e){if(this.rawBinaryValue=e,!ArrayBuffer.isView(e))throw new TypeError("RawBinaryString: rawBinaryValue must be an ArrayBufferView")}return n}(),T0=100,I0=2048,R0=function(){function n(e){var t,r,i,o,s,h,m,u;this.extensionCodec=(t=e==null?void 0:e.extensionCodec)!==null&&t!==void 0?t:ld.defaultCodec,this.context=e==null?void 0:e.context,this.forceBigIntToInt64=(r=e==null?void 0:e.forceBigIntToInt64)!==null&&r!==void 0?r:!1,this.maxDepth=(i=e==null?void 0:e.maxDepth)!==null&&i!==void 0?i:T0,this.initialBufferSize=(o=e==null?void 0:e.initialBufferSize)!==null&&o!==void 0?o:I0,this.sortKeys=(s=e==null?void 0:e.sortKeys)!==null&&s!==void 0?s:!1,this.forceFloat32=(h=e==null?void 0:e.forceFloat32)!==null&&h!==void 0?h:!1,this.ignoreUndefined=(m=e==null?void 0:e.ignoreUndefined)!==null&&m!==void 0?m:!1,this.forceIntegerToFloat=(u=e==null?void 0:e.forceIntegerToFloat)!==null&&u!==void 0?u:!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}return n.prototype.reinitializeState=function(){this.pos=0},n.prototype.encodeSharedRef=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)},n.prototype.encode=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)},n.prototype.doEncode=function(e,t){if(t>this.maxDepth)throw new Error("Too deep objects in depth ".concat(t));e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.encodeObject(e,t)},n.prototype.ensureBufferSizeToWrite=function(e){var t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(t*2)},n.prototype.resizeBuffer=function(e){var t=new ArrayBuffer(e),r=new Uint8Array(t),i=new DataView(t);r.set(this.bytes),this.view=i,this.bytes=r},n.prototype.encodeNil=function(){this.writeU8(192)},n.prototype.encodeBoolean=function(e){e===!1?this.writeU8(194):this.writeU8(195)},n.prototype.encodeNumber=function(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)},n.prototype.encodeNumberAsFloat=function(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))},n.prototype.encodeBigInt=function(e){if(this.forceBigIntToInt64)this.encodeBigIntAsInt64(e);else if(e>=0)if(e<4294967296||this.forceIntegerToFloat)this.encodeNumber(Number(e));else if(e<BigInt("0x10000000000000000"))this.encodeBigIntAsInt64(e);else throw new Error("Bigint is too large for uint64: ".concat(e));else if(e>=-2147483648||this.forceIntegerToFloat)this.encodeNumber(Number(e));else if(e>=BigInt(-1)*BigInt("0x8000000000000000"))this.encodeBigIntAsInt64(e);else throw new Error("Bigint is too small for int64: ".concat(e))},n.prototype.encodeBigIntAsInt64=function(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))},n.prototype.writeStringHeader=function(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error("Too long string: ".concat(e," bytes in UTF-8"))},n.prototype.encodeString=function(e){var t=5,r=r0(e);this.ensureBufferSizeToWrite(t+r),this.writeStringHeader(r),c0(e,this.bytes,this.pos),this.pos+=r},n.prototype.encodeObject=function(e,t){var r=this.extensionCodec.tryToEncode(e,this.context);if(r!=null)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(e instanceof Sn)this.encodeBinaryAsString(e);else if(typeof e=="bigint")this.encodeBigInt(e);else if(e instanceof Map)this.encodeMap(e,t);else if(typeof e=="object")this.encodeMapObject(e,t);else throw new Error("Unrecognized object: ".concat(Object.prototype.toString.apply(e)))},n.prototype.encodeBinary=function(e){var t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else if(t<4294967296)this.writeU8(198),this.writeU32(t);else throw new Error("Too large binary: ".concat(t));var r=xr(e);this.writeU8a(r)},n.prototype.encodeBinaryAsString=function(e){var t=e.rawBinaryValue;this.writeStringHeader(t.byteLength);var r=xr(t);this.writeU8a(r)},n.prototype.encodeArray=function(e,t){var r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<4294967296)this.writeU8(221),this.writeU32(r);else throw new Error("Too large array: ".concat(r));for(var i=0,o=e;i<o.length;i++){var s=o[i];this.doEncode(s,t+1)}},n.prototype.countWithoutUndefined=function(e,t){for(var r=0,i=0,o=t;i<o.length;i++){var s=o[i];e.get(s)!==void 0&&r++}return r},n.prototype.sortMapKeys=function(e){for(var t=[],r=[],i=[],o=[],s=0,h=e;s<h.length;s++){var m=h[s];if(typeof m=="number"){if(isNaN(m))throw new Error("Cannot sort map keys with NaN value");t.push(m)}else if(typeof m=="bigint")t.push(m);else if(typeof m=="string")r.push(m);else if(ArrayBuffer.isView(m))o.push(xr(m));else if(m instanceof Sn)i.push(m);else throw new Error("Unsupported map key type: ".concat(Object.prototype.toString.apply(m)))}return t.sort(function(u,v){return u<v?-1:u>v?1:0}),r.sort(),i.sort(function(u,v){return Pl(xr(u.rawBinaryValue),xr(v.rawBinaryValue))}),o.sort(Pl),[].concat(t,r,i,o)},n.prototype.encodeMapObject=function(e,t){this.encodeMap(new Map(Object.entries(e)),t)},n.prototype.encodeMap=function(e,t){var r=Array.from(e.keys());this.sortKeys&&(r=this.sortMapKeys(r));var i=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<4294967296)this.writeU8(223),this.writeU32(i);else throw new Error("Too large map object: ".concat(i));for(var o=0,s=r;o<s.length;o++){var h=s[o],m=e.get(h);if(!(this.ignoreUndefined&&m===void 0)){if(typeof h=="string")this.encodeString(h);else if(typeof h=="number")this.encodeNumber(h);else if(typeof h=="bigint")this.encodeBigInt(h);else if(ArrayBuffer.isView(h))this.encodeBinary(h);else if(h instanceof Sn)this.encodeBinaryAsString(h);else throw new Error("Unsupported map key type: ".concat(Object.prototype.toString.apply(h)));this.doEncode(m,t+1)}}},n.prototype.encodeExtension=function(e){var t=e.data.length;if(t===1)this.writeU8(212);else if(t===2)this.writeU8(213);else if(t===4)this.writeU8(214);else if(t===8)this.writeU8(215);else if(t===16)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else if(t<4294967296)this.writeU8(201),this.writeU32(t);else throw new Error("Too large extension object: ".concat(t));this.writeI8(e.type),this.writeU8a(e.data)},n.prototype.writeU8=function(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++},n.prototype.writeU8a=function(e){var t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t},n.prototype.writeI8=function(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++},n.prototype.writeU16=function(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2},n.prototype.writeI16=function(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2},n.prototype.writeU32=function(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4},n.prototype.writeI32=function(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4},n.prototype.writeF32=function(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4},n.prototype.writeF64=function(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8},n.prototype.writeU64=function(e){this.ensureBufferSizeToWrite(8),p0(this.view,this.pos,e),this.pos+=8},n.prototype.writeI64=function(e){this.ensureBufferSizeToWrite(8),hd(this.view,this.pos,e),this.pos+=8},n.prototype.writeBigUint64=function(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8},n.prototype.writeBigInt64=function(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8},n}();function _0(n,e){var t=new R0(e);return t.encodeSharedRef(n)}function Gc(n){return"".concat(n<0?"-":"","0x").concat(Math.abs(n).toString(16).padStart(2,"0"))}var P0=16,O0=16,B0=function(){function n(e,t){e===void 0&&(e=P0),t===void 0&&(t=O0),this.maxKeyLength=e,this.maxLengthPerKey=t,this.hit=0,this.miss=0,this.caches=[];for(var r=0;r<this.maxKeyLength;r++)this.caches.push([])}return n.prototype.canBeCached=function(e){return e>0&&e<=this.maxKeyLength},n.prototype.find=function(e,t,r){var i=this.caches[r-1];e:for(var o=0,s=i;o<s.length;o++){for(var h=s[o],m=h.bytes,u=0;u<r;u++)if(m[u]!==e[t+u])continue e;return h.str}return null},n.prototype.store=function(e,t){var r=this.caches[e.length-1],i={bytes:e,str:t};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=i:r.push(i)},n.prototype.decode=function(e,t,r){var i=this.find(e,t,r);if(i!=null)return this.hit++,i;this.miss++;var o=cd(e,t,r),s=Uint8Array.prototype.slice.call(e,t,t+r);return this.store(s,o),o},n}(),C0=function(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function h(v){try{u(r.next(v))}catch(T){s(T)}}function m(v){try{u(r.throw(v))}catch(T){s(T)}}function u(v){v.done?o(v.value):i(v.value).then(h,m)}u((r=r.apply(n,e||[])).next())})},Kc=function(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:h(0),throw:h(1),return:h(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function h(u){return function(v){return m([u,v])}}function m(u){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,u[0]&&(t=0)),t;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(n,t)}catch(v){u=[6,v],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},Ol=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof __values=="function"?__values(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(h,m){s=n[o](s),i(h,m,s.done,s.value)})}}function i(o,s,h,m){Promise.resolve(m).then(function(u){o({value:u,done:h})},s)}},Hi=function(n){return this instanceof Hi?(this.v=n,this):new Hi(n)},N0=function(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(B){r[B]&&(i[B]=function(W){return new Promise(function(U,ne){o.push([B,W,U,ne])>1||h(B,W)})})}function h(B,W){try{m(r[B](W))}catch(U){T(o[0][3],U)}}function m(B){B.value instanceof Hi?Promise.resolve(B.value.v).then(u,v):T(o[0][2],B)}function u(B){h("next",B)}function v(B){h("throw",B)}function T(B,W){B(W),o.shift(),o.length&&h(o[0][0],o[0][1])}},yh="array",ks="map_key",fd="map_value";function V0(n,e,t){return e?typeof n=="string"||typeof n=="number"||typeof n=="bigint"||n instanceof Uint8Array||n instanceof Sn:typeof n=="string"||t&&typeof n=="number"}var U0=function(){function n(e){this.useMap=e,this.stack=[],this.stackHeadPosition=-1}return Object.defineProperty(n.prototype,"length",{get:function(){return this.stackHeadPosition+1},enumerable:!1,configurable:!0}),n.prototype.top=function(){return this.stack[this.stackHeadPosition]},n.prototype.pushArrayState=function(e){var t=this.getUninitializedStateFromPool();t.type=yh,t.position=0,t.size=e,t.array=new Array(e)},n.prototype.pushMapState=function(e){var t=this.getUninitializedStateFromPool();t.type=ks,t.readCount=0,t.size=e,t.map=this.useMap?new Map:{}},n.prototype.getUninitializedStateFromPool=function(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){var e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]},n.prototype.release=function(e){var t=this.stack[this.stackHeadPosition];if(t!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===yh){var r=e;r.size=0,r.array=void 0,r.position=0,r.type=void 0}if(e.type===ks||e.type===fd){var r=e;r.size=0,r.map=void 0,r.readCount=0,r.type=void 0}this.stackHeadPosition--},n.prototype.reset=function(){this.stack.length=0,this.stackHeadPosition=-1},n}(),ms=-1,Eu=new DataView(new ArrayBuffer(0)),L0=new Uint8Array(Eu.buffer);try{Eu.getInt8(0)}catch(n){if(!(n instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}var wh=RangeError,Bl=new wh("Insufficient data"),$0=new B0,F0=function(){function n(e){var t,r,i,o,s,h,m,u,v,T,B,W;if(this.totalPos=0,this.pos=0,this.view=Eu,this.bytes=L0,this.headByte=ms,this.extensionCodec=(t=e==null?void 0:e.extensionCodec)!==null&&t!==void 0?t:ld.defaultCodec,this.context=e==null?void 0:e.context,this.intMode=(r=e==null?void 0:e.intMode)!==null&&r!==void 0?r:e!=null&&e.useBigInt64?en.AS_ENCODED:en.UNSAFE_NUMBER,this.rawBinaryStringValues=(i=e==null?void 0:e.rawBinaryStringValues)!==null&&i!==void 0?i:!1,this.rawBinaryStringKeys=(o=e==null?void 0:e.rawBinaryStringKeys)!==null&&o!==void 0?o:!1,this.useRawBinaryStringClass=(s=e==null?void 0:e.useRawBinaryStringClass)!==null&&s!==void 0?s:!1,this.useMap=(h=e==null?void 0:e.useMap)!==null&&h!==void 0?h:!1,this.supportObjectNumberKeys=(m=e==null?void 0:e.supportObjectNumberKeys)!==null&&m!==void 0?m:!1,this.maxStrLength=(u=e==null?void 0:e.maxStrLength)!==null&&u!==void 0?u:ps,this.maxBinLength=(v=e==null?void 0:e.maxBinLength)!==null&&v!==void 0?v:ps,this.maxArrayLength=(T=e==null?void 0:e.maxArrayLength)!==null&&T!==void 0?T:ps,this.maxMapLength=(B=e==null?void 0:e.maxMapLength)!==null&&B!==void 0?B:ps,this.maxExtLength=(W=e==null?void 0:e.maxExtLength)!==null&&W!==void 0?W:ps,this.keyDecoder=(e==null?void 0:e.keyDecoder)!==void 0?e.keyDecoder:$0,this.rawBinaryStringKeys&&!this.useMap)throw new Error("rawBinaryStringKeys is only supported when useMap is true");this.stack=new U0(this.useMap)}return n.prototype.reinitializeState=function(){this.totalPos=0,this.headByte=ms,this.stack.reset()},n.prototype.setBuffer=function(e){this.bytes=xr(e),this.view=D0(this.bytes),this.pos=0},n.prototype.appendBuffer=function(e){if(this.headByte===ms&&!this.hasRemaining(1))this.setBuffer(e);else{var t=this.bytes.subarray(this.pos),r=xr(e),i=new Uint8Array(t.length+r.length);i.set(t),i.set(r,t.length),this.setBuffer(i)}},n.prototype.hasRemaining=function(e){return this.view.byteLength-this.pos>=e},n.prototype.createExtraByteError=function(e){var t=this,r=t.view,i=t.pos;return new RangeError("Extra ".concat(r.byteLength-i," of ").concat(r.byteLength," byte(s) found at buffer[").concat(e,"]"))},n.prototype.decode=function(e){this.reinitializeState(),this.setBuffer(e);var t=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return t},n.prototype.decodeMulti=function(e){return Kc(this,function(t){switch(t.label){case 0:this.reinitializeState(),this.setBuffer(e),t.label=1;case 1:return this.hasRemaining(1)?[4,this.doDecodeSync()]:[3,3];case 2:return t.sent(),[3,1];case 3:return[2]}})},n.prototype.decodeAsync=function(e){var t,r,i,o,s,h,m;return C0(this,void 0,void 0,function(){var u,v,T,B,W,U,ne,E;return Kc(this,function(C){switch(C.label){case 0:u=!1,C.label=1;case 1:C.trys.push([1,6,7,12]),t=!0,r=Ol(e),C.label=2;case 2:return[4,r.next()];case 3:if(i=C.sent(),o=i.done,!!o)return[3,5];if(m=i.value,t=!1,T=m,u)throw this.createExtraByteError(this.totalPos);this.appendBuffer(T);try{v=this.doDecodeSync(),u=!0}catch(N){if(!(N instanceof wh))throw N}this.totalPos+=this.pos,C.label=4;case 4:return t=!0,[3,2];case 5:return[3,12];case 6:return B=C.sent(),s={error:B},[3,12];case 7:return C.trys.push([7,,10,11]),!t&&!o&&(h=r.return)?[4,h.call(r)]:[3,9];case 8:C.sent(),C.label=9;case 9:return[3,11];case 10:if(s)throw s.error;return[7];case 11:return[7];case 12:if(u){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return[2,v]}throw W=this,U=W.headByte,ne=W.pos,E=W.totalPos,new RangeError("Insufficient data in parsing ".concat(Gc(U)," at ").concat(E," (").concat(ne," in the current buffer)"))}})})},n.prototype.decodeArrayStream=function(e){return this.decodeMultiAsync(e,!0)},n.prototype.decodeStream=function(e){return this.decodeMultiAsync(e,!1)},n.prototype.decodeMultiAsync=function(e,t){return N0(this,arguments,function(){var i,o,s,h,m,u,v,T,B,W,U,ne;return Kc(this,function(E){switch(E.label){case 0:i=t,o=-1,E.label=1;case 1:E.trys.push([1,13,14,19]),s=!0,h=Ol(e),E.label=2;case 2:return[4,Hi(h.next())];case 3:if(m=E.sent(),B=m.done,!!B)return[3,12];if(ne=m.value,s=!1,u=ne,t&&o===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(u),i&&(o=this.readArraySize(),i=!1,this.complete()),E.label=4;case 4:E.trys.push([4,9,,10]),E.label=5;case 5:return[4,Hi(this.doDecodeSync())];case 6:return[4,E.sent()];case 7:return E.sent(),--o===0?[3,8]:[3,5];case 8:return[3,10];case 9:if(v=E.sent(),!(v instanceof wh))throw v;return[3,10];case 10:this.totalPos+=this.pos,E.label=11;case 11:return s=!0,[3,2];case 12:return[3,19];case 13:return T=E.sent(),W={error:T},[3,19];case 14:return E.trys.push([14,,17,18]),!s&&!B&&(U=h.return)?[4,Hi(U.call(h))]:[3,16];case 15:E.sent(),E.label=16;case 16:return[3,18];case 17:if(W)throw W.error;return[7];case 18:return[7];case 19:return[2]}})})},n.prototype.doDecodeSync=function(){e:for(;;){var e=this.readHeadByte(),t=void 0;if(e>=224)t=this.convertNumber(e-256);else if(e<192)if(e<128)t=this.convertNumber(e);else if(e<144){var r=e-128;if(r!==0){this.pushMapState(r),this.complete();continue e}else t=this.useMap?new Map:{}}else if(e<160){var r=e-144;if(r!==0){this.pushArrayState(r),this.complete();continue e}else t=[]}else{var i=e-160;t=this.decodeString(i,0)}else if(e===192)t=null;else if(e===194)t=!1;else if(e===195)t=!0;else if(e===202)t=this.readF32();else if(e===203)t=this.readF64();else if(e===204)t=this.convertNumber(this.readU8());else if(e===205)t=this.convertNumber(this.readU16());else if(e===206)t=this.convertNumber(this.readU32());else if(e===207)t=this.readU64();else if(e===208)t=this.convertNumber(this.readI8());else if(e===209)t=this.convertNumber(this.readI16());else if(e===210)t=this.convertNumber(this.readI32());else if(e===211)t=this.readI64();else if(e===217){var i=this.lookU8();t=this.decodeString(i,1)}else if(e===218){var i=this.lookU16();t=this.decodeString(i,2)}else if(e===219){var i=this.lookU32();t=this.decodeString(i,4)}else if(e===220){var r=this.readU16();if(r!==0){this.pushArrayState(r),this.complete();continue e}else t=[]}else if(e===221){var r=this.readU32();if(r!==0){this.pushArrayState(r),this.complete();continue e}else t=[]}else if(e===222){var r=this.readU16();if(r!==0){this.pushMapState(r),this.complete();continue e}else t={}}else if(e===223){var r=this.readU32();if(r!==0){this.pushMapState(r),this.complete();continue e}else t={}}else if(e===196){var r=this.lookU8();t=this.decodeBinary(r,1)}else if(e===197){var r=this.lookU16();t=this.decodeBinary(r,2)}else if(e===198){var r=this.lookU32();t=this.decodeBinary(r,4)}else if(e===212)t=this.decodeExtension(1,0);else if(e===213)t=this.decodeExtension(2,0);else if(e===214)t=this.decodeExtension(4,0);else if(e===215)t=this.decodeExtension(8,0);else if(e===216)t=this.decodeExtension(16,0);else if(e===199){var r=this.lookU8();t=this.decodeExtension(r,1)}else if(e===200){var r=this.lookU16();t=this.decodeExtension(r,2)}else if(e===201){var r=this.lookU32();t=this.decodeExtension(r,4)}else throw new jn("Unrecognized type byte: ".concat(Gc(e)));this.complete();for(var o=this.stack;o.length>0;){var s=o.top();if(s.type===yh)if(s.array[s.position]=t,s.position++,s.position===s.size)t=s.array,o.release(s);else continue e;else if(s.type===ks){if(!V0(t,this.useMap,this.supportObjectNumberKeys)){var h=this.useMap?"string, number, bigint, or Uint8Array":this.supportObjectNumberKeys?"string or number":"string";throw new jn("The type of key must be ".concat(h," but got ").concat(typeof t))}if(!this.useMap&&t==="__proto__")throw new jn("The key __proto__ is not allowed");s.key=t,s.type=fd;continue e}else if(this.useMap?s.map.set(s.key,t):s.map[s.key]=t,s.readCount++,s.readCount===s.size)t=s.map,o.release(s);else{s.key=null,s.type=ks;continue e}}return t}},n.prototype.readHeadByte=function(){return this.headByte===ms&&(this.headByte=this.readU8()),this.headByte},n.prototype.complete=function(){this.headByte=ms},n.prototype.readArraySize=function(){var e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new jn("Unrecognized array type byte: ".concat(Gc(e)))}}},n.prototype.pushMapState=function(e){if(e>this.maxMapLength)throw new jn("Max length exceeded: map length (".concat(e,") > maxMapLengthLength (").concat(this.maxMapLength,")"));this.stack.pushMapState(e)},n.prototype.pushArrayState=function(e){if(e>this.maxArrayLength)throw new jn("Max length exceeded: array length (".concat(e,") > maxArrayLength (").concat(this.maxArrayLength,")"));this.stack.pushArrayState(e)},n.prototype.decodeString=function(e,t){if(this.stateIsMapKey()?this.rawBinaryStringKeys:this.rawBinaryStringValues){var r=this.decodeBinary(e,t);return this.useRawBinaryStringClass?new Sn(r):r}return this.decodeUtf8String(e,t)},n.prototype.decodeUtf8String=function(e,t){var r;if(e>this.maxStrLength)throw new jn("Max length exceeded: UTF-8 byte length (".concat(e,") > maxStrLength (").concat(this.maxStrLength,")"));if(this.bytes.byteLength<this.pos+t+e)throw Bl;var i=this.pos+t,o;return this.stateIsMapKey()&&(!((r=this.keyDecoder)===null||r===void 0)&&r.canBeCached(e))?o=this.keyDecoder.decode(this.bytes,i,e):o=d0(this.bytes,i,e),this.pos+=t+e,o},n.prototype.stateIsMapKey=function(){if(this.stack.length>0){var e=this.stack.top();return e.type===ks}return!1},n.prototype.decodeBinary=function(e,t){if(e>this.maxBinLength)throw new jn("Max length exceeded: bin length (".concat(e,") > maxBinLength (").concat(this.maxBinLength,")"));if(!this.hasRemaining(e+t))throw Bl;var r=this.pos+t,i=this.bytes.subarray(r,r+e);return this.pos+=t+e,i},n.prototype.decodeExtension=function(e,t){if(e>this.maxExtLength)throw new jn("Max length exceeded: ext length (".concat(e,") > maxExtLength (").concat(this.maxExtLength,")"));var r=this.view.getInt8(this.pos+t),i=this.decodeBinary(e,t+1);return this.extensionCodec.decode(i,r,this.context)},n.prototype.convertNumber=function(e){return y0(e,this.intMode)},n.prototype.lookU8=function(){return this.view.getUint8(this.pos)},n.prototype.lookU16=function(){return this.view.getUint16(this.pos)},n.prototype.lookU32=function(){return this.view.getUint32(this.pos)},n.prototype.readU8=function(){var e=this.view.getUint8(this.pos);return this.pos++,e},n.prototype.readI8=function(){var e=this.view.getInt8(this.pos);return this.pos++,e},n.prototype.readU16=function(){var e=this.view.getUint16(this.pos);return this.pos+=2,e},n.prototype.readI16=function(){var e=this.view.getInt16(this.pos);return this.pos+=2,e},n.prototype.readU32=function(){var e=this.view.getUint32(this.pos);return this.pos+=4,e},n.prototype.readI32=function(){var e=this.view.getInt32(this.pos);return this.pos+=4,e},n.prototype.readU64=function(){var e=m0(this.view,this.pos,this.intMode);return this.pos+=8,e},n.prototype.readI64=function(){var e=ud(this.view,this.pos,this.intMode);return this.pos+=8,e},n.prototype.readF32=function(){var e=this.view.getFloat32(this.pos);return this.pos+=4,e},n.prototype.readF64=function(){var e=this.view.getFloat64(this.pos);return this.pos+=8,e},n}();function bu(n,e){var t=new F0(e);return t.decode(n)}const q0="The object contains empty or 0 values. First empty or 0 value encountered during encoding: ";function z0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&(!n[e]||n[e].length===0))return{containsEmpty:!0,firstEmptyKey:e};return{containsEmpty:!1,firstEmptyKey:void 0}}function ya(n){return _0(n,{sortKeys:!0})}function H0(n){const e=z0(n);if(e.containsEmpty)throw new Error(q0+e.firstEmptyKey);return ya(n)}function dd(n){switch(n){case an.UNSAFE:return en.UNSAFE_NUMBER;case an.SAFE:return en.SAFE_NUMBER;case an.MIXED:return en.MIXED;case an.BIGINT:return en.BIGINT;default:throw new Error(`Invalid intDecoding: ${n}`)}}function gd(n,e){const t={intMode:e!=null&&e.intDecoding?dd(e==null?void 0:e.intDecoding):en.BIGINT};return bu(n,t)}function W0(n){return gd(n,{intDecoding:an.MIXED})}function pd(n,e){const t={intMode:e!=null&&e.intDecoding?dd(e==null?void 0:e.intDecoding):en.BIGINT,useMap:!0};return bu(n,t)}function j0(n,e){const t={intMode:en.BIGINT,useMap:!0,rawBinaryStringKeys:!0,rawBinaryStringValues:!0,useRawBinaryStringClass:!0};return bu(n,t)}function vh(n){if(n==null)return n;if(n instanceof Uint8Array)return un(n);if(Array.isArray(n))return n.map(vh);if(n instanceof Map){const e={};for(const[t,r]of n){if(typeof t!="string")throw new Error(`JSON map key must be a string: ${t}`);e[t]=vh(r)}return e}return n}function Sh(n){if(n==null||typeof n=="string"||typeof n=="number"||typeof n=="bigint"||typeof n=="boolean")return n;if(Array.isArray(n))return n.map(Sh);if(typeof n=="object"){const e=new Map;for(const[t,r]of Object.entries(n))e.set(t,Sh(r));return e}throw new Error(`Invalid JSON encoding data: ${n}`)}var br;(function(n){n[n.MAP_VALUE=0]="MAP_VALUE",n[n.ARRAY_ELEMENT=1]="ARRAY_ELEMENT"})(br||(br={}));class Va{constructor({parent:e,segment:t,baseObjectBytes:r}){this.resolvedCache=null,this.resolvedCachePresent=!1,this.parent=e,this.segment=t,this.baseObjectBytes=r}withMapValue(e){return new Va({parent:this,segment:{kind:br.MAP_VALUE,key:e}})}withArrayElement(e){return new Va({parent:this,segment:{kind:br.ARRAY_ELEMENT,key:e}})}getRawStringAtCurrentLocation(){const e=this.resolve();if(e instanceof Sn)return e.rawBinaryValue;throw new Error(`Invalid type. Expected RawBinaryString, got ${e} (${typeof e})`)}getRawStringKeysAndValuesAtCurrentLocation(){const e=this.resolve();if(!(e instanceof Map))throw new Error(`Invalid type. Expected Map, got ${e} (${typeof e})`);const t=new Map;for(const[r,i]of e)if(r instanceof Sn)t.set(r.rawBinaryValue,i);else throw new Error(`Invalid type for map key. Expected RawBinaryString, got ${r} (${typeof r})`);return t}resolve(){if(this.resolvedCachePresent)return this.resolvedCache;let e;if(this.parent?e=this.parent.resolve():e=j0(this.baseObjectBytes),!this.segment)return this.resolvedCache=e,this.resolvedCachePresent=!0,e;if(this.segment.kind===br.MAP_VALUE){if(!(e instanceof Map))throw new Error(`Invalid type. Expected Map, got ${e} (${typeof e})`);if(typeof this.segment.key=="string"||this.segment.key instanceof Uint8Array||this.segment.key instanceof Sn){const t=this.segment.key instanceof Sn?this.segment.key.rawBinaryValue:nr(this.segment.key),r=typeof this.segment.key=="string"||this.segment.key instanceof Sn;for(const[i,o]of e){let s;if(r?i instanceof Sn&&(s=i.rawBinaryValue):i instanceof Uint8Array&&(s=i),s&&tr(t,s)){this.resolvedCache=o;break}}}else this.resolvedCache=e.get(this.segment.key);return this.resolvedCachePresent=!0,this.resolvedCache}if(this.segment.kind===br.ARRAY_ELEMENT){if(!Array.isArray(e))throw new Error(`Invalid type. Expected Array, got ${e} (${typeof e})`);return this.resolvedCache=e[this.segment.key],this.resolvedCachePresent=!0,this.resolvedCache}throw new Error(`Invalid segment kind: ${this.segment.kind}`)}getPathString(){const e=this.parent?this.parent.getPathString():"root";return this.segment?this.segment.kind===br.MAP_VALUE?`${e} -> map key "${this.segment.key}" (${typeof this.segment.key})`:this.segment.kind===br.ARRAY_ELEMENT?`${e} -> array index ${this.segment.key} (${typeof this.segment.key})`:`${e} -> unknown segment kind ${this.segment.kind}`:e}}class En{}function Kt(n,e){const t=pd(n),r=new Va({baseObjectBytes:n});return e.fromEncodingData(e.encodingSchema.fromPreparedMsgpack(t,r))}function Nn(n){return ya(n.getEncodingSchema().prepareMsgpack(n.toEncodingData()))}function pt(n,e){const t=wu(n,{intDecoding:an.BIGINT});return e.fromEncodingData(e.encodingSchema.fromPreparedJSON(t))}function G0(n,e){const{space:t,...r}=e??{},i=n.getEncodingSchema().prepareJSON(n.toEncodingData(),r);return ni(i,void 0,t)}class lt extends En{defaultValue(){return!1}isDefaultValue(e){return e===!1}prepareMsgpack(e){if(typeof e=="boolean")return e;throw new Error("Invalid boolean")}fromPreparedMsgpack(e,t){if(typeof e=="boolean")return e;throw new Error("Invalid boolean")}prepareJSON(e,t){if(typeof e=="boolean")return e;throw new Error("Invalid boolean")}fromPreparedJSON(e){if(typeof e=="boolean")return e;throw new Error("Invalid boolean")}}class me extends En{defaultValue(){return""}isDefaultValue(e){return e===""}prepareMsgpack(e){if(typeof e=="string")return e;throw new Error(`Invalid string: (${typeof e}) ${e}`)}fromPreparedMsgpack(e,t){if(typeof e=="string")return e;throw new Error(`Invalid string: (${typeof e}) ${e}`)}prepareJSON(e,t){if(typeof e=="string")return e;throw new Error(`Invalid string: (${typeof e}) ${e}`)}fromPreparedJSON(e){if(typeof e=="string")return e;throw new Error(`Invalid string: (${typeof e}) ${e}`)}}class M extends En{defaultValue(){return BigInt(0)}isDefaultValue(e){return typeof e=="bigint"?e===BigInt(0):typeof e=="number"?e===0:!1}prepareMsgpack(e){return Gt(e)}fromPreparedMsgpack(e,t){return Gt(e)}prepareJSON(e,t){return Gt(e)}fromPreparedJSON(e){return Gt(e)}}class Ct extends En{defaultValue(){return ot.zeroAddress()}isDefaultValue(e){return ot.zeroAddress().equals(e)}prepareMsgpack(e){if(e instanceof ot)return e.publicKey;throw new Error(`Invalid address: (${typeof e}) ${e}`)}fromPreparedMsgpack(e,t){return new ot(e)}prepareJSON(e,t){if(e instanceof ot)return e.toString();throw new Error(`Invalid address: (${typeof e}) ${e}`)}fromPreparedJSON(e){return ot.fromString(e)}}class Me extends En{defaultValue(){return new Uint8Array}isDefaultValue(e){return e instanceof Uint8Array&&e.byteLength===0}prepareMsgpack(e){if(e instanceof Uint8Array)return e;throw new Error(`Invalid byte array: (${typeof e}) ${e}`)}fromPreparedMsgpack(e,t){if(e instanceof Uint8Array)return e;throw new Error(`Invalid byte array: (${typeof e}) ${e}`)}prepareJSON(e,t){if(e instanceof Uint8Array)return un(e);throw new Error(`Invalid byte array: (${typeof e}) ${e}`)}fromPreparedJSON(e){if(typeof e=="string")return Be(e);throw new Error(`Invalid byte array: (${typeof e}) ${e}`)}}class Ft extends En{constructor(e){super(),this.length=e}defaultValue(){return new Uint8Array(this.length)}isDefaultValue(e){return e instanceof Uint8Array&&e.byteLength===this.length&&e.every(t=>t===0)}prepareMsgpack(e){if(e instanceof Uint8Array){if(e.byteLength===this.length)return e;throw new Error(`Invalid byte array length: wanted ${this.length}, got ${e.byteLength}`)}throw new Error("Invalid byte array")}fromPreparedMsgpack(e,t){if(e instanceof Uint8Array){if(e.byteLength===this.length)return e;throw new Error(`Invalid byte array length: wanted ${this.length}, got ${e.byteLength}`)}throw new Error("Invalid byte array")}prepareJSON(e){if(e instanceof Uint8Array){if(e.byteLength===this.length)return un(e);throw new Error(`Invalid byte array length: wanted ${this.length}, got ${e.byteLength}`)}throw new Error("Invalid byte array")}fromPreparedJSON(e){if(typeof e=="string"){const t=Be(e);if(t.byteLength===this.length)return t;throw new Error(`Invalid byte array length: wanted ${this.length}, got ${t.byteLength}`)}throw new Error("Invalid base64 byte array")}}const ys=32,Cl=52;class K0 extends En{defaultValue(){return new Uint8Array(ys)}isDefaultValue(e){return e instanceof Uint8Array&&e.byteLength===ys&&e.every(t=>t===0)}prepareMsgpack(e){if(e instanceof Uint8Array&&e.byteLength===ys)return e;throw new Error(`Invalid block hash: (${typeof e}) ${e}`)}fromPreparedMsgpack(e,t){if(e instanceof Uint8Array&&e.byteLength===ys)return e;throw new Error(`Invalid block hash: (${typeof e}) ${e}`)}prepareJSON(e,t){if(e instanceof Uint8Array&&e.byteLength===ys)return`blk-${Ds.encode(e).slice(0,Cl)}`;throw new Error(`Invalid block hash: (${typeof e}) ${e}`)}fromPreparedJSON(e){if(typeof e=="string"&&e.length===Cl+4&&e.startsWith("blk-"))return Uint8Array.from(Ds.decode.asBytes(e.slice(4)));throw new Error(`Invalid block hash: (${typeof e}) ${e}`)}}class Wi extends En{defaultValue(){return new Uint8Array}isDefaultValue(e){return e instanceof Uint8Array&&e.byteLength===0}prepareMsgpack(e){if(e instanceof Uint8Array)return new Sn(e);throw new Error(`Invalid byte array: (${typeof e}) ${e}`)}fromPreparedMsgpack(e,t){return t.getRawStringAtCurrentLocation()}prepareJSON(e,t){if(e instanceof Uint8Array){const r=hc(e);if(!t.lossyBinaryStringConversion&&!tr(nr(r),e))throw new Error(`Invalid UTF-8 byte array encountered. Encode with lossyBinaryStringConversion enabled to bypass this check. Base64 value: ${un(e)}`);return r}throw new Error(`Invalid byte array: (${typeof e}) ${e}`)}fromPreparedJSON(e){if(typeof e=="string")return nr(e);throw new Error(`Invalid byte array: (${typeof e}) ${e}`)}}class xe extends En{constructor(e){super(),this.itemSchema=e}defaultValue(){return[]}isDefaultValue(e){return Array.isArray(e)&&e.length===0}prepareMsgpack(e){if(Array.isArray(e))return e.map(t=>this.itemSchema.prepareMsgpack(t));throw new Error("ArraySchema data must be an array")}fromPreparedMsgpack(e,t){if(Array.isArray(e))return e.map((r,i)=>this.itemSchema.fromPreparedMsgpack(r,t.withArrayElement(i)));throw new Error(`ArraySchema encoded data must be an array: ${e} (${typeof e})`)}prepareJSON(e,t){if(Array.isArray(e))return e.map(r=>this.itemSchema.prepareJSON(r,t));throw new Error("ArraySchema data must be an array")}fromPreparedJSON(e){if(Array.isArray(e))return e.map(t=>this.itemSchema.fromPreparedJSON(t));throw new Error(`ArraySchema encoded data must be an array: ${e} (${typeof e})`)}}function Ye(n){return n.map(e=>({...e,omitEmpty:!0}))}class K extends En{constructor(e){super(),this.entries=e,this.checkEntries()}pushEntries(...e){this.entries.push(...e),this.checkEntries()}checkEntries(){for(const t of this.entries)if(t.embedded){if(t.key!=="")throw new Error("Embedded entries must have an empty key");if(!(t.valueSchema instanceof K))throw new Error("Embedded entry valueSchema must be a NamedMapSchema")}const e=new Set;for(const t of this.getEntries()){if(e.has(t.key))throw new Error(`Duplicate key: ${t.key}`);e.add(t.key)}}getEntries(){const e=[];for(const t of this.entries)if(t.embedded){const r=t.valueSchema;e.push(...r.getEntries())}else e.push(t);return e}defaultValue(){const e=new Map;for(const t of this.getEntries())e.set(t.key,t.valueSchema.defaultValue());return e}isDefaultValue(e){if(!(e instanceof Map))return!1;for(const t of this.getEntries())if(!t.valueSchema.isDefaultValue(e.get(t.key)))return!1;return!0}prepareMsgpack(e){if(!(e instanceof Map))throw new Error(`NamedMapSchema data must be a Map. Got (${typeof e}) ${e}`);const t=new Map;for(const r of this.getEntries()){const i=e.get(r.key);r.omitEmpty&&r.valueSchema.isDefaultValue(i)||t.set(r.key,r.valueSchema.prepareMsgpack(i))}return t}fromPreparedMsgpack(e,t){if(!(e instanceof Map))throw new Error("NamedMapSchema data must be a Map");const r=new Map;for(const i of this.getEntries())if(e.has(i.key))r.set(i.key,i.valueSchema.fromPreparedMsgpack(e.get(i.key),t.withMapValue(i.key)));else if(i.omitEmpty)r.set(i.key,i.valueSchema.defaultValue());else throw new Error(`Missing key: ${i.key}`);return r}prepareJSON(e,t){if(!(e instanceof Map))throw new Error("NamedMapSchema data must be a Map");const r={};for(const i of this.getEntries()){const o=e.get(i.key);i.omitEmpty&&i.valueSchema.isDefaultValue(o)||(r[i.key]=i.valueSchema.prepareJSON(o,t))}return r}fromPreparedJSON(e){if(e==null||typeof e!="object"||Array.isArray(e))throw new Error("NamedMapSchema data must be an object");const t=new Map;for(const r of this.getEntries())if(Object.prototype.hasOwnProperty.call(e,r.key))t.set(r.key,r.valueSchema.fromPreparedJSON(e[r.key]));else if(r.omitEmpty)t.set(r.key,r.valueSchema.defaultValue());else throw new Error(`Missing key: ${r.key}`);return t}}function as(...n){const e=new Map;for(const t of n)for(const[r,i]of t){if(e.has(r))throw new Error(`Duplicate key: ${r}`);e.set(r,i)}return e}function nn(n,e){const t=new Map;for(const[r,i]of n){const[o,s]=e(r,i);t.set(o,s)}return t}class lc extends En{constructor(e){super(),this.valueSchema=e}defaultValue(){return new Map}isDefaultValue(e){return e instanceof Map&&e.size===0}prepareMsgpack(e){if(!(e instanceof Map))throw new Error(`Uint64MapSchema data must be a Map. Got (${typeof e}) ${e}`);const t=new Map;for(const[r,i]of e){const o=Gt(r);if(t.has(o))throw new Error(`Duplicate key: ${o}`);t.set(o,this.valueSchema.prepareMsgpack(i))}return t}fromPreparedMsgpack(e,t){if(!(e instanceof Map))throw new Error("Uint64MapSchema data must be a Map");const r=new Map;for(const[i,o]of e){const s=Gt(i);if(r.has(s))throw new Error(`Duplicate key: ${s}`);r.set(s,this.valueSchema.fromPreparedMsgpack(o,t.withMapValue(i)))}return r}prepareJSON(e,t){if(!(e instanceof Map))throw new Error(`Uint64MapSchema data must be a Map. Got (${typeof e}) ${e}`);const r=new Map;for(const[o,s]of e){const h=Gt(o);if(r.has(h))throw new Error(`Duplicate key: ${h}`);r.set(h,this.valueSchema.prepareJSON(s,t))}const i={};for(const[o,s]of r)i[o.toString()]=s;return i}fromPreparedJSON(e){if(e==null||typeof e!="object"||Array.isArray(e))throw new Error("Uint64MapSchema data must be an object");const t=new Map;for(const[r,i]of Object.entries(e)){const o=BigInt(r);if(t.has(o))throw new Error(`Duplicate key: ${o}`);t.set(o,this.valueSchema.fromPreparedJSON(i))}return t}}class J0 extends En{constructor(e){super(),this.valueSchema=e}defaultValue(){return new Map}isDefaultValue(e){return e instanceof Map&&e.size===0}prepareMsgpack(e){if(!(e instanceof Map))throw new Error(`ByteArrayMapSchema data must be a Map. Got (${typeof e}) ${e}`);const t=new Map;for(const[r,i]of e){if(!(r instanceof Uint8Array))throw new Error(`Invalid key: ${r} (${typeof r})`);t.set(r,this.valueSchema.prepareMsgpack(i))}return t}fromPreparedMsgpack(e,t){if(!(e instanceof Map))throw new Error("ByteArrayMapSchema data must be a Map");const r=new Map;for(const[i,o]of e){if(!(i instanceof Uint8Array))throw new Error(`Invalid key: ${i} (${typeof i})`);r.set(i,this.valueSchema.fromPreparedMsgpack(o,t.withMapValue(i)))}return r}prepareJSON(e,t){if(!(e instanceof Map))throw new Error(`ByteArrayMapSchema data must be a Map. Got (${typeof e}) ${e}`);const r=new Map;for(const[o,s]of e){if(!(o instanceof Uint8Array))throw new Error(`Invalid key: ${o} (${typeof o})`);const h=un(o);if(r.has(h))throw new Error(`Duplicate key (base64): ${h}`);r.set(h,this.valueSchema.prepareJSON(s,t))}const i={};for(const[o,s]of r)i[o]=s;return i}fromPreparedJSON(e){if(e==null||typeof e!="object"||Array.isArray(e))throw new Error("ByteArrayMapSchema data must be an object");const t=new Map;for(const[r,i]of Object.entries(e))t.set(Be(r),this.valueSchema.fromPreparedJSON(i));return t}}function _a(n){if(n instanceof Sn)return hc(n.rawBinaryValue);if(n instanceof Map){const e=new Map;for(const[t,r]of n)e.set(_a(t),_a(r));return e}return Array.isArray(n)?n.map(_a):n}class Ts extends En{constructor(e){super(),this.valueSchema=e}defaultValue(){return new Map}isDefaultValue(e){return e instanceof Map&&e.size===0}prepareMsgpack(e){if(!(e instanceof Map))throw new Error(`SpecialCaseBinaryStringMapSchema data must be a Map. Got (${typeof e}) ${e}`);const t=new Map;for(const[r,i]of e){if(!(r instanceof Uint8Array))throw new Error(`Invalid key: ${r} (${typeof r})`);t.set(new Sn(r),this.valueSchema.prepareMsgpack(i))}return t}fromPreparedMsgpack(e,t){const r=new Map,i=t.getRawStringKeysAndValuesAtCurrentLocation();for(const[o,s]of i)r.set(o,this.valueSchema.fromPreparedMsgpack(_a(s),t.withMapValue(new Sn(o))));return r}prepareJSON(e,t){if(!(e instanceof Map))throw new Error(`SpecialCaseBinaryStringMapSchema data must be a Map. Got (${typeof e}) ${e}`);const r=new Map;for(const[o,s]of e){if(!(o instanceof Uint8Array))throw new Error(`Invalid key: ${o}`);const h=hc(o);if(!t.lossyBinaryStringConversion&&!tr(nr(h),o))throw new Error(`Invalid UTF-8 byte array encountered. Encode with lossyBinaryStringConversion enabled to bypass this check. Base64 value: ${un(o)}`);r.set(h,this.valueSchema.prepareJSON(s,t))}const i={};for(const[o,s]of r)i[o]=s;return i}fromPreparedJSON(e){if(e==null||typeof e!="object"||Array.isArray(e))throw new Error("SpecialCaseBinaryStringMapSchema data must be an object");const t=new Map;for(const[r,i]of Object.entries(e))t.set(nr(r),this.valueSchema.fromPreparedJSON(i));return t}}class p extends En{constructor(e){super(),this.valueSchema=e}defaultValue(){}isDefaultValue(e){return e===void 0||this.valueSchema.isDefaultValue(e)}prepareMsgpack(e){if(e!==void 0)return this.valueSchema.prepareMsgpack(e)}fromPreparedMsgpack(e,t){if(e!=null)return this.valueSchema.fromPreparedMsgpack(e,t)}prepareJSON(e,t){return e===void 0?null:this.valueSchema.prepareJSON(e,t)}fromPreparedJSON(e){if(e!=null)return this.valueSchema.fromPreparedJSON(e)}}class md extends En{defaultValue(){}isDefaultValue(e){return e===void 0}prepareMsgpack(e){return e}fromPreparedMsgpack(e,t){return e}prepareJSON(e,t){return vh(e)}fromPreparedJSON(e){return Sh(e)}}function Y0(n,e,t){const r=BigInt(n.appIndex),i=n.name,o=r===BigInt(0)||r===t,s=e.indexOf(r)+1;if(s===0&&!o)throw new Error(`Box ref with appId ${r} not in foreign-apps`);return new Map([["i",s],["n",i]])}function X0(n,e,t){const r=BigInt(t),i=e.map(BigInt);return n.map(o=>Y0(o,i,r))}var Rt;(function(n){n.pay="pay",n.keyreg="keyreg",n.acfg="acfg",n.axfer="axfer",n.afrz="afrz",n.appl="appl",n.stpf="stpf",n.hb="hb"})(Rt||(Rt={}));function Eh(n){return n===Rt.pay||n===Rt.keyreg||n===Rt.acfg||n===Rt.axfer||n===Rt.afrz||n===Rt.appl||n===Rt.stpf||n===Rt.hb}var ln;(function(n){n[n.NoOpOC=0]="NoOpOC",n[n.OptInOC=1]="OptInOC",n[n.CloseOutOC=2]="CloseOutOC",n[n.ClearStateOC=3]="ClearStateOC",n[n.UpdateApplicationOC=4]="UpdateApplicationOC",n[n.DeleteApplicationOC=5]="DeleteApplicationOC"})(ln||(ln={}));function yd(n){return n===ln.NoOpOC||n===ln.OptInOC||n===ln.CloseOutOC||n===ln.ClearStateOC||n===ln.UpdateApplicationOC||n===ln.DeleteApplicationOC}let fc=class bh{constructor(e){this.hashType=e.hashType}getEncodingSchema(){return bh.encodingSchema}toEncodingData(){return new Map([["t",this.hashType]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded HashFactory: ${e}`);return new bh({hashType:Number(e.get("t"))})}};fc.encodingSchema=new K(Ye([{key:"t",valueSchema:new M}]));let Rr=class xh{constructor(e){this.path=e.path,this.hashFactory=e.hashFactory,this.treeDepth=e.treeDepth}getEncodingSchema(){return xh.encodingSchema}toEncodingData(){return new Map([["pth",this.path],["hsh",this.hashFactory.toEncodingData()],["td",this.treeDepth]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded MerkleArrayProof: ${e}`);return new xh({path:e.get("pth"),hashFactory:fc.fromEncodingData(e.get("hsh")),treeDepth:Number(e.get("td"))})}};Rr.encodingSchema=new K(Ye([{key:"pth",valueSchema:new xe(new Me)},{key:"hsh",valueSchema:fc.encodingSchema},{key:"td",valueSchema:new M}]));class ri{constructor(e){this.commitment=e.commitment,this.keyLifetime=e.keyLifetime}getEncodingSchema(){return ri.encodingSchema}toEncodingData(){return new Map([["cmt",this.commitment],["lf",this.keyLifetime]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded MerkleSignatureVerifier: ${e}`);return new ri({commitment:e.get("cmt"),keyLifetime:e.get("lf")})}}ri.encodingSchema=new K(Ye([{key:"cmt",valueSchema:new Ft(64)},{key:"lf",valueSchema:new M}]));class ii{constructor(e){this.pk=e.pk,this.weight=e.weight}getEncodingSchema(){return ii.encodingSchema}toEncodingData(){return new Map([["p",this.pk.toEncodingData()],["w",this.weight]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Participant: ${e}`);return new ii({pk:ri.fromEncodingData(e.get("p")),weight:e.get("w")})}}ii.encodingSchema=new K(Ye([{key:"p",valueSchema:ri.encodingSchema},{key:"w",valueSchema:new M}]));class oi{constructor(e){this.publicKey=e.publicKey}getEncodingSchema(){return oi.encodingSchema}toEncodingData(){return new Map([["k",this.publicKey]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded FalconVerifier: ${e}`);return new oi({publicKey:e.get("k")})}}oi.encodingSchema=new K(Ye([{key:"k",valueSchema:new Ft(1793)}]));class si{constructor(e){this.signature=e.signature,this.vectorCommitmentIndex=e.index,this.proof=e.proof,this.verifyingKey=e.verifyingKey}getEncodingSchema(){return si.encodingSchema}toEncodingData(){return new Map([["sig",this.signature],["idx",this.vectorCommitmentIndex],["prf",this.proof.toEncodingData()],["vkey",this.verifyingKey.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded FalconSignatureStruct: ${e}`);return new si({signature:e.get("sig"),index:e.get("idx"),proof:Rr.fromEncodingData(e.get("prf")),verifyingKey:oi.fromEncodingData(e.get("vkey"))})}}si.encodingSchema=new K(Ye([{key:"sig",valueSchema:new Me},{key:"idx",valueSchema:new M},{key:"prf",valueSchema:Rr.encodingSchema},{key:"vkey",valueSchema:oi.encodingSchema}]));class ai{constructor(e){this.sig=e.sig,this.l=e.l}getEncodingSchema(){return ai.encodingSchema}toEncodingData(){return new Map([["s",this.sig.toEncodingData()],["l",this.l]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SigslotCommit: ${e}`);return new ai({sig:si.fromEncodingData(e.get("s")),l:e.get("l")})}}ai.encodingSchema=new K(Ye([{key:"s",valueSchema:si.encodingSchema},{key:"l",valueSchema:new M}]));class ci{constructor(e){this.sigslot=e.sigslot,this.participant=e.participant}getEncodingSchema(){return ci.encodingSchema}toEncodingData(){return new Map([["s",this.sigslot.toEncodingData()],["p",this.participant.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Reveal: ${e}`);return new ci({sigslot:ai.fromEncodingData(e.get("s")),participant:ii.fromEncodingData(e.get("p"))})}}ci.encodingSchema=new K(Ye([{key:"s",valueSchema:ai.encodingSchema},{key:"p",valueSchema:ii.encodingSchema}]));let dc=class kh{constructor(e){this.sigCommit=e.sigCommit,this.signedWeight=e.signedWeight,this.sigProofs=e.sigProofs,this.partProofs=e.partProofs,this.merkleSignatureSaltVersion=e.merkleSignatureSaltVersion,this.reveals=e.reveals,this.positionsToReveal=e.positionsToReveal}getEncodingSchema(){return kh.encodingSchema}toEncodingData(){return new Map([["c",this.sigCommit],["w",this.signedWeight],["S",this.sigProofs.toEncodingData()],["P",this.partProofs.toEncodingData()],["v",this.merkleSignatureSaltVersion],["r",nn(this.reveals,(e,t)=>[e,t.toEncodingData()])],["pr",this.positionsToReveal]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateProof: ${e}`);return new kh({sigCommit:e.get("c"),signedWeight:e.get("w"),sigProofs:Rr.fromEncodingData(e.get("S")),partProofs:Rr.fromEncodingData(e.get("P")),merkleSignatureSaltVersion:Number(e.get("v")),reveals:nn(e.get("r"),(t,r)=>[t,ci.fromEncodingData(r)]),positionsToReveal:e.get("pr")})}};dc.encodingSchema=new K(Ye([{key:"c",valueSchema:new Me},{key:"w",valueSchema:new M},{key:"S",valueSchema:Rr.encodingSchema},{key:"P",valueSchema:Rr.encodingSchema},{key:"v",valueSchema:new M},{key:"r",valueSchema:new lc(ci.encodingSchema)},{key:"pr",valueSchema:new xe(new M)}]));let gc=class Pa{constructor(e){this.blockHeadersCommitment=e.blockHeadersCommitment,this.votersCommitment=e.votersCommitment,this.lnProvenWeight=e.lnProvenWeight,this.firstAttestedRound=e.firstAttestedRound,this.lastAttestedRound=e.lastAttestedRound}getEncodingSchema(){return Pa.encodingSchema}toEncodingData(){return new Map([["b",this.blockHeadersCommitment],["v",this.votersCommitment],["P",this.lnProvenWeight],["f",this.firstAttestedRound],["l",this.lastAttestedRound]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateProofMessage: ${e}`);return new Pa({blockHeadersCommitment:e.get("b"),votersCommitment:e.get("v"),lnProvenWeight:e.get("P"),firstAttestedRound:e.get("f"),lastAttestedRound:e.get("l")})}static fromMap(e){return new Pa({blockHeadersCommitment:e.get("b"),votersCommitment:e.get("v"),lnProvenWeight:e.get("P"),firstAttestedRound:e.get("f"),lastAttestedRound:e.get("l")})}};gc.encodingSchema=new K(Ye([{key:"b",valueSchema:new Me},{key:"v",valueSchema:new Me},{key:"P",valueSchema:new M},{key:"f",valueSchema:new M},{key:"l",valueSchema:new M}]));class Gi{constructor(e){this.sig=e.sig,this.pk=e.pk,this.pk2=e.pk2,this.pk1Sig=e.pk1Sig,this.pk2Sig=e.pk2Sig}getEncodingSchema(){return Gi.encodingSchema}toEncodingData(){return new Map([["s",this.sig],["p",this.pk],["p2",this.pk2],["p1s",this.pk1Sig],["p2s",this.pk2Sig]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded HeartbeatProof: ${e}`);return new Gi({sig:e.get("s"),pk:e.get("p"),pk2:e.get("p2"),pk1Sig:e.get("p1s"),pk2Sig:e.get("p2s")})}}Gi.encodingSchema=new K(Ye([{key:"s",valueSchema:new Ft(64)},{key:"p",valueSchema:new Ft(32)},{key:"p2",valueSchema:new Ft(32)},{key:"p1s",valueSchema:new Ft(64)},{key:"p2s",valueSchema:new Ft(64)}]));class Dr{constructor(e){this.address=e.address,this.proof=e.proof,this.seed=e.seed,this.voteID=e.voteID,this.keyDilution=e.keyDilution}getEncodingSchema(){return Dr.encodingSchema}toEncodingData(){return new Map([["a",this.address],["prf",this.proof.toEncodingData()],["sd",this.seed],["vid",this.voteID],["kd",this.keyDilution]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Heartbeat: ${e}`);return new Dr({address:e.get("a"),proof:Gi.fromEncodingData(e.get("prf")),seed:e.get("sd"),voteID:e.get("vid"),keyDilution:e.get("kd")})}}Dr.encodingSchema=new K(Ye([{key:"a",valueSchema:new Ct},{key:"prf",valueSchema:Gi.encodingSchema},{key:"sd",valueSchema:new Me},{key:"vid",valueSchema:new Ft(32)},{key:"kd",valueSchema:new M}]));const Z0=52,Q0=32,ev=75,tv=32,nv=32,rv=32,iv=64,ov=32;function wd(n){return n.every(e=>e===0)}function Jc(n,e,t){if(n==null)return;let r;if(n instanceof Uint8Array&&(r=n),r==null||r.byteLength!==t)throw Error(`${e} must be a ${t} byte Uint8Array`);return r}function $i(n){if(n==null)throw new Error("Address must not be null or undefined");if(typeof n=="string")return ot.fromString(n);if(n instanceof ot)return n;throw new Error(`Not an address: ${n}`)}function Sr(n){if(n==null)return;let e;if(n instanceof ot)e=n;else if(typeof n=="string")e=ot.fromString(n);else throw new Error(`Not an address: ${n}`);if(wd(e.publicKey))throw new Error("Invalid use of the zero address. To omit this value, pass in undefined");return e}function vd(n){if(!(typeof n>"u")){if(n instanceof Uint8Array)return n;throw new Error(`Not a Uint8Array: ${n}`)}}function Wr(n){if(n instanceof Uint8Array)return n;throw new Error(`Not a Uint8Array: ${n}`)}function Yc(n){if(!(typeof n>"u"))return Gt(n)}function Ea(n){if(n===!0||n===!1)return n;throw new Error(`Not a boolean: ${n}`)}function ws(n){if(Array.isArray(n))return n.slice();throw new Error(`Not an array: ${n}`)}function Nl(n,e,t){const r=vd(n);if(!(typeof r>"u")){if(r.byteLength!==e)throw new Error(`${t} must be ${e} bytes long, was ${r.byteLength}`);if(!wd(r))return r}}function sv(n){if(n!=null&&typeof n=="object"){const{appIndex:e,name:t}=n;return{appIndex:Gt(e),name:Wr(t)}}throw new Error(`Not a box reference: ${n}`)}const Vl=new TextEncoder().encode("TX");let Vn=class Oa{constructor(e){if(!Eh(e.type))throw new Error(`Invalid transaction type: ${e.type}`);if(this.type=e.type,this.sender=$i(e.sender),this.note=Wr(e.note??new Uint8Array),this.lease=Nl(e.lease,Q0,"lease"),this.rekeyTo=Sr(e.rekeyTo),this.group=void 0,this.firstValid=Gt(e.suggestedParams.firstValid),this.lastValid=Gt(e.suggestedParams.lastValid),e.suggestedParams.genesisID){if(typeof e.suggestedParams.genesisID!="string")throw new Error("Genesis ID must be a string if present");this.genesisID=e.suggestedParams.genesisID}this.genesisHash=vd(e.suggestedParams.genesisHash);const t=[];if(e.paymentParams&&t.push(Rt.pay),e.keyregParams&&t.push(Rt.keyreg),e.assetConfigParams&&t.push(Rt.acfg),e.assetTransferParams&&t.push(Rt.axfer),e.assetFreezeParams&&t.push(Rt.afrz),e.appCallParams&&t.push(Rt.appl),e.stateProofParams&&t.push(Rt.stpf),e.heartbeatParams&&t.push(Rt.hb),t.length!==1)throw new Error(`Transaction has wrong number of type fields present (${t.length}): ${t}`);if(this.type!==t[0])throw new Error(`Transaction has type ${this.type} but fields present for ${t[0]}`);if(e.paymentParams&&(this.payment={receiver:$i(e.paymentParams.receiver),amount:Gt(e.paymentParams.amount),closeRemainderTo:Sr(e.paymentParams.closeRemainderTo)}),e.keyregParams){if(this.keyreg={voteKey:Jc(e.keyregParams.voteKey,"voteKey",nv),selectionKey:Jc(e.keyregParams.selectionKey,"selectionKey",rv),stateProofKey:Jc(e.keyregParams.stateProofKey,"stateProofKey",iv),voteFirst:Yc(e.keyregParams.voteFirst),voteLast:Yc(e.keyregParams.voteLast),voteKeyDilution:Yc(e.keyregParams.voteKeyDilution),nonParticipation:Ea(e.keyregParams.nonParticipation??!1)},this.keyreg.nonParticipation&&(this.keyreg.voteKey||this.keyreg.selectionKey||this.keyreg.stateProofKey||typeof this.keyreg.voteFirst<"u"||typeof this.keyreg.voteLast<"u"||typeof this.keyreg.voteKeyDilution<"u"))throw new Error("nonParticipation is true but participation params are present.");if(!this.keyreg.nonParticipation&&(this.keyreg.voteKey||this.keyreg.selectionKey||this.keyreg.stateProofKey||typeof this.keyreg.voteFirst<"u"||typeof this.keyreg.voteLast<"u"||typeof this.keyreg.voteKeyDilution<"u")&&!(this.keyreg.voteKey&&this.keyreg.selectionKey&&typeof this.keyreg.voteFirst<"u"&&typeof this.keyreg.voteLast<"u"&&typeof this.keyreg.voteKeyDilution<"u"))throw new Error("Online key registration missing at least one of the following fields: voteKey, selectionKey, voteFirst, voteLast, voteKeyDilution")}if(e.assetConfigParams&&(this.assetConfig={assetIndex:Gt(e.assetConfigParams.assetIndex??0),total:Gt(e.assetConfigParams.total??0),decimals:Un(e.assetConfigParams.decimals??0),defaultFrozen:Ea(e.assetConfigParams.defaultFrozen??!1),manager:Sr(e.assetConfigParams.manager),reserve:Sr(e.assetConfigParams.reserve),freeze:Sr(e.assetConfigParams.freeze),clawback:Sr(e.assetConfigParams.clawback),unitName:e.assetConfigParams.unitName,assetName:e.assetConfigParams.assetName,assetURL:e.assetConfigParams.assetURL,assetMetadataHash:Nl(e.assetConfigParams.assetMetadataHash,tv,"assetMetadataHash")}),e.assetTransferParams&&(this.assetTransfer={assetIndex:Gt(e.assetTransferParams.assetIndex),amount:Gt(e.assetTransferParams.amount),assetSender:Sr(e.assetTransferParams.assetSender),receiver:$i(e.assetTransferParams.receiver),closeRemainderTo:Sr(e.assetTransferParams.closeRemainderTo)}),e.assetFreezeParams&&(this.assetFreeze={assetIndex:Gt(e.assetFreezeParams.assetIndex),freezeAccount:$i(e.assetFreezeParams.freezeTarget),frozen:Ea(e.assetFreezeParams.frozen)}),e.appCallParams){const{onComplete:i}=e.appCallParams;if(!yd(i))throw new Error(`Invalid onCompletion value: ${i}`);this.applicationCall={appIndex:Gt(e.appCallParams.appIndex),onComplete:i,numLocalInts:Un(e.appCallParams.numLocalInts??0),numLocalByteSlices:Un(e.appCallParams.numLocalByteSlices??0),numGlobalInts:Un(e.appCallParams.numGlobalInts??0),numGlobalByteSlices:Un(e.appCallParams.numGlobalByteSlices??0),extraPages:Un(e.appCallParams.extraPages??0),approvalProgram:Wr(e.appCallParams.approvalProgram??new Uint8Array),clearProgram:Wr(e.appCallParams.clearProgram??new Uint8Array),appArgs:ws(e.appCallParams.appArgs??[]).map(Wr),accounts:ws(e.appCallParams.accounts??[]).map($i),foreignApps:ws(e.appCallParams.foreignApps??[]).map(Gt),foreignAssets:ws(e.appCallParams.foreignAssets??[]).map(Gt),boxes:ws(e.appCallParams.boxes??[]).map(sv)}}if(e.stateProofParams&&(this.stateProof={stateProofType:Un(e.stateProofParams.stateProofType??0),stateProof:e.stateProofParams.stateProof,message:e.stateProofParams.message}),e.heartbeatParams&&(this.heartbeat=new Dr({address:e.heartbeatParams.address,proof:e.heartbeatParams.proof,seed:e.heartbeatParams.seed,voteID:e.heartbeatParams.voteID,keyDilution:e.heartbeatParams.keyDilution})),this.fee=Gt(e.suggestedParams.fee),!Ea(e.suggestedParams.flatFee??!1)){const i=Gt(e.suggestedParams.minFee);this.fee*=BigInt(this.estimateSize()),this.fee<i&&(this.fee=i)}}getEncodingSchema(){return Oa.encodingSchema}toEncodingData(){const e=new Map([["type",this.type],["fv",this.firstValid],["lv",this.lastValid],["snd",this.sender],["gen",this.genesisID],["gh",this.genesisHash],["fee",this.fee],["note",this.note],["lx",this.lease],["rekey",this.rekeyTo],["grp",this.group]]);if(this.payment)return e.set("amt",this.payment.amount),e.set("rcv",this.payment.receiver),e.set("close",this.payment.closeRemainderTo),e;if(this.keyreg)return e.set("votekey",this.keyreg.voteKey),e.set("selkey",this.keyreg.selectionKey),e.set("sprfkey",this.keyreg.stateProofKey),e.set("votefst",this.keyreg.voteFirst),e.set("votelst",this.keyreg.voteLast),e.set("votekd",this.keyreg.voteKeyDilution),e.set("nonpart",this.keyreg.nonParticipation),e;if(this.assetConfig){e.set("caid",this.assetConfig.assetIndex);const t=new Map([["t",this.assetConfig.total],["dc",this.assetConfig.decimals],["df",this.assetConfig.defaultFrozen],["m",this.assetConfig.manager],["r",this.assetConfig.reserve],["f",this.assetConfig.freeze],["c",this.assetConfig.clawback],["un",this.assetConfig.unitName],["an",this.assetConfig.assetName],["au",this.assetConfig.assetURL],["am",this.assetConfig.assetMetadataHash]]);return e.set("apar",t),e}if(this.assetTransfer)return e.set("xaid",this.assetTransfer.assetIndex),e.set("aamt",this.assetTransfer.amount),e.set("arcv",this.assetTransfer.receiver),e.set("aclose",this.assetTransfer.closeRemainderTo),e.set("asnd",this.assetTransfer.assetSender),e;if(this.assetFreeze)return e.set("faid",this.assetFreeze.assetIndex),e.set("afrz",this.assetFreeze.frozen),e.set("fadd",this.assetFreeze.freezeAccount),e;if(this.applicationCall)return e.set("apid",this.applicationCall.appIndex),e.set("apan",this.applicationCall.onComplete),e.set("apaa",this.applicationCall.appArgs),e.set("apat",this.applicationCall.accounts),e.set("apas",this.applicationCall.foreignAssets),e.set("apfa",this.applicationCall.foreignApps),e.set("apbx",X0(this.applicationCall.boxes,this.applicationCall.foreignApps,this.applicationCall.appIndex)),e.set("apap",this.applicationCall.approvalProgram),e.set("apsu",this.applicationCall.clearProgram),e.set("apls",new Map([["nui",this.applicationCall.numLocalInts],["nbs",this.applicationCall.numLocalByteSlices]])),e.set("apgs",new Map([["nui",this.applicationCall.numGlobalInts],["nbs",this.applicationCall.numGlobalByteSlices]])),e.set("apep",this.applicationCall.extraPages),e;if(this.stateProof)return e.set("sptype",this.stateProof.stateProofType),e.set("sp",this.stateProof.stateProof?this.stateProof.stateProof.toEncodingData():void 0),e.set("spmsg",this.stateProof.message?this.stateProof.message.toEncodingData():void 0),e;if(this.heartbeat){const t=new Dr({address:this.heartbeat.address,proof:this.heartbeat.proof,seed:this.heartbeat.seed,voteID:this.heartbeat.voteID,keyDilution:this.heartbeat.keyDilution});return e.set("hb",t.toEncodingData()),e}throw new Error(`Unexpected transaction type: ${this.type}`)}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded logic sig account: ${e}`);const t={minFee:BigInt(0),flatFee:!0,fee:e.get("fee")??0,firstValid:e.get("fv")??0,lastValid:e.get("lv")??0,genesisHash:e.get("gh"),genesisID:e.get("gen")},r=e.get("type");if(!Eh(r))throw new Error(`Unrecognized transaction type: ${r}`);const i={type:r,sender:e.get("snd")??ot.zeroAddress(),note:e.get("note"),lease:e.get("lx"),suggestedParams:t};if(e.get("rekey")&&(i.rekeyTo=e.get("rekey")),i.type===Rt.pay){const s={amount:e.get("amt")??0,receiver:e.get("rcv")??ot.zeroAddress()};e.get("close")&&(s.closeRemainderTo=e.get("close")),i.paymentParams=s}else if(i.type===Rt.keyreg){const s={voteKey:e.get("votekey"),selectionKey:e.get("selkey"),stateProofKey:e.get("sprfkey"),voteFirst:e.get("votefst"),voteLast:e.get("votelst"),voteKeyDilution:e.get("votekd"),nonParticipation:e.get("nonpart")};i.keyregParams=s}else if(i.type===Rt.acfg){const s={assetIndex:e.get("caid")};if(e.get("apar")){const h=e.get("apar");s.total=h.get("t"),s.decimals=h.get("dc"),s.defaultFrozen=h.get("df"),s.unitName=h.get("un"),s.assetName=h.get("an"),s.assetURL=h.get("au"),s.assetMetadataHash=h.get("am"),h.get("m")&&(s.manager=h.get("m")),h.get("r")&&(s.reserve=h.get("r")),h.get("f")&&(s.freeze=h.get("f")),h.get("c")&&(s.clawback=h.get("c"))}i.assetConfigParams=s}else if(i.type===Rt.axfer){const s={assetIndex:e.get("xaid")??0,amount:e.get("aamt")??0,receiver:e.get("arcv")??ot.zeroAddress()};e.get("aclose")&&(s.closeRemainderTo=e.get("aclose")),e.get("asnd")&&(s.assetSender=e.get("asnd")),i.assetTransferParams=s}else if(i.type===Rt.afrz){const s={assetIndex:e.get("faid")??0,freezeTarget:e.get("fadd")??ot.zeroAddress(),frozen:e.get("afrz")??!1};i.assetFreezeParams=s}else if(i.type===Rt.appl){const s={appIndex:e.get("apid")??0,onComplete:Un(e.get("apan")??0),appArgs:e.get("apaa"),accounts:e.get("apat"),foreignAssets:e.get("apas"),foreignApps:e.get("apfa"),approvalProgram:e.get("apap"),clearProgram:e.get("apsu"),extraPages:e.get("apep")},h=e.get("apls");h&&(s.numLocalInts=h.get("nui"),s.numLocalByteSlices=h.get("nbs"));const m=e.get("apgs");m&&(s.numGlobalInts=m.get("nui"),s.numGlobalByteSlices=m.get("nbs"));const u=e.get("apbx");u&&(s.boxes=u.map(v=>{const T=Un(v.get("i")??0),B=Wr(v.get("n")??new Uint8Array);if(T===0)return{appIndex:0,name:B};if(!s.foreignApps||T>s.foreignApps.length)throw new Error(`Cannot find foreign app index ${T} in ${s.foreignApps}`);return{appIndex:s.foreignApps[T-1],name:B}})),i.appCallParams=s}else if(i.type===Rt.stpf){const s={stateProofType:e.get("sptype"),stateProof:e.get("sp")?dc.fromEncodingData(e.get("sp")):void 0,message:e.get("spmsg")?gc.fromEncodingData(e.get("spmsg")):void 0};i.stateProofParams=s}else if(i.type===Rt.hb){const s=Dr.fromEncodingData(e.get("hb")),h={address:s.address,proof:s.proof,seed:s.seed,voteID:s.voteID,keyDilution:s.keyDilution};i.heartbeatParams=h}else{const s=i.type;throw new Error(`Unexpected transaction type: ${s}`)}const o=new Oa(i);if(e.get("grp")){const s=Wr(e.get("grp"));if(s.byteLength!==ov)throw new Error(`Invalid group length: ${s.byteLength}`);o.group=s}return o}estimateSize(){return this.toByte().length+ev}bytesToSign(){const e=this.toByte();return cn(Vl,e)}toByte(){return Nn(this)}rawSignTxn(e){const t=this.bytesToSign();return ac(t,e)}signTxn(e){const t=sc(e),r=new ot(t.publicKey),i=this.rawSignTxn(e);return this.attachSignature(r,i)}attachSignature(e,t){if(!ed(t.length))throw new Error("Invalid signature length");const r=new Map([["sig",t],["txn",this.toEncodingData()]]),i=$i(e);this.sender.equals(i)||r.set("sgnr",i);const o=new K(Ye([{key:"txn",valueSchema:Oa.encodingSchema},{key:"sig",valueSchema:new Ft(64)},{key:"sgnr",valueSchema:new p(new Ct)}]));return ya(o.prepareMsgpack(r))}rawTxID(){const e=this.toByte(),t=cn(Vl,e);return Uint8Array.from(pr(t))}txID(){const e=this.rawTxID();return Ds.encode(e).slice(0,Z0)}};Vn.encodingSchema=new K(Ye([{key:"type",valueSchema:new me},{key:"snd",valueSchema:new Ct},{key:"lv",valueSchema:new M},{key:"gen",valueSchema:new p(new me)},{key:"gh",valueSchema:new p(new Ft(32))},{key:"fee",valueSchema:new M},{key:"fv",valueSchema:new M},{key:"note",valueSchema:new Me},{key:"lx",valueSchema:new p(new Ft(32))},{key:"rekey",valueSchema:new p(new Ct)},{key:"grp",valueSchema:new p(new Ft(32))},{key:"amt",valueSchema:new p(new M)},{key:"rcv",valueSchema:new p(new Ct)},{key:"close",valueSchema:new p(new Ct)},{key:"votekey",valueSchema:new p(new Ft(32))},{key:"selkey",valueSchema:new p(new Ft(32))},{key:"sprfkey",valueSchema:new p(new Ft(64))},{key:"votefst",valueSchema:new p(new M)},{key:"votelst",valueSchema:new p(new M)},{key:"votekd",valueSchema:new p(new M)},{key:"nonpart",valueSchema:new p(new lt)},{key:"caid",valueSchema:new p(new M)},{key:"apar",valueSchema:new p(new K(Ye([{key:"t",valueSchema:new M},{key:"dc",valueSchema:new M},{key:"df",valueSchema:new lt},{key:"m",valueSchema:new p(new Ct)},{key:"r",valueSchema:new p(new Ct)},{key:"f",valueSchema:new p(new Ct)},{key:"c",valueSchema:new p(new Ct)},{key:"un",valueSchema:new p(new me)},{key:"an",valueSchema:new p(new me)},{key:"au",valueSchema:new p(new me)},{key:"am",valueSchema:new p(new Ft(32))}])))},{key:"xaid",valueSchema:new p(new M)},{key:"aamt",valueSchema:new p(new M)},{key:"arcv",valueSchema:new p(new Ct)},{key:"aclose",valueSchema:new p(new Ct)},{key:"asnd",valueSchema:new p(new Ct)},{key:"faid",valueSchema:new p(new M)},{key:"afrz",valueSchema:new p(new lt)},{key:"fadd",valueSchema:new p(new Ct)},{key:"apid",valueSchema:new p(new M)},{key:"apan",valueSchema:new p(new M)},{key:"apaa",valueSchema:new p(new xe(new Me))},{key:"apat",valueSchema:new p(new xe(new Ct))},{key:"apas",valueSchema:new p(new xe(new M))},{key:"apfa",valueSchema:new p(new xe(new M))},{key:"apbx",valueSchema:new p(new xe(new K(Ye([{key:"i",valueSchema:new M},{key:"n",valueSchema:new Me}]))))},{key:"apap",valueSchema:new p(new Me)},{key:"apsu",valueSchema:new p(new Me)},{key:"apls",valueSchema:new p(new K(Ye([{key:"nui",valueSchema:new M},{key:"nbs",valueSchema:new M}])))},{key:"apgs",valueSchema:new p(new K(Ye([{key:"nui",valueSchema:new M},{key:"nbs",valueSchema:new M}])))},{key:"apep",valueSchema:new p(new M)},{key:"sptype",valueSchema:new p(new M)},{key:"sp",valueSchema:new p(dc.encodingSchema)},{key:"spmsg",valueSchema:new p(gc.encodingSchema)},{key:"hb",valueSchema:new p(Dr.encodingSchema)}]));function av(n){return Nn(n)}function cv(n){return Kt(n,Vn)}const vs=new Uint8Array([77,117,108,116,105,115,105,103,65,100,100,114]),hv="invalid multisig version",uv="bad multisig threshold",lv="bad multisig public key - wrong length",fv="nacl public key length is not 32 bytes";function cs(n){return n.map(e=>typeof e=="string"?ot.fromString(e).publicKey:e.publicKey)}function hi({version:n,threshold:e,pks:t}){if(n!==1||n>255||n<0)throw new Error(hv);if(e===0||t.length===0||e>t.length||e>255)throw new Error(uv);const r=Hr-xs;if(r!==nd)throw new Error(fv);const i=new Uint8Array(vs.length+2+r*t.length);i.set(vs,0),i.set([n],vs.length),i.set([e],vs.length+1);for(let o=0;o<t.length;o++){if(t[o].length!==r)throw new Error(lv);i.set(t[o],vs.length+2+o*r)}return new ot(Uint8Array.from(pr(i)))}function dv({version:n,threshold:e,addrs:t}){const r=cs(t);return hi({version:n,threshold:e,pks:r})}function Sd(n,e,t){const r=e.v,i=e.thr,o=e.subsig,s=o.map(v=>v.pk);if(e.subsig.length<i)return!1;let h;try{h=hi({version:r,threshold:i,pks:s}).publicKey}catch{return!1}if(!tr(h,t))return!1;let m=0;for(const v of o)v.s!==void 0&&(m+=1);if(m<i)return!1;let u=0;for(const v of o)v.s!==void 0&&cc(n,v.s,v.pk)&&(u+=1);return!(u<i)}function gv({version:n,threshold:e,addrs:t}){return dv({version:n,threshold:e,addrs:t})}const Ed=new K(Ye([{key:"pk",valueSchema:new Ft(32)},{key:"s",valueSchema:new p(new Ft(64))}]));function bd(n){if(!(n instanceof Map))throw new Error(`Invalid decoded EncodedSubsig: ${n}`);const e={pk:n.get("pk")};return n.get("s")&&(e.s=n.get("s")),e}function xd(n){const e=new Map([["pk",n.pk]]);return n.s&&e.set("s",n.s),e}const xu=new K(Ye([{key:"v",valueSchema:new M},{key:"thr",valueSchema:new M},{key:"subsig",valueSchema:new xe(Ed)}]));function ku(n){if(!(n instanceof Map))throw new Error(`Invalid decoded EncodedMultiSig: ${n}`);return{v:Un(n.get("v")),thr:Un(n.get("thr")),subsig:n.get("subsig").map(bd)}}function Au(n){return new Map([["v",n.v],["thr",n.thr],["subsig",n.subsig.map(xd)]])}const pv=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/;function Ul(n){if(!n||n.length===0)throw new Error("empty program");const e=10,t=32,r=126,i=s=>t<=s&&s<=r;if(n.every(s=>s===e||i(s))){const s=new TextDecoder().decode(n);throw od(s)?new Error("requesting program bytes, get Algorand address"):pv.test(s)?new Error("program should not be b64 encoded"):new Error("program bytes are all ASCII printable characters, not looking like Teal byte code")}}const Xc=new TextEncoder().encode("Program");class _n{constructor(e,t){if(t&&(!Array.isArray(t)||!t.every(i=>i.constructor===Uint8Array)))throw new TypeError("Invalid arguments");let r=[];t!=null&&(r=t.map(i=>new Uint8Array(i))),Ul(e),this.logic=e,this.args=r,this.sig=void 0,this.msig=void 0}getEncodingSchema(){return _n.encodingSchema}toEncodingData(){const e=new Map([["l",this.logic],["arg",this.args],["sig",this.sig]]);return this.msig&&e.set("msig",Au(this.msig)),e}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded logic sig: ${e}`);const t=new _n(e.get("l"),e.get("arg"));return t.sig=e.get("sig"),e.get("msig")&&(t.msig=ku(e.get("msig"))),t}verify(e){if(this.sig&&this.msig)return!1;try{Ul(this.logic)}catch{return!1}const t=cn(Xc,this.logic);if(!this.sig&&!this.msig){const r=pr(t);return tr(r,e)}return this.sig?cc(t,this.sig,e):Sd(t,this.msig,e)}address(){const e=cn(Xc,this.logic),t=pr(e);return new ot(Uint8Array.from(t))}sign(e,t){if(t==null)this.sig=this.signProgram(e);else{const r=cs(t.addrs).map(s=>({pk:s}));this.msig={v:t.version,thr:t.threshold,subsig:r};const[i,o]=this.singleSignMultisig(e,this.msig);this.msig.subsig[o].s=i}}appendToMultisig(e){if(this.msig===void 0)throw new Error("no multisig present");const[t,r]=this.singleSignMultisig(e,this.msig);this.msig.subsig[r].s=t}signProgram(e){const t=cn(Xc,this.logic);return ac(t,e)}singleSignMultisig(e,t){let r=-1;const i=sc(e).publicKey;for(let s=0;s<t.subsig.length;s++){const{pk:h}=t.subsig[s];if(tr(h,i)){r=s;break}}if(r===-1)throw new Error("invalid secret key");return[this.signProgram(e),r]}toByte(){return Nn(this)}static fromByte(e){return Kt(e,_n)}}_n.encodingSchema=new K(Ye([{key:"l",valueSchema:new Me},{key:"arg",valueSchema:new xe(new Me)},{key:"sig",valueSchema:new p(new Ft(64))},{key:"msig",valueSchema:new p(xu)}]));class Yr{constructor(e,t){this.lsig=new _n(e,t),this.sigkey=void 0}getEncodingSchema(){return Yr.encodingSchema}toEncodingData(){return new Map([["lsig",this.lsig.toEncodingData()],["sigkey",this.sigkey]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded logic sig account: ${e}`);const t=e,r=_n.fromEncodingData(t.get("lsig")),i=new Yr(r.logic,r.args);return i.lsig=r,i.sigkey=t.get("sigkey"),i}toByte(){return Nn(this)}static fromByte(e){return Kt(e,Yr)}isDelegated(){return!!(this.lsig.sig||this.lsig.msig)}verify(){const e=this.address();return this.lsig.verify(e.publicKey)}address(){if(this.lsig.sig&&this.lsig.msig)throw new Error("LogicSig has too many signatures. At most one of sig or msig may be present");if(this.lsig.sig){if(!this.sigkey)throw new Error("Signing key for delegated account is missing");return new ot(this.sigkey)}if(this.lsig.msig){const e={version:this.lsig.msig.v,threshold:this.lsig.msig.thr,pks:this.lsig.msig.subsig.map(t=>t.pk)};return hi(e)}return this.lsig.address()}signMultisig(e,t){this.lsig.sign(t,e)}appendToMultisig(e){this.lsig.appendToMultisig(e)}sign(e){this.lsig.sign(e),this.sigkey=sc(e).publicKey}}Yr.encodingSchema=new K(Ye([{key:"lsig",valueSchema:_n.encodingSchema},{key:"sigkey",valueSchema:new p(new Ft(32))}]));function mv(n){return Kt(n,_n)}const kd=new TextEncoder().encode("ProgData");function Ad(n,e,t){const r=typeof t=="string"?ot.fromString(t):t,i=cn(r.publicKey,e),o=cn(kd,i);return ac(o,n)}function yv(n,e,t,r){const i=typeof e=="string"?ot.fromString(e):e,o=cn(i.publicKey,n),s=cn(kd,o);return cc(s,t,r)}function wv(n,e,t){const i=new _n(t).address();return Ad(n,e,i)}class $t{constructor({txn:e,sig:t,msig:r,lsig:i,sgnr:o}){this.txn=e,this.sig=t,this.msig=r,this.lsig=i,this.sgnr=o;let s=0;if(t&&(s+=1),r&&(s+=1),i&&(s+=1),s>1)throw new Error(`SignedTransaction must not have more than 1 signature. Got ${s}`)}getEncodingSchema(){return $t.encodingSchema}toEncodingData(){return new Map([["txn",this.txn.toEncodingData()],["sig",this.sig],["msig",this.msig?Au(this.msig):void 0],["lsig",this.lsig?this.lsig.toEncodingData():void 0],["sgnr",this.sgnr]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SignedTransaction: ${e}`);return new $t({txn:Vn.fromEncodingData(e.get("txn")),sig:e.get("sig"),msig:e.get("msig")?ku(e.get("msig")):void 0,lsig:e.get("lsig")?_n.fromEncodingData(e.get("lsig")):void 0,sgnr:e.get("sgnr")})}}$t.encodingSchema=new K(Ye([{key:"txn",valueSchema:Vn.encodingSchema},{key:"sig",valueSchema:new p(new Ft(64))},{key:"msig",valueSchema:new p(xu)},{key:"lsig",valueSchema:new p(_n.encodingSchema)},{key:"sgnr",valueSchema:new p(new Ct)}]));function vv(n){return Kt(n,$t)}function Md(n){const e=new $t({txn:n});return Nn(e)}class ui{constructor(e){this.stateProofVotersCommitment=e.stateProofVotersCommitment,this.stateProofOnlineTotalWeight=e.stateProofOnlineTotalWeight,this.stateProofNextRound=e.stateProofNextRound}getEncodingSchema(){return ui.encodingSchema}toEncodingData(){return new Map([["v",this.stateProofVotersCommitment],["t",this.stateProofOnlineTotalWeight],["n",this.stateProofNextRound]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateProofTrackingData: ${e}`);return new ui({stateProofVotersCommitment:e.get("v"),stateProofOnlineTotalWeight:e.get("t"),stateProofNextRound:e.get("n")})}}ui.encodingSchema=new K(Ye([{key:"v",valueSchema:new Me},{key:"t",valueSchema:new M},{key:"n",valueSchema:new M}]));class li{constructor(e){this.nativeSha512_256Commitment=e.nativeSha512_256Commitment,this.sha256Commitment=e.sha256Commitment}getEncodingSchema(){return li.encodingSchema}toEncodingData(){return new Map([["txn",this.nativeSha512_256Commitment],["txn256",this.sha256Commitment]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TxnCommitments: ${e}`);return new li({nativeSha512_256Commitment:e.get("txn"),sha256Commitment:e.get("txn256")})}}li.encodingSchema=new K(Ye([{key:"txn",valueSchema:new Ft(32)},{key:"txn256",valueSchema:new Ft(32)}]));class fi{constructor(e){this.feeSink=e.feeSink,this.rewardsPool=e.rewardsPool,this.rewardsLevel=e.rewardsLevel,this.rewardsRate=e.rewardsRate,this.rewardsResidue=e.rewardsResidue,this.rewardsRecalculationRound=e.rewardsRecalculationRound}getEncodingSchema(){return fi.encodingSchema}toEncodingData(){return new Map([["fees",this.feeSink],["rwd",this.rewardsPool],["earn",this.rewardsLevel],["rate",this.rewardsRate],["frac",this.rewardsResidue],["rwcalr",this.rewardsRecalculationRound]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded RewardState: ${e}`);return new fi({feeSink:e.get("fees"),rewardsPool:e.get("rwd"),rewardsLevel:e.get("earn"),rewardsRate:e.get("rate"),rewardsResidue:e.get("frac"),rewardsRecalculationRound:e.get("rwcalr")})}}fi.encodingSchema=new K(Ye([{key:"fees",valueSchema:new Ct},{key:"rwd",valueSchema:new Ct},{key:"earn",valueSchema:new M},{key:"rate",valueSchema:new M},{key:"frac",valueSchema:new M},{key:"rwcalr",valueSchema:new M}]));class di{constructor(e){this.currentProtocol=e.currentProtocol,this.nextProtocol=e.nextProtocol,this.nextProtocolApprovals=e.nextProtocolApprovals,this.nextProtocolVoteBefore=e.nextProtocolVoteBefore,this.nextProtocolSwitchOn=e.nextProtocolSwitchOn}getEncodingSchema(){return di.encodingSchema}toEncodingData(){return new Map([["proto",this.currentProtocol],["nextproto",this.nextProtocol],["nextyes",this.nextProtocolApprovals],["nextbefore",this.nextProtocolVoteBefore],["nextswitch",this.nextProtocolSwitchOn]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded UpgradeState: ${e}`);return new di({currentProtocol:e.get("proto"),nextProtocol:e.get("nextproto"),nextProtocolApprovals:e.get("nextyes"),nextProtocolVoteBefore:e.get("nextbefore"),nextProtocolSwitchOn:e.get("nextswitch")})}}di.encodingSchema=new K(Ye([{key:"proto",valueSchema:new me},{key:"nextproto",valueSchema:new me},{key:"nextyes",valueSchema:new M},{key:"nextbefore",valueSchema:new M},{key:"nextswitch",valueSchema:new M}]));class gi{constructor(e){this.upgradePropose=e.upgradePropose,this.upgradeDelay=e.upgradeDelay,this.upgradeApprove=e.upgradeApprove}getEncodingSchema(){return gi.encodingSchema}toEncodingData(){return new Map([["upgradeprop",this.upgradePropose],["upgradedelay",this.upgradeDelay],["upgradeyes",this.upgradeApprove]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded UpgradeVote: ${e}`);return new gi({upgradePropose:e.get("upgradeprop"),upgradeDelay:e.get("upgradedelay"),upgradeApprove:e.get("upgradeyes")})}}gi.encodingSchema=new K(Ye([{key:"upgradeprop",valueSchema:new me},{key:"upgradedelay",valueSchema:new M},{key:"upgradeyes",valueSchema:new lt}]));let pc=class Ah{constructor(e){this.expiredParticipationAccounts=e.expiredParticipationAccounts,this.absentParticipationAccounts=e.absentParticipationAccounts}getEncodingSchema(){return Ah.encodingSchema}toEncodingData(){return new Map([["partupdrmv",this.expiredParticipationAccounts],["partupdabs",this.absentParticipationAccounts]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ParticipationUpdates: ${e}`);return new Ah({expiredParticipationAccounts:e.get("partupdrmv"),absentParticipationAccounts:e.get("partupdabs")})}};pc.encodingSchema=new K(Ye([{key:"partupdrmv",valueSchema:new xe(new Ct)},{key:"partupdabs",valueSchema:new xe(new Ct)}]));class mr{constructor(e){this.round=e.round,this.branch=e.branch,this.seed=e.seed,this.txnCommitments=e.txnCommitments,this.timestamp=e.timestamp,this.genesisID=e.genesisID,this.genesisHash=e.genesisHash,this.proposer=e.proposer,this.feesCollected=e.feesCollected,this.bonus=e.bonus,this.proposerPayout=e.proposerPayout,this.rewardState=e.rewardState,this.upgradeState=e.upgradeState,this.upgradeVote=e.upgradeVote,this.txnCounter=e.txnCounter,this.stateproofTracking=e.stateproofTracking,this.participationUpdates=e.participationUpdates}getEncodingSchema(){return mr.encodingSchema}toEncodingData(){const e=new Map([["rnd",this.round],["prev",this.branch],["seed",this.seed],["ts",this.timestamp],["gen",this.genesisID],["gh",this.genesisHash],["prp",this.proposer],["fc",this.feesCollected],["bi",this.bonus],["pp",this.proposerPayout],["tc",this.txnCounter],["spt",nn(this.stateproofTracking,(t,r)=>[t,r.toEncodingData()])]]);return as(e,this.txnCommitments.toEncodingData(),this.rewardState.toEncodingData(),this.upgradeState.toEncodingData(),this.upgradeVote.toEncodingData(),this.participationUpdates.toEncodingData())}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BlockHeader: ${e}`);return new mr({round:e.get("rnd"),branch:e.get("prev"),seed:e.get("seed"),txnCommitments:li.fromEncodingData(e),timestamp:e.get("ts"),genesisID:e.get("gen"),genesisHash:e.get("gh"),proposer:e.get("prp"),feesCollected:e.get("fc"),bonus:e.get("bi"),proposerPayout:e.get("pp"),rewardState:fi.fromEncodingData(e),upgradeState:di.fromEncodingData(e),upgradeVote:gi.fromEncodingData(e),txnCounter:e.get("tc"),stateproofTracking:nn(e.get("spt"),(t,r)=>[Number(t),ui.fromEncodingData(r)]),participationUpdates:pc.fromEncodingData(e)})}}mr.encodingSchema=new K(Ye([{key:"rnd",valueSchema:new M},{key:"prev",valueSchema:new K0},{key:"seed",valueSchema:new Me},{key:"",valueSchema:li.encodingSchema,embedded:!0},{key:"ts",valueSchema:new M},{key:"gen",valueSchema:new me},{key:"gh",valueSchema:new Ft(32)},{key:"prp",valueSchema:new Ct},{key:"fc",valueSchema:new M},{key:"bi",valueSchema:new M},{key:"pp",valueSchema:new M},{key:"",valueSchema:fi.encodingSchema,embedded:!0},{key:"",valueSchema:di.encodingSchema,embedded:!0},{key:"",valueSchema:gi.encodingSchema,embedded:!0},{key:"tc",valueSchema:new M},{key:"spt",valueSchema:new lc(ui.encodingSchema)},{key:"",valueSchema:pc.encodingSchema,embedded:!0}]));class ur{constructor(e){this.action=e.action,this.bytes=e.bytes,this.uint=e.uint}getEncodingSchema(){return ur.encodingSchema}toEncodingData(){return new Map([["at",this.action],["bs",this.bytes],["ui",this.uint]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ValueDelta: ${e}`);return new ur({action:Number(e.get("at")),bytes:e.get("bs"),uint:e.get("ui")})}}ur.encodingSchema=new K(Ye([{key:"at",valueSchema:new M},{key:"bs",valueSchema:new Wi},{key:"ui",valueSchema:new M}]));let Mh=class Dh{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries(...Ye([{key:"gd",valueSchema:new p(new Ts(ur.encodingSchema))},{key:"ld",valueSchema:new p(new lc(new Ts(ur.encodingSchema)))},{key:"sa",valueSchema:new p(new xe(new Ct))},{key:"lg",valueSchema:new p(new xe(new Wi))},{key:"itx",valueSchema:new p(new xe(_r.encodingSchema))}]))),this.encodingSchemaValue}constructor(e){this.globalDelta=e.globalDelta??new Map,this.localDeltas=e.localDeltas??new Map,this.sharedAccts=e.sharedAccts??[],this.logs=e.logs??[],this.innerTxns=e.innerTxns??[]}getEncodingSchema(){return Dh.encodingSchema}toEncodingData(){return new Map([["gd",nn(this.globalDelta,(e,t)=>[e,t.toEncodingData()])],["ld",nn(this.localDeltas,(e,t)=>[e,nn(t,(r,i)=>[r,i.toEncodingData()])])],["sa",this.sharedAccts],["lg",this.logs],["itx",this.innerTxns.map(e=>e.toEncodingData())]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded EvalDelta: ${e}`);return new Dh({globalDelta:e.get("gd")?nn(e.get("gd"),(t,r)=>[t,ur.fromEncodingData(r)]):void 0,localDeltas:e.get("ld")?nn(e.get("ld"),(t,r)=>[Number(t),nn(r,(i,o)=>[i,ur.fromEncodingData(o)])]):void 0,sharedAccts:e.get("sa"),logs:e.get("lg"),innerTxns:(e.get("itx")??[]).map(_r.fromEncodingData)})}};class Ki{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries(...Ye([{key:"ca",valueSchema:new p(new M)},{key:"aca",valueSchema:new p(new M)},{key:"rs",valueSchema:new p(new M)},{key:"rr",valueSchema:new p(new M)},{key:"rc",valueSchema:new p(new M)},{key:"dt",valueSchema:new p(Mh.encodingSchema)},{key:"caid",valueSchema:new p(new M)},{key:"apid",valueSchema:new p(new M)}]))),this.encodingSchemaValue}constructor(e){this.closingAmount=e.closingAmount,this.assetClosingAmount=e.assetClosingAmount,this.senderRewards=e.senderRewards,this.receiverRewards=e.receiverRewards,this.closeRewards=e.closeRewards,this.evalDelta=e.evalDelta,this.configAsset=e.configAsset,this.applicationID=e.applicationID}getEncodingSchema(){return Ki.encodingSchema}toEncodingData(){return new Map([["ca",this.closingAmount],["aca",this.assetClosingAmount],["rs",this.senderRewards],["rr",this.receiverRewards],["rc",this.closeRewards],["dt",this.evalDelta?this.evalDelta.toEncodingData():void 0],["caid",this.configAsset],["apid",this.applicationID]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplyData: ${e}`);return new Ki({closingAmount:e.get("ca"),assetClosingAmount:e.get("aca"),senderRewards:e.get("rs"),receiverRewards:e.get("rr"),closeRewards:e.get("rc"),evalDelta:e.get("dt")?Mh.fromEncodingData(e.get("dt")):void 0,configAsset:e.get("caid"),applicationID:e.get("apid")})}}class _r{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries(...Ye([{key:"",valueSchema:$t.encodingSchema,embedded:!0},{key:"",valueSchema:Ki.encodingSchema,embedded:!0}]))),this.encodingSchemaValue}constructor(e){this.signedTxn=e.signedTxn,this.applyData=e.applyData}getEncodingSchema(){return _r.encodingSchema}toEncodingData(){return as(this.signedTxn.toEncodingData(),this.applyData.toEncodingData())}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SignedTxnWithAD: ${e}`);return new _r({signedTxn:$t.fromEncodingData(e),applyData:Ki.fromEncodingData(e)})}}class pi{constructor(e){this.signedTxn=e.signedTxn,this.hasGenesisID=e.hasGenesisID,this.hasGenesisHash=e.hasGenesisHash}getEncodingSchema(){return pi.encodingSchema}toEncodingData(){const e=new Map([["hgi",this.hasGenesisID],["hgh",this.hasGenesisHash]]);return as(e,this.signedTxn.toEncodingData())}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SignedTxnInBlock: ${e}`);return new pi({signedTxn:_r.fromEncodingData(e),hasGenesisID:e.get("hgi"),hasGenesisHash:e.get("hgh")})}}pi.encodingSchema=new K(Ye([{key:"",valueSchema:_r.encodingSchema,embedded:!0},{key:"hgi",valueSchema:new lt},{key:"hgh",valueSchema:new lt}]));let Ua=class Th{constructor(e){this.header=e.header,this.payset=e.payset}getEncodingSchema(){return Th.encodingSchema}toEncodingData(){const e=new Map([["txns",this.payset.map(t=>t.toEncodingData())]]);return as(e,this.header.toEncodingData())}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BlockHeader: ${e}`);return new Th({header:mr.fromEncodingData(e),payset:e.get("txns").map(pi.fromEncodingData)})}};Ua.encodingSchema=new K(Ye([{key:"",valueSchema:mr.encodingSchema,embedded:!0},{key:"txns",valueSchema:new xe(pi.encodingSchema)}]));class hn{constructor(e){this.data=e}getEncodingSchema(){return hn.encodingSchema}toEncodingData(){return this.data}static fromEncodingData(e){return new hn(e)}}hn.encodingSchema=new md;let hs=class Ih{constructor(e){this.type=e.type,this.bytes=e.bytes,this.uint=e.uint}getEncodingSchema(){return Ih.encodingSchema}toEncodingData(){return new Map([["tt",this.type],["tb",this.bytes],["ui",this.uint]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TealValue: ${e}`);return new Ih({type:Number(e.get("tt")),bytes:e.get("tb"),uint:e.get("ui")})}};hs.encodingSchema=new K(Ye([{key:"tt",valueSchema:new M},{key:"tb",valueSchema:new p(new Wi)},{key:"ui",valueSchema:new p(new M)}]));let rr=class Rh{constructor(e){this.numUints=e.numUints,this.numByteSlices=e.numByteSlices}getEncodingSchema(){return Rh.encodingSchema}toEncodingData(){return new Map([["nui",this.numUints],["nbs",this.numByteSlices]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateSchema: ${e}`);return new Rh({numUints:Number(e.get("nui")),numByteSlices:Number(e.get("nbs"))})}};rr.encodingSchema=new K(Ye([{key:"nui",valueSchema:new M},{key:"nbs",valueSchema:new M}]));class mi{constructor(e){this.approvalProgram=e.approvalProgram,this.clearStateProgram=e.clearStateProgram,this.globalState=e.globalState,this.localStateSchema=e.localStateSchema,this.globalStateSchema=e.globalStateSchema,this.extraProgramPages=e.extraProgramPages}getEncodingSchema(){return mi.encodingSchema}toEncodingData(){return new Map([["approv",this.approvalProgram],["clearp",this.clearStateProgram],["gs",nn(this.globalState,(e,t)=>[e,t.toEncodingData()])],["lsch",this.localStateSchema.toEncodingData()],["gsch",this.globalStateSchema.toEncodingData()],["epp",this.extraProgramPages]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AppParams: ${e}`);return new mi({approvalProgram:e.get("approv"),clearStateProgram:e.get("clearp"),globalState:nn(e.get("gs"),(t,r)=>[t,hs.fromEncodingData(r)]),localStateSchema:rr.fromEncodingData(e.get("lsch")),globalStateSchema:rr.fromEncodingData(e.get("gsch")),extraProgramPages:Number(e.get("epp"))})}}mi.encodingSchema=new K(Ye([{key:"approv",valueSchema:new Me},{key:"clearp",valueSchema:new Me},{key:"gs",valueSchema:new Ts(hs.encodingSchema)},{key:"lsch",valueSchema:rr.encodingSchema},{key:"gsch",valueSchema:rr.encodingSchema},{key:"epp",valueSchema:new M}]));class yi{constructor(e){this.schema=e.schema,this.keyValue=e.keyValue}getEncodingSchema(){return yi.encodingSchema}toEncodingData(){return new Map([["hsch",this.schema.toEncodingData()],["tkv",nn(this.keyValue,(e,t)=>[e,t.toEncodingData()])]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AppLocalState: ${e}`);return new yi({schema:rr.fromEncodingData(e.get("hsch")),keyValue:nn(e.get("tkv"),(t,r)=>[t,hs.fromEncodingData(r)])})}}yi.encodingSchema=new K(Ye([{key:"hsch",valueSchema:rr.encodingSchema},{key:"tkv",valueSchema:new Ts(hs.encodingSchema)}]));class wi{constructor(e){this.localState=e.localState,this.deleted=e.deleted}getEncodingSchema(){return wi.encodingSchema}toEncodingData(){return new Map([["LocalState",this.localState?this.localState.toEncodingData():void 0],["Deleted",this.deleted]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AppLocalStateDelta: ${e}`);return new wi({localState:e.get("LocalState")?yi.fromEncodingData(e.get("LocalState")):void 0,deleted:e.get("Deleted")})}}wi.encodingSchema=new K(Ye([{key:"LocalState",valueSchema:new p(yi.encodingSchema)},{key:"Deleted",valueSchema:new lt}]));class vi{constructor(e){this.params=e.params,this.deleted=e.deleted}getEncodingSchema(){return vi.encodingSchema}toEncodingData(){return new Map([["Params",this.params?this.params.toEncodingData():void 0],["Deleted",this.deleted]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AppParamsDelta: ${e}`);return new vi({params:e.get("Params")?mi.fromEncodingData(e.get("Params")):void 0,deleted:e.get("Deleted")})}}vi.encodingSchema=new K(Ye([{key:"Params",valueSchema:new p(mi.encodingSchema)},{key:"Deleted",valueSchema:new lt}]));class Si{constructor(e){this.id=e.id,this.address=e.address,this.params=e.params,this.state=e.state}getEncodingSchema(){return Si.encodingSchema}toEncodingData(){return new Map([["Aidx",this.id],["Addr",this.address],["Params",this.params.toEncodingData()],["State",this.state.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AppResourceRecord: ${e}`);return new Si({id:e.get("Aidx"),address:e.get("Addr"),params:vi.fromEncodingData(e.get("Params")),state:wi.fromEncodingData(e.get("State"))})}}Si.encodingSchema=new K(Ye([{key:"Aidx",valueSchema:new M},{key:"Addr",valueSchema:new Ct},{key:"Params",valueSchema:vi.encodingSchema},{key:"State",valueSchema:wi.encodingSchema}]));let mc=class _h{constructor(e){this.amount=e.amount,this.frozen=e.frozen}getEncodingSchema(){return _h.encodingSchema}toEncodingData(){return new Map([["a",this.amount],["f",this.frozen]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetHolding: ${e}`);return new _h({amount:e.get("a"),frozen:e.get("f")})}};mc.encodingSchema=new K(Ye([{key:"a",valueSchema:new M},{key:"f",valueSchema:new lt}]));class Ei{constructor(e){this.holding=e.holding,this.deleted=e.deleted}getEncodingSchema(){return Ei.encodingSchema}toEncodingData(){return new Map([["Holding",this.holding?this.holding.toEncodingData():void 0],["Deleted",this.deleted]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetHoldingDelta: ${e}`);return new Ei({holding:e.get("Holding")?mc.fromEncodingData(e.get("Holding")):void 0,deleted:e.get("Deleted")})}}Ei.encodingSchema=new K(Ye([{key:"Holding",valueSchema:new p(mc.encodingSchema)},{key:"Deleted",valueSchema:new lt}]));let yc=class Ph{constructor(e){this.total=e.total,this.decimals=e.decimals,this.defaultFrozen=e.defaultFrozen,this.unitName=e.unitName,this.assetName=e.assetName,this.url=e.url,this.metadataHash=e.metadataHash,this.manager=e.manager,this.reserve=e.reserve,this.freeze=e.freeze,this.clawback=e.clawback}getEncodingSchema(){return Ph.encodingSchema}toEncodingData(){return new Map([["t",this.total],["dc",this.decimals],["df",this.defaultFrozen],["un",this.unitName],["an",this.assetName],["au",this.url],["am",this.metadataHash],["m",this.manager],["r",this.reserve],["f",this.freeze],["c",this.clawback]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetParams: ${e}`);return new Ph({total:e.get("t"),decimals:e.get("dc"),defaultFrozen:e.get("df"),unitName:e.get("un"),assetName:e.get("an"),url:e.get("au"),metadataHash:e.get("am"),manager:e.get("m"),reserve:e.get("r"),freeze:e.get("f"),clawback:e.get("c")})}};yc.encodingSchema=new K(Ye([{key:"t",valueSchema:new M},{key:"dc",valueSchema:new M},{key:"df",valueSchema:new lt},{key:"un",valueSchema:new p(new Wi)},{key:"an",valueSchema:new p(new Wi)},{key:"au",valueSchema:new p(new Wi)},{key:"am",valueSchema:new Ft(32)},{key:"m",valueSchema:new p(new Ct)},{key:"r",valueSchema:new p(new Ct)},{key:"f",valueSchema:new p(new Ct)},{key:"c",valueSchema:new p(new Ct)}]));class bi{constructor(e){this.params=e.params,this.deleted=e.deleted}getEncodingSchema(){return bi.encodingSchema}toEncodingData(){return new Map([["Params",this.params?this.params.toEncodingData():void 0],["Deleted",this.deleted]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetParamsDelta: ${e}`);return new bi({params:e.get("Params")?yc.fromEncodingData(e.get("Params")):void 0,deleted:e.get("Deleted")})}}bi.encodingSchema=new K(Ye([{key:"Params",valueSchema:new p(yc.encodingSchema)},{key:"Deleted",valueSchema:new lt}]));class xi{constructor(e){this.id=e.id,this.address=e.address,this.params=e.params,this.holding=e.holding}getEncodingSchema(){return xi.encodingSchema}toEncodingData(){return new Map([["Aidx",this.id],["Addr",this.address],["Params",this.params.toEncodingData()],["Holding",this.holding.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetResourceRecord: ${e}`);return new xi({id:e.get("Aidx"),address:e.get("Addr"),params:bi.fromEncodingData(e.get("Params")),holding:Ei.fromEncodingData(e.get("Holding"))})}}xi.encodingSchema=new K(Ye([{key:"Aidx",valueSchema:new M},{key:"Addr",valueSchema:new Ct},{key:"Params",valueSchema:bi.encodingSchema},{key:"Holding",valueSchema:Ei.encodingSchema}]));class ki{constructor(e){this.voteID=e.voteID,this.selectionID=e.selectionID,this.stateProofID=e.stateProofID,this.voteFirstValid=e.voteFirstValid,this.voteLastValid=e.voteLastValid,this.voteKeyDilution=e.voteKeyDilution}getEncodingSchema(){return ki.encodingSchema}toEncodingData(){return new Map([["VoteID",this.voteID],["SelectionID",this.selectionID],["StateProofID",this.stateProofID],["VoteFirstValid",this.voteFirstValid],["VoteLastValid",this.voteLastValid],["VoteKeyDilution",this.voteKeyDilution]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded VotingData: ${e}`);return new ki({voteID:e.get("VoteID"),selectionID:e.get("SelectionID"),stateProofID:e.get("StateProofID"),voteFirstValid:e.get("VoteFirstValid"),voteLastValid:e.get("VoteLastValid"),voteKeyDilution:e.get("VoteKeyDilution")})}}ki.encodingSchema=new K(Ye([{key:"VoteID",valueSchema:new Ft(32)},{key:"SelectionID",valueSchema:new Ft(32)},{key:"StateProofID",valueSchema:new Ft(64)},{key:"VoteFirstValid",valueSchema:new M},{key:"VoteLastValid",valueSchema:new M},{key:"VoteKeyDilution",valueSchema:new M}]));class Ai{constructor(e){this.status=e.status,this.microAlgos=e.microAlgos,this.rewardsBase=e.rewardsBase,this.rewardedMicroAlgos=e.rewardedMicroAlgos,this.authAddr=e.authAddr,this.incentiveEligible=e.incentiveEligible,this.totalAppSchema=e.totalAppSchema,this.totalExtraAppPages=e.totalExtraAppPages,this.totalAppParams=e.totalAppParams,this.totalAppLocalStates=e.totalAppLocalStates,this.totalAssetParams=e.totalAssetParams,this.totalAssets=e.totalAssets,this.totalBoxes=e.totalBoxes,this.totalBoxBytes=e.totalBoxBytes,this.lastProposed=e.lastProposed,this.lastHeartbeat=e.lastHeartbeat}getEncodingSchema(){return Ai.encodingSchema}toEncodingData(){return new Map([["Status",this.status],["MicroAlgos",this.microAlgos],["RewardsBase",this.rewardsBase],["RewardedMicroAlgos",this.rewardedMicroAlgos],["AuthAddr",this.authAddr],["IncentiveEligible",this.incentiveEligible],["TotalAppSchema",this.totalAppSchema.toEncodingData()],["TotalExtraAppPages",this.totalExtraAppPages],["TotalAppParams",this.totalAppParams],["TotalAppLocalStates",this.totalAppLocalStates],["TotalAssetParams",this.totalAssetParams],["TotalAssets",this.totalAssets],["TotalBoxes",this.totalBoxes],["TotalBoxBytes",this.totalBoxBytes],["LastProposed",this.lastProposed],["LastHeartbeat",this.lastHeartbeat]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountBaseData: ${e}`);return new Ai({status:Number(e.get("Status")),microAlgos:e.get("MicroAlgos"),rewardsBase:e.get("RewardsBase"),rewardedMicroAlgos:e.get("RewardedMicroAlgos"),authAddr:e.get("AuthAddr"),incentiveEligible:e.get("IncentiveEligible"),totalAppSchema:rr.fromEncodingData(e.get("TotalAppSchema")),totalExtraAppPages:Number(e.get("TotalExtraAppPages")),totalAppParams:e.get("TotalAppParams"),totalAppLocalStates:e.get("TotalAppLocalStates"),totalAssetParams:e.get("TotalAssetParams"),totalAssets:e.get("TotalAssets"),totalBoxes:e.get("TotalBoxes"),totalBoxBytes:e.get("TotalBoxBytes"),lastProposed:e.get("LastProposed"),lastHeartbeat:e.get("LastHeartbeat")})}}Ai.encodingSchema=new K(Ye([{key:"Status",valueSchema:new M},{key:"MicroAlgos",valueSchema:new M},{key:"RewardsBase",valueSchema:new M},{key:"RewardedMicroAlgos",valueSchema:new M},{key:"AuthAddr",valueSchema:new Ct},{key:"IncentiveEligible",valueSchema:new lt},{key:"TotalAppSchema",valueSchema:rr.encodingSchema},{key:"TotalExtraAppPages",valueSchema:new M},{key:"TotalAppParams",valueSchema:new M},{key:"TotalAppLocalStates",valueSchema:new M},{key:"TotalAssetParams",valueSchema:new M},{key:"TotalAssets",valueSchema:new M},{key:"TotalBoxes",valueSchema:new M},{key:"TotalBoxBytes",valueSchema:new M},{key:"LastProposed",valueSchema:new M},{key:"LastHeartbeat",valueSchema:new M}]));class Mi{constructor(e){this.accountBaseData=e.accountBaseData,this.votingData=e.votingData}getEncodingSchema(){return Mi.encodingSchema}toEncodingData(){return as(this.accountBaseData.toEncodingData(),this.votingData.toEncodingData())}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountData: ${e}`);return new Mi({accountBaseData:Ai.fromEncodingData(e),votingData:ki.fromEncodingData(e)})}}Mi.encodingSchema=new K(Ye([{key:"",valueSchema:Ai.encodingSchema,embedded:!0},{key:"",valueSchema:ki.encodingSchema,embedded:!0}]));class Di{constructor(e){this.addr=e.addr,this.accountData=e.accountData}getEncodingSchema(){return Di.encodingSchema}toEncodingData(){return as(new Map([["Addr",this.addr]]),this.accountData.toEncodingData())}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BalanceRecord: ${e}`);return new Di({addr:e.get("Addr"),accountData:Mi.fromEncodingData(e)})}}Di.encodingSchema=new K(Ye([{key:"Addr",valueSchema:new Ct},{key:"",valueSchema:Mi.encodingSchema,embedded:!0}]));class Ti{constructor(e){this.accounts=e.accounts,this.appResources=e.appResources,this.assetResources=e.assetResources}getEncodingSchema(){return Ti.encodingSchema}toEncodingData(){return new Map([["Accts",this.accounts.map(e=>e.toEncodingData())],["AppResources",this.appResources.length===0?void 0:this.appResources.map(e=>e.toEncodingData())],["AssetResources",this.assetResources.length===0?void 0:this.assetResources.map(e=>e.toEncodingData())]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountDeltas: ${e}`);return new Ti({accounts:(e.get("Accts")??[]).map(Di.fromEncodingData),appResources:(e.get("AppResources")??[]).map(Si.fromEncodingData),assetResources:(e.get("AssetResources")??[]).map(xi.fromEncodingData)})}}Ti.encodingSchema=new K(Ye([{key:"Accts",valueSchema:new xe(Di.encodingSchema)},{key:"AppResources",valueSchema:new p(new xe(Si.encodingSchema))},{key:"AssetResources",valueSchema:new p(new xe(xi.encodingSchema))}]));class Ii{constructor(e){this.data=e.data,this.oldData=e.oldData}getEncodingSchema(){return Ii.encodingSchema}toEncodingData(){return new Map([["Data",this.data],["OldData",this.oldData]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded KvValueDelta: ${e}`);return new Ii({data:e.get("Data"),oldData:e.get("OldData")})}}Ii.encodingSchema=new K(Ye([{key:"Data",valueSchema:new p(new Me)},{key:"OldData",valueSchema:new p(new Me)}]));class Ri{constructor(e){this.lastValid=e.lastValid,this.intra=e.intra}getEncodingSchema(){return Ri.encodingSchema}toEncodingData(){return new Map([["LastValid",this.lastValid],["Intra",this.intra]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded IncludedTransactions: ${e}`);return new Ri({lastValid:e.get("LastValid"),intra:Number(e.get("Intra"))})}}Ri.encodingSchema=new K(Ye([{key:"LastValid",valueSchema:new M},{key:"Intra",valueSchema:new M}]));class _i{constructor(e){this.creatableType=e.creatableType,this.created=e.created,this.creator=e.creator,this.ndeltas=e.ndeltas}getEncodingSchema(){return _i.encodingSchema}toEncodingData(){return new Map([["Ctype",this.creatableType],["Created",this.created],["Creator",this.creator],["Ndeltas",this.ndeltas]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ModifiedCreatable: ${e}`);return new _i({creatableType:Number(e.get("Ctype")),created:e.get("Created"),creator:e.get("Creator"),ndeltas:Number(e.get("Ndeltas"))})}}_i.encodingSchema=new K(Ye([{key:"Ctype",valueSchema:new M},{key:"Created",valueSchema:new lt},{key:"Creator",valueSchema:new Ct},{key:"Ndeltas",valueSchema:new M}]));class Fn{constructor(e){this.money=e.money,this.rewardUnits=e.rewardUnits}getEncodingSchema(){return Fn.encodingSchema}toEncodingData(){return new Map([["mon",this.money],["rwd",this.rewardUnits]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AlgoCount: ${e}`);return new Fn({money:e.get("mon"),rewardUnits:e.get("rwd")})}}Fn.encodingSchema=new K(Ye([{key:"mon",valueSchema:new M},{key:"rwd",valueSchema:new M}]));class Pi{constructor(e){this.online=e.online,this.offline=e.offline,this.notParticipating=e.notParticipating,this.rewardsLevel=e.rewardsLevel}getEncodingSchema(){return Pi.encodingSchema}toEncodingData(){return new Map([["online",this.online.toEncodingData()],["offline",this.offline.toEncodingData()],["notpart",this.notParticipating.toEncodingData()],["rwdlvl",this.rewardsLevel]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountTotals: ${e}`);return new Pi({online:Fn.fromEncodingData(e.get("online")),offline:Fn.fromEncodingData(e.get("offline")),notParticipating:Fn.fromEncodingData(e.get("notpart")),rewardsLevel:e.get("rwdlvl")})}}Pi.encodingSchema=new K(Ye([{key:"online",valueSchema:Fn.encodingSchema},{key:"offline",valueSchema:Fn.encodingSchema},{key:"notpart",valueSchema:Fn.encodingSchema},{key:"rwdlvl",valueSchema:new M}]));class yr{constructor(e){this.accounts=e.accounts,this.kvMods=e.kvMods,this.txids=e.txids,this.txleases=e.txleases,this.creatables=e.creatables,this.blockHeader=e.blockHeader,this.stateProofNext=e.stateProofNext,this.prevTimestamp=e.prevTimestamp,this.totals=e.totals}getEncodingSchema(){return yr.encodingSchema}toEncodingData(){return new Map([["Accts",this.accounts.toEncodingData()],["KvMods",this.kvMods.size===0?void 0:nn(this.kvMods,(e,t)=>[e,t.toEncodingData()])],["Txids",nn(this.txids,(e,t)=>[e,t.toEncodingData()])],["Txleases",this.txleases.toEncodingData()],["Creatables",this.creatables.size===0?void 0:nn(this.creatables,(e,t)=>[e,t.toEncodingData()])],["Hdr",this.blockHeader.toEncodingData()],["StateProofNext",this.stateProofNext],["PrevTimestamp",this.prevTimestamp],["Totals",this.totals.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded LedgerStateDelta: ${e}`);return new yr({accounts:Ti.fromEncodingData(e.get("Accts")),kvMods:nn(e.get("KvMods")??new Map,(t,r)=>[t,Ii.fromEncodingData(r)]),txids:nn(e.get("Txids"),(t,r)=>[t,Ri.fromEncodingData(r)]),txleases:hn.fromEncodingData(e.get("Txleases")),creatables:nn(e.get("Creatables")??new Map,(t,r)=>[t,_i.fromEncodingData(r)]),blockHeader:mr.fromEncodingData(e.get("Hdr")),stateProofNext:e.get("StateProofNext"),prevTimestamp:e.get("PrevTimestamp"),totals:Pi.fromEncodingData(e.get("Totals"))})}}yr.encodingSchema=new K(Ye([{key:"Accts",valueSchema:Ti.encodingSchema},{key:"KvMods",valueSchema:new p(new Ts(Ii.encodingSchema))},{key:"Txids",valueSchema:new J0(Ri.encodingSchema)},{key:"Txleases",valueSchema:new p(new md)},{key:"Creatables",valueSchema:new p(new lc(_i.encodingSchema))},{key:"Hdr",valueSchema:mr.encodingSchema},{key:"StateProofNext",valueSchema:new M},{key:"PrevTimestamp",valueSchema:new M},{key:"Totals",valueSchema:Pi.encodingSchema}]));let La=class Oh{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"address",valueSchema:new me,omitEmpty:!0},{key:"amount",valueSchema:new M,omitEmpty:!0},{key:"amount-without-pending-rewards",valueSchema:new M,omitEmpty:!0},{key:"min-balance",valueSchema:new M,omitEmpty:!0},{key:"pending-rewards",valueSchema:new M,omitEmpty:!0},{key:"rewards",valueSchema:new M,omitEmpty:!0},{key:"round",valueSchema:new M,omitEmpty:!0},{key:"status",valueSchema:new me,omitEmpty:!0},{key:"total-apps-opted-in",valueSchema:new M,omitEmpty:!0},{key:"total-assets-opted-in",valueSchema:new M,omitEmpty:!0},{key:"total-created-apps",valueSchema:new M,omitEmpty:!0},{key:"total-created-assets",valueSchema:new M,omitEmpty:!0},{key:"apps-local-state",valueSchema:new p(new xe(Ps.encodingSchema)),omitEmpty:!0},{key:"apps-total-extra-pages",valueSchema:new p(new M),omitEmpty:!0},{key:"apps-total-schema",valueSchema:new p($n.encodingSchema),omitEmpty:!0},{key:"assets",valueSchema:new p(new xe(Bi.encodingSchema)),omitEmpty:!0},{key:"auth-addr",valueSchema:new p(new me),omitEmpty:!0},{key:"created-apps",valueSchema:new p(new xe(Oi.encodingSchema)),omitEmpty:!0},{key:"created-assets",valueSchema:new p(new xe(Fa.encodingSchema)),omitEmpty:!0},{key:"incentive-eligible",valueSchema:new p(new lt),omitEmpty:!0},{key:"last-heartbeat",valueSchema:new p(new M),omitEmpty:!0},{key:"last-proposed",valueSchema:new p(new M),omitEmpty:!0},{key:"participation",valueSchema:new p(Bh.encodingSchema),omitEmpty:!0},{key:"reward-base",valueSchema:new p(new M),omitEmpty:!0},{key:"sig-type",valueSchema:new p(new me),omitEmpty:!0},{key:"total-box-bytes",valueSchema:new p(new M),omitEmpty:!0},{key:"total-boxes",valueSchema:new p(new M),omitEmpty:!0})),this.encodingSchemaValue}constructor({address:e,amount:t,amountWithoutPendingRewards:r,minBalance:i,pendingRewards:o,rewards:s,round:h,status:m,totalAppsOptedIn:u,totalAssetsOptedIn:v,totalCreatedApps:T,totalCreatedAssets:B,appsLocalState:W,appsTotalExtraPages:U,appsTotalSchema:ne,assets:E,authAddr:C,createdApps:N,createdAssets:$,incentiveEligible:re,lastHeartbeat:ue,lastProposed:I,participation:Y,rewardBase:Z,sigType:ge,totalBoxBytes:S,totalBoxes:a}){this.address=e,this.amount=ce(t),this.amountWithoutPendingRewards=ce(r),this.minBalance=ce(i),this.pendingRewards=ce(o),this.rewards=ce(s),this.round=ce(h),this.status=m,this.totalAppsOptedIn=Re(u),this.totalAssetsOptedIn=Re(v),this.totalCreatedApps=Re(T),this.totalCreatedAssets=Re(B),this.appsLocalState=W,this.appsTotalExtraPages=typeof U>"u"?void 0:Re(U),this.appsTotalSchema=ne,this.assets=E,this.authAddr=typeof C=="string"?ot.fromString(C):C,this.createdApps=N,this.createdAssets=$,this.incentiveEligible=re,this.lastHeartbeat=typeof ue>"u"?void 0:Re(ue),this.lastProposed=typeof I>"u"?void 0:Re(I),this.participation=Y,this.rewardBase=typeof Z>"u"?void 0:ce(Z),this.sigType=ge,this.totalBoxBytes=typeof S>"u"?void 0:Re(S),this.totalBoxes=typeof a>"u"?void 0:Re(a)}getEncodingSchema(){return Oh.encodingSchema}toEncodingData(){return new Map([["address",this.address],["amount",this.amount],["amount-without-pending-rewards",this.amountWithoutPendingRewards],["min-balance",this.minBalance],["pending-rewards",this.pendingRewards],["rewards",this.rewards],["round",this.round],["status",this.status],["total-apps-opted-in",this.totalAppsOptedIn],["total-assets-opted-in",this.totalAssetsOptedIn],["total-created-apps",this.totalCreatedApps],["total-created-assets",this.totalCreatedAssets],["apps-local-state",typeof this.appsLocalState<"u"?this.appsLocalState.map(e=>e.toEncodingData()):void 0],["apps-total-extra-pages",this.appsTotalExtraPages],["apps-total-schema",typeof this.appsTotalSchema<"u"?this.appsTotalSchema.toEncodingData():void 0],["assets",typeof this.assets<"u"?this.assets.map(e=>e.toEncodingData()):void 0],["auth-addr",typeof this.authAddr<"u"?this.authAddr.toString():void 0],["created-apps",typeof this.createdApps<"u"?this.createdApps.map(e=>e.toEncodingData()):void 0],["created-assets",typeof this.createdAssets<"u"?this.createdAssets.map(e=>e.toEncodingData()):void 0],["incentive-eligible",this.incentiveEligible],["last-heartbeat",this.lastHeartbeat],["last-proposed",this.lastProposed],["participation",typeof this.participation<"u"?this.participation.toEncodingData():void 0],["reward-base",this.rewardBase],["sig-type",this.sigType],["total-box-bytes",this.totalBoxBytes],["total-boxes",this.totalBoxes]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Account: ${e}`);return new Oh({address:e.get("address"),amount:e.get("amount"),amountWithoutPendingRewards:e.get("amount-without-pending-rewards"),minBalance:e.get("min-balance"),pendingRewards:e.get("pending-rewards"),rewards:e.get("rewards"),round:e.get("round"),status:e.get("status"),totalAppsOptedIn:e.get("total-apps-opted-in"),totalAssetsOptedIn:e.get("total-assets-opted-in"),totalCreatedApps:e.get("total-created-apps"),totalCreatedAssets:e.get("total-created-assets"),appsLocalState:typeof e.get("apps-local-state")<"u"?e.get("apps-local-state").map(t=>Ps.fromEncodingData(t)):void 0,appsTotalExtraPages:e.get("apps-total-extra-pages"),appsTotalSchema:typeof e.get("apps-total-schema")<"u"?$n.fromEncodingData(e.get("apps-total-schema")):void 0,assets:typeof e.get("assets")<"u"?e.get("assets").map(t=>Bi.fromEncodingData(t)):void 0,authAddr:e.get("auth-addr"),createdApps:typeof e.get("created-apps")<"u"?e.get("created-apps").map(t=>Oi.fromEncodingData(t)):void 0,createdAssets:typeof e.get("created-assets")<"u"?e.get("created-assets").map(t=>Fa.fromEncodingData(t)):void 0,incentiveEligible:e.get("incentive-eligible"),lastHeartbeat:e.get("last-heartbeat"),lastProposed:e.get("last-proposed"),participation:typeof e.get("participation")<"u"?Bh.fromEncodingData(e.get("participation")):void 0,rewardBase:e.get("reward-base"),sigType:e.get("sig-type"),totalBoxBytes:e.get("total-box-bytes"),totalBoxes:e.get("total-boxes")})}};class Is{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"round",valueSchema:new M,omitEmpty:!0},{key:"app-local-state",valueSchema:new p(Ps.encodingSchema),omitEmpty:!0},{key:"created-app",valueSchema:new p(Qi.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({round:e,appLocalState:t,createdApp:r}){this.round=ce(e),this.appLocalState=t,this.createdApp=r}getEncodingSchema(){return Is.encodingSchema}toEncodingData(){return new Map([["round",this.round],["app-local-state",typeof this.appLocalState<"u"?this.appLocalState.toEncodingData():void 0],["created-app",typeof this.createdApp<"u"?this.createdApp.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountApplicationResponse: ${e}`);return new Is({round:e.get("round"),appLocalState:typeof e.get("app-local-state")<"u"?Ps.fromEncodingData(e.get("app-local-state")):void 0,createdApp:typeof e.get("created-app")<"u"?Qi.fromEncodingData(e.get("created-app")):void 0})}}class Ji{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"asset-holding",valueSchema:Bi.encodingSchema,omitEmpty:!0},{key:"asset-params",valueSchema:new p(Ci.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({assetHolding:e,assetParams:t}){this.assetHolding=e,this.assetParams=t}getEncodingSchema(){return Ji.encodingSchema}toEncodingData(){return new Map([["asset-holding",this.assetHolding.toEncodingData()],["asset-params",typeof this.assetParams<"u"?this.assetParams.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountAssetHolding: ${e}`);return new Ji({assetHolding:Bi.fromEncodingData(e.get("asset-holding")??new Map),assetParams:typeof e.get("asset-params")<"u"?Ci.fromEncodingData(e.get("asset-params")):void 0})}}class Rs{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"round",valueSchema:new M,omitEmpty:!0},{key:"asset-holding",valueSchema:new p(Bi.encodingSchema),omitEmpty:!0},{key:"created-asset",valueSchema:new p(Ci.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({round:e,assetHolding:t,createdAsset:r}){this.round=ce(e),this.assetHolding=t,this.createdAsset=r}getEncodingSchema(){return Rs.encodingSchema}toEncodingData(){return new Map([["round",this.round],["asset-holding",typeof this.assetHolding<"u"?this.assetHolding.toEncodingData():void 0],["created-asset",typeof this.createdAsset<"u"?this.createdAsset.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountAssetResponse: ${e}`);return new Rs({round:e.get("round"),assetHolding:typeof e.get("asset-holding")<"u"?Bi.fromEncodingData(e.get("asset-holding")):void 0,createdAsset:typeof e.get("created-asset")<"u"?Ci.fromEncodingData(e.get("created-asset")):void 0})}}class $a{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"round",valueSchema:new M,omitEmpty:!0},{key:"asset-holdings",valueSchema:new p(new xe(Ji.encodingSchema)),omitEmpty:!0},{key:"next-token",valueSchema:new p(new me),omitEmpty:!0})),this.encodingSchemaValue}constructor({round:e,assetHoldings:t,nextToken:r}){this.round=Re(e),this.assetHoldings=t,this.nextToken=r}getEncodingSchema(){return $a.encodingSchema}toEncodingData(){return new Map([["round",this.round],["asset-holdings",typeof this.assetHoldings<"u"?this.assetHoldings.map(e=>e.toEncodingData()):void 0],["next-token",this.nextToken]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountAssetsInformationResponse: ${e}`);return new $a({round:e.get("round"),assetHoldings:typeof e.get("asset-holdings")<"u"?e.get("asset-holdings").map(t=>Ji.fromEncodingData(t)):void 0,nextToken:e.get("next-token")})}}let Bh=class Ch{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"selection-participation-key",valueSchema:new Me,omitEmpty:!0},{key:"vote-first-valid",valueSchema:new M,omitEmpty:!0},{key:"vote-key-dilution",valueSchema:new M,omitEmpty:!0},{key:"vote-last-valid",valueSchema:new M,omitEmpty:!0},{key:"vote-participation-key",valueSchema:new Me,omitEmpty:!0},{key:"state-proof-key",valueSchema:new p(new Me),omitEmpty:!0})),this.encodingSchemaValue}constructor({selectionParticipationKey:e,voteFirstValid:t,voteKeyDilution:r,voteLastValid:i,voteParticipationKey:o,stateProofKey:s}){this.selectionParticipationKey=typeof e=="string"?Be(e):e,this.voteFirstValid=ce(t),this.voteKeyDilution=ce(r),this.voteLastValid=ce(i),this.voteParticipationKey=typeof o=="string"?Be(o):o,this.stateProofKey=typeof s=="string"?Be(s):s}getEncodingSchema(){return Ch.encodingSchema}toEncodingData(){return new Map([["selection-participation-key",this.selectionParticipationKey],["vote-first-valid",this.voteFirstValid],["vote-key-dilution",this.voteKeyDilution],["vote-last-valid",this.voteLastValid],["vote-participation-key",this.voteParticipationKey],["state-proof-key",this.stateProofKey]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountParticipation: ${e}`);return new Ch({selectionParticipationKey:e.get("selection-participation-key"),voteFirstValid:e.get("vote-first-valid"),voteKeyDilution:e.get("vote-key-dilution"),voteLastValid:e.get("vote-last-valid"),voteParticipationKey:e.get("vote-participation-key"),stateProofKey:e.get("state-proof-key")})}},_s=class Nh{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"address",valueSchema:new me,omitEmpty:!0},{key:"delta",valueSchema:new xe(Ni.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({address:e,delta:t}){this.address=e,this.delta=t}getEncodingSchema(){return Nh.encodingSchema}toEncodingData(){return new Map([["address",this.address],["delta",this.delta.map(e=>e.toEncodingData())]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountStateDelta: ${e}`);return new Nh({address:e.get("address"),delta:(e.get("delta")??[]).map(t=>Ni.fromEncodingData(t))})}};class Yi{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"application-index",valueSchema:new M,omitEmpty:!0},{key:"logs",valueSchema:new xe(new Me),omitEmpty:!0},{key:"txId",valueSchema:new me,omitEmpty:!0})),this.encodingSchemaValue}constructor({applicationIndex:e,logs:t,txid:r}){this.applicationIndex=Re(e),this.logs=t,this.txid=r}getEncodingSchema(){return Yi.encodingSchema}toEncodingData(){return new Map([["application-index",this.applicationIndex],["logs",this.logs],["txId",this.txid]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AppCallLogs: ${e}`);return new Yi({applicationIndex:e.get("application-index"),logs:e.get("logs"),txid:e.get("txId")})}}let Oi=class Vh{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"id",valueSchema:new M,omitEmpty:!0},{key:"params",valueSchema:Qi.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({id:e,params:t}){this.id=ce(e),this.params=t}getEncodingSchema(){return Vh.encodingSchema}toEncodingData(){return new Map([["id",this.id],["params",this.params.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Application: ${e}`);return new Vh({id:e.get("id"),params:Qi.fromEncodingData(e.get("params")??new Map)})}};class Xi{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"id",valueSchema:new M,omitEmpty:!0},{key:"app-boxes",valueSchema:new p(Jn.encodingSchema),omitEmpty:!0},{key:"app-globals",valueSchema:new p(Jn.encodingSchema),omitEmpty:!0},{key:"app-locals",valueSchema:new p(new xe(Jn.encodingSchema)),omitEmpty:!0})),this.encodingSchemaValue}constructor({id:e,appBoxes:t,appGlobals:r,appLocals:i}){this.id=ce(e),this.appBoxes=t,this.appGlobals=r,this.appLocals=i}getEncodingSchema(){return Xi.encodingSchema}toEncodingData(){return new Map([["id",this.id],["app-boxes",typeof this.appBoxes<"u"?this.appBoxes.toEncodingData():void 0],["app-globals",typeof this.appGlobals<"u"?this.appGlobals.toEncodingData():void 0],["app-locals",typeof this.appLocals<"u"?this.appLocals.map(e=>e.toEncodingData()):void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationInitialStates: ${e}`);return new Xi({id:e.get("id"),appBoxes:typeof e.get("app-boxes")<"u"?Jn.fromEncodingData(e.get("app-boxes")):void 0,appGlobals:typeof e.get("app-globals")<"u"?Jn.fromEncodingData(e.get("app-globals")):void 0,appLocals:typeof e.get("app-locals")<"u"?e.get("app-locals").map(t=>Jn.fromEncodingData(t)):void 0})}}class Jn{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"kvs",valueSchema:new xe(no.encodingSchema),omitEmpty:!0},{key:"account",valueSchema:new p(new me),omitEmpty:!0})),this.encodingSchemaValue}constructor({kvs:e,account:t}){this.kvs=e,this.account=typeof t=="string"?ot.fromString(t):t}getEncodingSchema(){return Jn.encodingSchema}toEncodingData(){return new Map([["kvs",this.kvs.map(e=>e.toEncodingData())],["account",typeof this.account<"u"?this.account.toString():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationKVStorage: ${e}`);return new Jn({kvs:(e.get("kvs")??[]).map(t=>no.fromEncodingData(t)),account:e.get("account")})}}class Zi{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"account",valueSchema:new me,omitEmpty:!0},{key:"app",valueSchema:new M,omitEmpty:!0})),this.encodingSchemaValue}constructor({account:e,app:t}){this.account=typeof e=="string"?ot.fromString(e):e,this.app=ce(t)}getEncodingSchema(){return Zi.encodingSchema}toEncodingData(){return new Map([["account",this.account.toString()],["app",this.app]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationLocalReference: ${e}`);return new Zi({account:e.get("account"),app:e.get("app")})}}let Ps=class Uh{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"id",valueSchema:new M,omitEmpty:!0},{key:"schema",valueSchema:$n.encodingSchema,omitEmpty:!0},{key:"key-value",valueSchema:new p(new xe(Ws.encodingSchema)),omitEmpty:!0})),this.encodingSchemaValue}constructor({id:e,schema:t,keyValue:r}){this.id=ce(e),this.schema=t,this.keyValue=r}getEncodingSchema(){return Uh.encodingSchema}toEncodingData(){return new Map([["id",this.id],["schema",this.schema.toEncodingData()],["key-value",typeof this.keyValue<"u"?this.keyValue.map(e=>e.toEncodingData()):void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationLocalState: ${e}`);return new Uh({id:e.get("id"),schema:$n.fromEncodingData(e.get("schema")??new Map),keyValue:typeof e.get("key-value")<"u"?e.get("key-value").map(t=>Ws.fromEncodingData(t)):void 0})}},Qi=class Lh{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"approval-program",valueSchema:new Me,omitEmpty:!0},{key:"clear-state-program",valueSchema:new Me,omitEmpty:!0},{key:"creator",valueSchema:new me,omitEmpty:!0},{key:"extra-program-pages",valueSchema:new p(new M),omitEmpty:!0},{key:"global-state",valueSchema:new p(new xe(Ws.encodingSchema)),omitEmpty:!0},{key:"global-state-schema",valueSchema:new p($n.encodingSchema),omitEmpty:!0},{key:"local-state-schema",valueSchema:new p($n.encodingSchema),omitEmpty:!0},{key:"version",valueSchema:new p(new M),omitEmpty:!0})),this.encodingSchemaValue}constructor({approvalProgram:e,clearStateProgram:t,creator:r,extraProgramPages:i,globalState:o,globalStateSchema:s,localStateSchema:h,version:m}){this.approvalProgram=typeof e=="string"?Be(e):e,this.clearStateProgram=typeof t=="string"?Be(t):t,this.creator=typeof r=="string"?ot.fromString(r):r,this.extraProgramPages=typeof i>"u"?void 0:Re(i),this.globalState=o,this.globalStateSchema=s,this.localStateSchema=h,this.version=typeof m>"u"?void 0:Re(m)}getEncodingSchema(){return Lh.encodingSchema}toEncodingData(){return new Map([["approval-program",this.approvalProgram],["clear-state-program",this.clearStateProgram],["creator",this.creator.toString()],["extra-program-pages",this.extraProgramPages],["global-state",typeof this.globalState<"u"?this.globalState.map(e=>e.toEncodingData()):void 0],["global-state-schema",typeof this.globalStateSchema<"u"?this.globalStateSchema.toEncodingData():void 0],["local-state-schema",typeof this.localStateSchema<"u"?this.localStateSchema.toEncodingData():void 0],["version",this.version]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationParams: ${e}`);return new Lh({approvalProgram:e.get("approval-program"),clearStateProgram:e.get("clear-state-program"),creator:e.get("creator"),extraProgramPages:e.get("extra-program-pages"),globalState:typeof e.get("global-state")<"u"?e.get("global-state").map(t=>Ws.fromEncodingData(t)):void 0,globalStateSchema:typeof e.get("global-state-schema")<"u"?$n.fromEncodingData(e.get("global-state-schema")):void 0,localStateSchema:typeof e.get("local-state-schema")<"u"?$n.fromEncodingData(e.get("local-state-schema")):void 0,version:e.get("version")})}};class eo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"app-state-type",valueSchema:new me,omitEmpty:!0},{key:"key",valueSchema:new Me,omitEmpty:!0},{key:"operation",valueSchema:new me,omitEmpty:!0},{key:"account",valueSchema:new p(new me),omitEmpty:!0},{key:"new-value",valueSchema:new p(Cn.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({appStateType:e,key:t,operation:r,account:i,newValue:o}){this.appStateType=e,this.key=typeof t=="string"?Be(t):t,this.operation=r,this.account=typeof i=="string"?ot.fromString(i):i,this.newValue=o}getEncodingSchema(){return eo.encodingSchema}toEncodingData(){return new Map([["app-state-type",this.appStateType],["key",this.key],["operation",this.operation],["account",typeof this.account<"u"?this.account.toString():void 0],["new-value",typeof this.newValue<"u"?this.newValue.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationStateOperation: ${e}`);return new eo({appStateType:e.get("app-state-type"),key:e.get("key"),operation:e.get("operation"),account:e.get("account"),newValue:typeof e.get("new-value")<"u"?Cn.fromEncodingData(e.get("new-value")):void 0})}}let $n=class $h{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"num-byte-slice",valueSchema:new M,omitEmpty:!0},{key:"num-uint",valueSchema:new M,omitEmpty:!0})),this.encodingSchemaValue}constructor({numByteSlice:e,numUint:t}){this.numByteSlice=Re(e),this.numUint=Re(t)}getEncodingSchema(){return $h.encodingSchema}toEncodingData(){return new Map([["num-byte-slice",this.numByteSlice],["num-uint",this.numUint]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationStateSchema: ${e}`);return new $h({numByteSlice:e.get("num-byte-slice"),numUint:e.get("num-uint")})}},Fa=class Fh{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"index",valueSchema:new M,omitEmpty:!0},{key:"params",valueSchema:Ci.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({index:e,params:t}){this.index=ce(e),this.params=t}getEncodingSchema(){return Fh.encodingSchema}toEncodingData(){return new Map([["index",this.index],["params",this.params.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Asset: ${e}`);return new Fh({index:e.get("index"),params:Ci.fromEncodingData(e.get("params")??new Map)})}},Bi=class qh{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"amount",valueSchema:new M,omitEmpty:!0},{key:"asset-id",valueSchema:new M,omitEmpty:!0},{key:"is-frozen",valueSchema:new lt,omitEmpty:!0})),this.encodingSchemaValue}constructor({amount:e,assetId:t,isFrozen:r}){this.amount=ce(e),this.assetId=ce(t),this.isFrozen=r}getEncodingSchema(){return qh.encodingSchema}toEncodingData(){return new Map([["amount",this.amount],["asset-id",this.assetId],["is-frozen",this.isFrozen]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetHolding: ${e}`);return new qh({amount:e.get("amount"),assetId:e.get("asset-id"),isFrozen:e.get("is-frozen")})}};class to{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"account",valueSchema:new me,omitEmpty:!0},{key:"asset",valueSchema:new M,omitEmpty:!0})),this.encodingSchemaValue}constructor({account:e,asset:t}){this.account=typeof e=="string"?ot.fromString(e):e,this.asset=ce(t)}getEncodingSchema(){return to.encodingSchema}toEncodingData(){return new Map([["account",this.account.toString()],["asset",this.asset]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetHoldingReference: ${e}`);return new to({account:e.get("account"),asset:e.get("asset")})}}let Ci=class zh{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"creator",valueSchema:new me,omitEmpty:!0},{key:"decimals",valueSchema:new M,omitEmpty:!0},{key:"total",valueSchema:new M,omitEmpty:!0},{key:"clawback",valueSchema:new p(new me),omitEmpty:!0},{key:"default-frozen",valueSchema:new p(new lt),omitEmpty:!0},{key:"freeze",valueSchema:new p(new me),omitEmpty:!0},{key:"manager",valueSchema:new p(new me),omitEmpty:!0},{key:"metadata-hash",valueSchema:new p(new Me),omitEmpty:!0},{key:"name",valueSchema:new p(new me),omitEmpty:!0},{key:"name-b64",valueSchema:new p(new Me),omitEmpty:!0},{key:"reserve",valueSchema:new p(new me),omitEmpty:!0},{key:"unit-name",valueSchema:new p(new me),omitEmpty:!0},{key:"unit-name-b64",valueSchema:new p(new Me),omitEmpty:!0},{key:"url",valueSchema:new p(new me),omitEmpty:!0},{key:"url-b64",valueSchema:new p(new Me),omitEmpty:!0})),this.encodingSchemaValue}constructor({creator:e,decimals:t,total:r,clawback:i,defaultFrozen:o,freeze:s,manager:h,metadataHash:m,name:u,nameB64:v,reserve:T,unitName:B,unitNameB64:W,url:U,urlB64:ne}){this.creator=e,this.decimals=Re(t),this.total=ce(r),this.clawback=i,this.defaultFrozen=o,this.freeze=s,this.manager=h,this.metadataHash=typeof m=="string"?Be(m):m,this.name=u,this.nameB64=typeof v=="string"?Be(v):v,this.reserve=T,this.unitName=B,this.unitNameB64=typeof W=="string"?Be(W):W,this.url=U,this.urlB64=typeof ne=="string"?Be(ne):ne}getEncodingSchema(){return zh.encodingSchema}toEncodingData(){return new Map([["creator",this.creator],["decimals",this.decimals],["total",this.total],["clawback",this.clawback],["default-frozen",this.defaultFrozen],["freeze",this.freeze],["manager",this.manager],["metadata-hash",this.metadataHash],["name",this.name],["name-b64",this.nameB64],["reserve",this.reserve],["unit-name",this.unitName],["unit-name-b64",this.unitNameB64],["url",this.url],["url-b64",this.urlB64]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetParams: ${e}`);return new zh({creator:e.get("creator"),decimals:e.get("decimals"),total:e.get("total"),clawback:e.get("clawback"),defaultFrozen:e.get("default-frozen"),freeze:e.get("freeze"),manager:e.get("manager"),metadataHash:e.get("metadata-hash"),name:e.get("name"),nameB64:e.get("name-b64"),reserve:e.get("reserve"),unitName:e.get("unit-name"),unitNameB64:e.get("unit-name-b64"),url:e.get("url"),urlB64:e.get("url-b64")})}};class no{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"key",valueSchema:new Me,omitEmpty:!0},{key:"value",valueSchema:Cn.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({key:e,value:t}){this.key=typeof e=="string"?Be(e):e,this.value=t}getEncodingSchema(){return no.encodingSchema}toEncodingData(){return new Map([["key",this.key],["value",this.value.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AvmKeyValue: ${e}`);return new no({key:e.get("key"),value:Cn.fromEncodingData(e.get("value")??new Map)})}}class Cn{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"type",valueSchema:new M,omitEmpty:!0},{key:"bytes",valueSchema:new p(new Me),omitEmpty:!0},{key:"uint",valueSchema:new p(new M),omitEmpty:!0})),this.encodingSchemaValue}constructor({type:e,bytes:t,uint:r}){this.type=Re(e),this.bytes=typeof t=="string"?Be(t):t,this.uint=typeof r>"u"?void 0:ce(r)}getEncodingSchema(){return Cn.encodingSchema}toEncodingData(){return new Map([["type",this.type],["bytes",this.bytes],["uint",this.uint]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AvmValue: ${e}`);return new Cn({type:e.get("type"),bytes:e.get("bytes"),uint:e.get("uint")})}}class Os{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"blockHash",valueSchema:new me,omitEmpty:!0})),this.encodingSchemaValue}constructor({blockhash:e}){this.blockhash=e}getEncodingSchema(){return Os.encodingSchema}toEncodingData(){return new Map([["blockHash",this.blockhash]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BlockHashResponse: ${e}`);return new Os({blockhash:e.get("blockHash")})}}class qa{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"logs",valueSchema:new xe(Yi.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({logs:e}){this.logs=e}getEncodingSchema(){return qa.encodingSchema}toEncodingData(){return new Map([["logs",this.logs.map(e=>e.toEncodingData())]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BlockLogsResponse: ${e}`);return new qa({logs:(e.get("logs")??[]).map(t=>Yi.fromEncodingData(t))})}}class Bs{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"block",valueSchema:Ua.encodingSchema,omitEmpty:!0},{key:"cert",valueSchema:new p(hn.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({block:e,cert:t}){this.block=e,this.cert=t}getEncodingSchema(){return Bs.encodingSchema}toEncodingData(){return new Map([["block",this.block.toEncodingData()],["cert",typeof this.cert<"u"?this.cert.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BlockResponse: ${e}`);return new Bs({block:Ua.fromEncodingData(e.get("block")??new Map),cert:typeof e.get("cert")<"u"?hn.fromEncodingData(e.get("cert")):void 0})}}class Cs{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"blockTxids",valueSchema:new xe(new me),omitEmpty:!0})),this.encodingSchemaValue}constructor({blocktxids:e}){this.blocktxids=e}getEncodingSchema(){return Cs.encodingSchema}toEncodingData(){return new Map([["blockTxids",this.blocktxids]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BlockTxidsResponse: ${e}`);return new Cs({blocktxids:e.get("blockTxids")})}}let Dd=class Hh{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"name",valueSchema:new Me,omitEmpty:!0},{key:"round",valueSchema:new M,omitEmpty:!0},{key:"value",valueSchema:new Me,omitEmpty:!0})),this.encodingSchemaValue}constructor({name:e,round:t,value:r}){this.name=typeof e=="string"?Be(e):e,this.round=ce(t),this.value=typeof r=="string"?Be(r):r}getEncodingSchema(){return Hh.encodingSchema}toEncodingData(){return new Map([["name",this.name],["round",this.round],["value",this.value]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Box: ${e}`);return new Hh({name:e.get("name"),round:e.get("round"),value:e.get("value")})}},Wh=class jh{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"name",valueSchema:new Me,omitEmpty:!0})),this.encodingSchemaValue}constructor({name:e}){this.name=typeof e=="string"?Be(e):e}getEncodingSchema(){return jh.encodingSchema}toEncodingData(){return new Map([["name",this.name]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BoxDescriptor: ${e}`);return new jh({name:e.get("name")})}};class ro{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"app",valueSchema:new M,omitEmpty:!0},{key:"name",valueSchema:new Me,omitEmpty:!0})),this.encodingSchemaValue}constructor({app:e,name:t}){this.app=ce(e),this.name=typeof t=="string"?Be(t):t}getEncodingSchema(){return ro.encodingSchema}toEncodingData(){return new Map([["app",this.app],["name",this.name]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BoxReference: ${e}`);return new ro({app:e.get("app"),name:e.get("name")})}}let Td=class Gh{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"boxes",valueSchema:new xe(Wh.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({boxes:e}){this.boxes=e}getEncodingSchema(){return Gh.encodingSchema}toEncodingData(){return new Map([["boxes",this.boxes.map(e=>e.toEncodingData())]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BoxesResponse: ${e}`);return new Gh({boxes:(e.get("boxes")??[]).map(t=>Wh.fromEncodingData(t))})}};class io{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"branch",valueSchema:new me,omitEmpty:!0},{key:"build_number",valueSchema:new M,omitEmpty:!0},{key:"channel",valueSchema:new me,omitEmpty:!0},{key:"commit_hash",valueSchema:new me,omitEmpty:!0},{key:"major",valueSchema:new M,omitEmpty:!0},{key:"minor",valueSchema:new M,omitEmpty:!0})),this.encodingSchemaValue}constructor({branch:e,buildNumber:t,channel:r,commitHash:i,major:o,minor:s}){this.branch=e,this.buildNumber=Re(t),this.channel=r,this.commitHash=i,this.major=Re(o),this.minor=Re(s)}getEncodingSchema(){return io.encodingSchema}toEncodingData(){return new Map([["branch",this.branch],["build_number",this.buildNumber],["channel",this.channel],["commit_hash",this.commitHash],["major",this.major],["minor",this.minor]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BuildVersion: ${e}`);return new io({branch:e.get("branch"),buildNumber:e.get("build_number"),channel:e.get("channel"),commitHash:e.get("commit_hash"),major:e.get("major"),minor:e.get("minor")})}}class Ns{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"hash",valueSchema:new me,omitEmpty:!0},{key:"result",valueSchema:new me,omitEmpty:!0},{key:"sourcemap",valueSchema:new p(hn.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({hash:e,result:t,sourcemap:r}){this.hash=e,this.result=t,this.sourcemap=r}getEncodingSchema(){return Ns.encodingSchema}toEncodingData(){return new Map([["hash",this.hash],["result",this.result],["sourcemap",typeof this.sourcemap<"u"?this.sourcemap.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded CompileResponse: ${e}`);return new Ns({hash:e.get("hash"),result:e.get("result"),sourcemap:typeof e.get("sourcemap")<"u"?hn.fromEncodingData(e.get("sourcemap")):void 0})}}class Vs{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"result",valueSchema:new me,omitEmpty:!0})),this.encodingSchemaValue}constructor({result:e}){this.result=e}getEncodingSchema(){return Vs.encodingSchema}toEncodingData(){return new Map([["result",this.result]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded DisassembleResponse: ${e}`);return new Vs({result:e.get("result")})}}class Us{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"accounts",valueSchema:new xe(La.encodingSchema),omitEmpty:!0},{key:"apps",valueSchema:new xe(Oi.encodingSchema),omitEmpty:!0},{key:"latest-timestamp",valueSchema:new M,omitEmpty:!0},{key:"protocol-version",valueSchema:new me,omitEmpty:!0},{key:"round",valueSchema:new M,omitEmpty:!0},{key:"sources",valueSchema:new xe(oo.encodingSchema),omitEmpty:!0},{key:"txns",valueSchema:new xe($t.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({accounts:e,apps:t,latestTimestamp:r,protocolVersion:i,round:o,sources:s,txns:h}){this.accounts=e,this.apps=t,this.latestTimestamp=Re(r),this.protocolVersion=i,this.round=ce(o),this.sources=s,this.txns=h}getEncodingSchema(){return Us.encodingSchema}toEncodingData(){return new Map([["accounts",this.accounts.map(e=>e.toEncodingData())],["apps",this.apps.map(e=>e.toEncodingData())],["latest-timestamp",this.latestTimestamp],["protocol-version",this.protocolVersion],["round",this.round],["sources",this.sources.map(e=>e.toEncodingData())],["txns",this.txns.map(e=>e.toEncodingData())]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded DryrunRequest: ${e}`);return new Us({accounts:(e.get("accounts")??[]).map(t=>La.fromEncodingData(t)),apps:(e.get("apps")??[]).map(t=>Oi.fromEncodingData(t)),latestTimestamp:e.get("latest-timestamp"),protocolVersion:e.get("protocol-version"),round:e.get("round"),sources:(e.get("sources")??[]).map(t=>oo.fromEncodingData(t)),txns:(e.get("txns")??[]).map(t=>$t.fromEncodingData(t))})}}class Ls{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"error",valueSchema:new me,omitEmpty:!0},{key:"protocol-version",valueSchema:new me,omitEmpty:!0},{key:"txns",valueSchema:new xe(so.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({error:e,protocolVersion:t,txns:r}){this.error=e,this.protocolVersion=t,this.txns=r}getEncodingSchema(){return Ls.encodingSchema}toEncodingData(){return new Map([["error",this.error],["protocol-version",this.protocolVersion],["txns",this.txns.map(e=>e.toEncodingData())]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded DryrunResponse: ${e}`);return new Ls({error:e.get("error"),protocolVersion:e.get("protocol-version"),txns:(e.get("txns")??[]).map(t=>so.fromEncodingData(t))})}}class oo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"app-index",valueSchema:new M,omitEmpty:!0},{key:"field-name",valueSchema:new me,omitEmpty:!0},{key:"source",valueSchema:new me,omitEmpty:!0},{key:"txn-index",valueSchema:new M,omitEmpty:!0})),this.encodingSchemaValue}constructor({appIndex:e,fieldName:t,source:r,txnIndex:i}){this.appIndex=ce(e),this.fieldName=t,this.source=r,this.txnIndex=Re(i)}getEncodingSchema(){return oo.encodingSchema}toEncodingData(){return new Map([["app-index",this.appIndex],["field-name",this.fieldName],["source",this.source],["txn-index",this.txnIndex]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded DryrunSource: ${e}`);return new oo({appIndex:e.get("app-index"),fieldName:e.get("field-name"),source:e.get("source"),txnIndex:e.get("txn-index")})}}class kr{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"line",valueSchema:new M,omitEmpty:!0},{key:"pc",valueSchema:new M,omitEmpty:!0},{key:"stack",valueSchema:new xe(Kr.encodingSchema),omitEmpty:!0},{key:"error",valueSchema:new p(new me),omitEmpty:!0},{key:"scratch",valueSchema:new p(new xe(Kr.encodingSchema)),omitEmpty:!0})),this.encodingSchemaValue}constructor({line:e,pc:t,stack:r,error:i,scratch:o}){this.line=Re(e),this.pc=Re(t),this.stack=r,this.error=i,this.scratch=o}getEncodingSchema(){return kr.encodingSchema}toEncodingData(){return new Map([["line",this.line],["pc",this.pc],["stack",this.stack.map(e=>e.toEncodingData())],["error",this.error],["scratch",typeof this.scratch<"u"?this.scratch.map(e=>e.toEncodingData()):void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded DryrunState: ${e}`);return new kr({line:e.get("line"),pc:e.get("pc"),stack:(e.get("stack")??[]).map(t=>Kr.fromEncodingData(t)),error:e.get("error"),scratch:typeof e.get("scratch")<"u"?e.get("scratch").map(t=>Kr.fromEncodingData(t)):void 0})}}class so{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"disassembly",valueSchema:new xe(new me),omitEmpty:!0},{key:"app-call-messages",valueSchema:new p(new xe(new me)),omitEmpty:!0},{key:"app-call-trace",valueSchema:new p(new xe(kr.encodingSchema)),omitEmpty:!0},{key:"budget-added",valueSchema:new p(new M),omitEmpty:!0},{key:"budget-consumed",valueSchema:new p(new M),omitEmpty:!0},{key:"global-delta",valueSchema:new p(new xe(Ni.encodingSchema)),omitEmpty:!0},{key:"local-deltas",valueSchema:new p(new xe(_s.encodingSchema)),omitEmpty:!0},{key:"logic-sig-disassembly",valueSchema:new p(new xe(new me)),omitEmpty:!0},{key:"logic-sig-messages",valueSchema:new p(new xe(new me)),omitEmpty:!0},{key:"logic-sig-trace",valueSchema:new p(new xe(kr.encodingSchema)),omitEmpty:!0},{key:"logs",valueSchema:new p(new xe(new Me)),omitEmpty:!0})),this.encodingSchemaValue}constructor({disassembly:e,appCallMessages:t,appCallTrace:r,budgetAdded:i,budgetConsumed:o,globalDelta:s,localDeltas:h,logicSigDisassembly:m,logicSigMessages:u,logicSigTrace:v,logs:T}){this.disassembly=e,this.appCallMessages=t,this.appCallTrace=r,this.budgetAdded=typeof i>"u"?void 0:Re(i),this.budgetConsumed=typeof o>"u"?void 0:Re(o),this.globalDelta=s,this.localDeltas=h,this.logicSigDisassembly=m,this.logicSigMessages=u,this.logicSigTrace=v,this.logs=T}getEncodingSchema(){return so.encodingSchema}toEncodingData(){return new Map([["disassembly",this.disassembly],["app-call-messages",this.appCallMessages],["app-call-trace",typeof this.appCallTrace<"u"?this.appCallTrace.map(e=>e.toEncodingData()):void 0],["budget-added",this.budgetAdded],["budget-consumed",this.budgetConsumed],["global-delta",typeof this.globalDelta<"u"?this.globalDelta.map(e=>e.toEncodingData()):void 0],["local-deltas",typeof this.localDeltas<"u"?this.localDeltas.map(e=>e.toEncodingData()):void 0],["logic-sig-disassembly",this.logicSigDisassembly],["logic-sig-messages",this.logicSigMessages],["logic-sig-trace",typeof this.logicSigTrace<"u"?this.logicSigTrace.map(e=>e.toEncodingData()):void 0],["logs",this.logs]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded DryrunTxnResult: ${e}`);return new so({disassembly:e.get("disassembly"),appCallMessages:e.get("app-call-messages"),appCallTrace:typeof e.get("app-call-trace")<"u"?e.get("app-call-trace").map(t=>kr.fromEncodingData(t)):void 0,budgetAdded:e.get("budget-added"),budgetConsumed:e.get("budget-consumed"),globalDelta:typeof e.get("global-delta")<"u"?e.get("global-delta").map(t=>Ni.fromEncodingData(t)):void 0,localDeltas:typeof e.get("local-deltas")<"u"?e.get("local-deltas").map(t=>_s.fromEncodingData(t)):void 0,logicSigDisassembly:e.get("logic-sig-disassembly"),logicSigMessages:e.get("logic-sig-messages"),logicSigTrace:typeof e.get("logic-sig-trace")<"u"?e.get("logic-sig-trace").map(t=>kr.fromEncodingData(t)):void 0,logs:e.get("logs")})}}let Sv=class Kh{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"message",valueSchema:new me,omitEmpty:!0},{key:"data",valueSchema:new p(hn.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({message:e,data:t}){this.message=e,this.data=t}getEncodingSchema(){return Kh.encodingSchema}toEncodingData(){return new Map([["message",this.message],["data",typeof this.data<"u"?this.data.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ErrorResponse: ${e}`);return new Kh({message:e.get("message"),data:typeof e.get("data")<"u"?hn.fromEncodingData(e.get("data")):void 0})}},Jh=class Yh{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"action",valueSchema:new M,omitEmpty:!0},{key:"bytes",valueSchema:new p(new me),omitEmpty:!0},{key:"uint",valueSchema:new p(new M),omitEmpty:!0})),this.encodingSchemaValue}constructor({action:e,bytes:t,uint:r}){this.action=Re(e),this.bytes=t,this.uint=typeof r>"u"?void 0:ce(r)}getEncodingSchema(){return Yh.encodingSchema}toEncodingData(){return new Map([["action",this.action],["bytes",this.bytes],["uint",this.uint]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded EvalDelta: ${e}`);return new Yh({action:e.get("action"),bytes:e.get("bytes"),uint:e.get("uint")})}},Ni=class Xh{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"key",valueSchema:new me,omitEmpty:!0},{key:"value",valueSchema:Jh.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({key:e,value:t}){this.key=e,this.value=t}getEncodingSchema(){return Xh.encodingSchema}toEncodingData(){return new Map([["key",this.key],["value",this.value.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded EvalDeltaKeyValue: ${e}`);return new Xh({key:e.get("key"),value:Jh.fromEncodingData(e.get("value")??new Map)})}},Ev=class Zh{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"alloc",valueSchema:new xe(ao.encodingSchema),omitEmpty:!0},{key:"fees",valueSchema:new me,omitEmpty:!0},{key:"id",valueSchema:new me,omitEmpty:!0},{key:"network",valueSchema:new me,omitEmpty:!0},{key:"proto",valueSchema:new me,omitEmpty:!0},{key:"rwd",valueSchema:new me,omitEmpty:!0},{key:"timestamp",valueSchema:new M,omitEmpty:!0},{key:"comment",valueSchema:new p(new me),omitEmpty:!0},{key:"devmode",valueSchema:new p(new lt),omitEmpty:!0})),this.encodingSchemaValue}constructor({alloc:e,fees:t,id:r,network:i,proto:o,rwd:s,timestamp:h,comment:m,devmode:u}){this.alloc=e,this.fees=t,this.id=r,this.network=i,this.proto=o,this.rwd=s,this.timestamp=Re(h),this.comment=m,this.devmode=u}getEncodingSchema(){return Zh.encodingSchema}toEncodingData(){return new Map([["alloc",this.alloc.map(e=>e.toEncodingData())],["fees",this.fees],["id",this.id],["network",this.network],["proto",this.proto],["rwd",this.rwd],["timestamp",this.timestamp],["comment",this.comment],["devmode",this.devmode]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Genesis: ${e}`);return new Zh({alloc:(e.get("alloc")??[]).map(t=>ao.fromEncodingData(t)),fees:e.get("fees"),id:e.get("id"),network:e.get("network"),proto:e.get("proto"),rwd:e.get("rwd"),timestamp:e.get("timestamp"),comment:e.get("comment"),devmode:e.get("devmode")})}};class ao{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"addr",valueSchema:new me,omitEmpty:!0},{key:"comment",valueSchema:new me,omitEmpty:!0},{key:"state",valueSchema:hn.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({addr:e,comment:t,state:r}){this.addr=e,this.comment=t,this.state=r}getEncodingSchema(){return ao.encodingSchema}toEncodingData(){return new Map([["addr",this.addr],["comment",this.comment],["state",this.state.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded GenesisAllocation: ${e}`);return new ao({addr:e.get("addr"),comment:e.get("comment"),state:hn.fromEncodingData(e.get("state")??new Map)})}}class $s{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"offset",valueSchema:new M,omitEmpty:!0})),this.encodingSchemaValue}constructor({offset:e}){this.offset=Re(e)}getEncodingSchema(){return $s.encodingSchema}toEncodingData(){return new Map([["offset",this.offset]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded GetBlockTimeStampOffsetResponse: ${e}`);return new $s({offset:e.get("offset")})}}class Fs{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"round",valueSchema:new M,omitEmpty:!0})),this.encodingSchemaValue}constructor({round:e}){this.round=ce(e)}getEncodingSchema(){return Fs.encodingSchema}toEncodingData(){return new Map([["round",this.round]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded GetSyncRoundResponse: ${e}`);return new Fs({round:e.get("round")})}}class co{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"Delta",valueSchema:yr.encodingSchema,omitEmpty:!0},{key:"Ids",valueSchema:new xe(new me),omitEmpty:!0})),this.encodingSchemaValue}constructor({delta:e,ids:t}){this.delta=e,this.ids=t}getEncodingSchema(){return co.encodingSchema}toEncodingData(){return new Map([["Delta",this.delta.toEncodingData()],["Ids",this.ids]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded LedgerStateDeltaForTransactionGroup: ${e}`);return new co({delta:yr.fromEncodingData(e.get("Delta")??new Map),ids:e.get("Ids")})}}let Id=class Qh{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"index",valueSchema:new M,omitEmpty:!0},{key:"proof",valueSchema:new Me,omitEmpty:!0},{key:"treedepth",valueSchema:new M,omitEmpty:!0})),this.encodingSchemaValue}constructor({index:e,proof:t,treedepth:r}){this.index=Re(e),this.proof=typeof t=="string"?Be(t):t,this.treedepth=Re(r)}getEncodingSchema(){return Qh.encodingSchema}toEncodingData(){return new Map([["index",this.index],["proof",this.proof],["treedepth",this.treedepth]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded LightBlockHeaderProof: ${e}`);return new Qh({index:e.get("index"),proof:e.get("proof"),treedepth:e.get("treedepth")})}};class ho{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"catchup-time",valueSchema:new M,omitEmpty:!0},{key:"last-round",valueSchema:new M,omitEmpty:!0},{key:"last-version",valueSchema:new me,omitEmpty:!0},{key:"next-version",valueSchema:new me,omitEmpty:!0},{key:"next-version-round",valueSchema:new M,omitEmpty:!0},{key:"next-version-supported",valueSchema:new lt,omitEmpty:!0},{key:"stopped-at-unsupported-round",valueSchema:new lt,omitEmpty:!0},{key:"time-since-last-round",valueSchema:new M,omitEmpty:!0},{key:"catchpoint",valueSchema:new p(new me),omitEmpty:!0},{key:"catchpoint-acquired-blocks",valueSchema:new p(new M),omitEmpty:!0},{key:"catchpoint-processed-accounts",valueSchema:new p(new M),omitEmpty:!0},{key:"catchpoint-processed-kvs",valueSchema:new p(new M),omitEmpty:!0},{key:"catchpoint-total-accounts",valueSchema:new p(new M),omitEmpty:!0},{key:"catchpoint-total-blocks",valueSchema:new p(new M),omitEmpty:!0},{key:"catchpoint-total-kvs",valueSchema:new p(new M),omitEmpty:!0},{key:"catchpoint-verified-accounts",valueSchema:new p(new M),omitEmpty:!0},{key:"catchpoint-verified-kvs",valueSchema:new p(new M),omitEmpty:!0},{key:"last-catchpoint",valueSchema:new p(new me),omitEmpty:!0},{key:"upgrade-delay",valueSchema:new p(new M),omitEmpty:!0},{key:"upgrade-next-protocol-vote-before",valueSchema:new p(new M),omitEmpty:!0},{key:"upgrade-no-votes",valueSchema:new p(new M),omitEmpty:!0},{key:"upgrade-node-vote",valueSchema:new p(new lt),omitEmpty:!0},{key:"upgrade-vote-rounds",valueSchema:new p(new M),omitEmpty:!0},{key:"upgrade-votes",valueSchema:new p(new M),omitEmpty:!0},{key:"upgrade-votes-required",valueSchema:new p(new M),omitEmpty:!0},{key:"upgrade-yes-votes",valueSchema:new p(new M),omitEmpty:!0})),this.encodingSchemaValue}constructor({catchupTime:e,lastRound:t,lastVersion:r,nextVersion:i,nextVersionRound:o,nextVersionSupported:s,stoppedAtUnsupportedRound:h,timeSinceLastRound:m,catchpoint:u,catchpointAcquiredBlocks:v,catchpointProcessedAccounts:T,catchpointProcessedKvs:B,catchpointTotalAccounts:W,catchpointTotalBlocks:U,catchpointTotalKvs:ne,catchpointVerifiedAccounts:E,catchpointVerifiedKvs:C,lastCatchpoint:N,upgradeDelay:$,upgradeNextProtocolVoteBefore:re,upgradeNoVotes:ue,upgradeNodeVote:I,upgradeVoteRounds:Y,upgradeVotes:Z,upgradeVotesRequired:ge,upgradeYesVotes:S}){this.catchupTime=ce(e),this.lastRound=ce(t),this.lastVersion=r,this.nextVersion=i,this.nextVersionRound=ce(o),this.nextVersionSupported=s,this.stoppedAtUnsupportedRound=h,this.timeSinceLastRound=ce(m),this.catchpoint=u,this.catchpointAcquiredBlocks=typeof v>"u"?void 0:Re(v),this.catchpointProcessedAccounts=typeof T>"u"?void 0:Re(T),this.catchpointProcessedKvs=typeof B>"u"?void 0:Re(B),this.catchpointTotalAccounts=typeof W>"u"?void 0:Re(W),this.catchpointTotalBlocks=typeof U>"u"?void 0:Re(U),this.catchpointTotalKvs=typeof ne>"u"?void 0:Re(ne),this.catchpointVerifiedAccounts=typeof E>"u"?void 0:Re(E),this.catchpointVerifiedKvs=typeof C>"u"?void 0:Re(C),this.lastCatchpoint=N,this.upgradeDelay=typeof $>"u"?void 0:ce($),this.upgradeNextProtocolVoteBefore=typeof re>"u"?void 0:ce(re),this.upgradeNoVotes=typeof ue>"u"?void 0:Re(ue),this.upgradeNodeVote=I,this.upgradeVoteRounds=typeof Y>"u"?void 0:Re(Y),this.upgradeVotes=typeof Z>"u"?void 0:Re(Z),this.upgradeVotesRequired=typeof ge>"u"?void 0:Re(ge),this.upgradeYesVotes=typeof S>"u"?void 0:Re(S)}getEncodingSchema(){return ho.encodingSchema}toEncodingData(){return new Map([["catchup-time",this.catchupTime],["last-round",this.lastRound],["last-version",this.lastVersion],["next-version",this.nextVersion],["next-version-round",this.nextVersionRound],["next-version-supported",this.nextVersionSupported],["stopped-at-unsupported-round",this.stoppedAtUnsupportedRound],["time-since-last-round",this.timeSinceLastRound],["catchpoint",this.catchpoint],["catchpoint-acquired-blocks",this.catchpointAcquiredBlocks],["catchpoint-processed-accounts",this.catchpointProcessedAccounts],["catchpoint-processed-kvs",this.catchpointProcessedKvs],["catchpoint-total-accounts",this.catchpointTotalAccounts],["catchpoint-total-blocks",this.catchpointTotalBlocks],["catchpoint-total-kvs",this.catchpointTotalKvs],["catchpoint-verified-accounts",this.catchpointVerifiedAccounts],["catchpoint-verified-kvs",this.catchpointVerifiedKvs],["last-catchpoint",this.lastCatchpoint],["upgrade-delay",this.upgradeDelay],["upgrade-next-protocol-vote-before",this.upgradeNextProtocolVoteBefore],["upgrade-no-votes",this.upgradeNoVotes],["upgrade-node-vote",this.upgradeNodeVote],["upgrade-vote-rounds",this.upgradeVoteRounds],["upgrade-votes",this.upgradeVotes],["upgrade-votes-required",this.upgradeVotesRequired],["upgrade-yes-votes",this.upgradeYesVotes]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded NodeStatusResponse: ${e}`);return new ho({catchupTime:e.get("catchup-time"),lastRound:e.get("last-round"),lastVersion:e.get("last-version"),nextVersion:e.get("next-version"),nextVersionRound:e.get("next-version-round"),nextVersionSupported:e.get("next-version-supported"),stoppedAtUnsupportedRound:e.get("stopped-at-unsupported-round"),timeSinceLastRound:e.get("time-since-last-round"),catchpoint:e.get("catchpoint"),catchpointAcquiredBlocks:e.get("catchpoint-acquired-blocks"),catchpointProcessedAccounts:e.get("catchpoint-processed-accounts"),catchpointProcessedKvs:e.get("catchpoint-processed-kvs"),catchpointTotalAccounts:e.get("catchpoint-total-accounts"),catchpointTotalBlocks:e.get("catchpoint-total-blocks"),catchpointTotalKvs:e.get("catchpoint-total-kvs"),catchpointVerifiedAccounts:e.get("catchpoint-verified-accounts"),catchpointVerifiedKvs:e.get("catchpoint-verified-kvs"),lastCatchpoint:e.get("last-catchpoint"),upgradeDelay:e.get("upgrade-delay"),upgradeNextProtocolVoteBefore:e.get("upgrade-next-protocol-vote-before"),upgradeNoVotes:e.get("upgrade-no-votes"),upgradeNodeVote:e.get("upgrade-node-vote"),upgradeVoteRounds:e.get("upgrade-vote-rounds"),upgradeVotes:e.get("upgrade-votes"),upgradeVotesRequired:e.get("upgrade-votes-required"),upgradeYesVotes:e.get("upgrade-yes-votes")})}}class lr{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"pool-error",valueSchema:new me,omitEmpty:!0},{key:"txn",valueSchema:$t.encodingSchema,omitEmpty:!0},{key:"application-index",valueSchema:new p(new M),omitEmpty:!0},{key:"asset-closing-amount",valueSchema:new p(new M),omitEmpty:!0},{key:"asset-index",valueSchema:new p(new M),omitEmpty:!0},{key:"close-rewards",valueSchema:new p(new M),omitEmpty:!0},{key:"closing-amount",valueSchema:new p(new M),omitEmpty:!0},{key:"confirmed-round",valueSchema:new p(new M),omitEmpty:!0},{key:"global-state-delta",valueSchema:new p(new xe(Ni.encodingSchema)),omitEmpty:!0},{key:"inner-txns",valueSchema:new p(new xe(lr.encodingSchema)),omitEmpty:!0},{key:"local-state-delta",valueSchema:new p(new xe(_s.encodingSchema)),omitEmpty:!0},{key:"logs",valueSchema:new p(new xe(new Me)),omitEmpty:!0},{key:"receiver-rewards",valueSchema:new p(new M),omitEmpty:!0},{key:"sender-rewards",valueSchema:new p(new M),omitEmpty:!0})),this.encodingSchemaValue}constructor({poolError:e,txn:t,applicationIndex:r,assetClosingAmount:i,assetIndex:o,closeRewards:s,closingAmount:h,confirmedRound:m,globalStateDelta:u,innerTxns:v,localStateDelta:T,logs:B,receiverRewards:W,senderRewards:U}){this.poolError=e,this.txn=t,this.applicationIndex=typeof r>"u"?void 0:ce(r),this.assetClosingAmount=typeof i>"u"?void 0:ce(i),this.assetIndex=typeof o>"u"?void 0:ce(o),this.closeRewards=typeof s>"u"?void 0:ce(s),this.closingAmount=typeof h>"u"?void 0:ce(h),this.confirmedRound=typeof m>"u"?void 0:ce(m),this.globalStateDelta=u,this.innerTxns=v,this.localStateDelta=T,this.logs=B,this.receiverRewards=typeof W>"u"?void 0:ce(W),this.senderRewards=typeof U>"u"?void 0:ce(U)}getEncodingSchema(){return lr.encodingSchema}toEncodingData(){return new Map([["pool-error",this.poolError],["txn",this.txn.toEncodingData()],["application-index",this.applicationIndex],["asset-closing-amount",this.assetClosingAmount],["asset-index",this.assetIndex],["close-rewards",this.closeRewards],["closing-amount",this.closingAmount],["confirmed-round",this.confirmedRound],["global-state-delta",typeof this.globalStateDelta<"u"?this.globalStateDelta.map(e=>e.toEncodingData()):void 0],["inner-txns",typeof this.innerTxns<"u"?this.innerTxns.map(e=>e.toEncodingData()):void 0],["local-state-delta",typeof this.localStateDelta<"u"?this.localStateDelta.map(e=>e.toEncodingData()):void 0],["logs",this.logs],["receiver-rewards",this.receiverRewards],["sender-rewards",this.senderRewards]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded PendingTransactionResponse: ${e}`);return new lr({poolError:e.get("pool-error"),txn:$t.fromEncodingData(e.get("txn")??new Map),applicationIndex:e.get("application-index"),assetClosingAmount:e.get("asset-closing-amount"),assetIndex:e.get("asset-index"),closeRewards:e.get("close-rewards"),closingAmount:e.get("closing-amount"),confirmedRound:e.get("confirmed-round"),globalStateDelta:typeof e.get("global-state-delta")<"u"?e.get("global-state-delta").map(t=>Ni.fromEncodingData(t)):void 0,innerTxns:typeof e.get("inner-txns")<"u"?e.get("inner-txns").map(t=>lr.fromEncodingData(t)):void 0,localStateDelta:typeof e.get("local-state-delta")<"u"?e.get("local-state-delta").map(t=>_s.fromEncodingData(t)):void 0,logs:e.get("logs"),receiverRewards:e.get("receiver-rewards"),senderRewards:e.get("sender-rewards")})}}class uo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"top-transactions",valueSchema:new xe($t.encodingSchema),omitEmpty:!0},{key:"total-transactions",valueSchema:new M,omitEmpty:!0})),this.encodingSchemaValue}constructor({topTransactions:e,totalTransactions:t}){this.topTransactions=e,this.totalTransactions=Re(t)}getEncodingSchema(){return uo.encodingSchema}toEncodingData(){return new Map([["top-transactions",this.topTransactions.map(e=>e.toEncodingData())],["total-transactions",this.totalTransactions]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded PendingTransactionsResponse: ${e}`);return new uo({topTransactions:(e.get("top-transactions")??[]).map(t=>$t.fromEncodingData(t)),totalTransactions:e.get("total-transactions")})}}class qs{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"txId",valueSchema:new me,omitEmpty:!0})),this.encodingSchemaValue}constructor({txid:e}){this.txid=e}getEncodingSchema(){return qs.encodingSchema}toEncodingData(){return new Map([["txId",this.txid]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded PostTransactionsResponse: ${e}`);return new qs({txid:e.get("txId")})}}class lo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"new-value",valueSchema:Cn.encodingSchema,omitEmpty:!0},{key:"slot",valueSchema:new M,omitEmpty:!0})),this.encodingSchemaValue}constructor({newValue:e,slot:t}){this.newValue=e,this.slot=Re(t)}getEncodingSchema(){return lo.encodingSchema}toEncodingData(){return new Map([["new-value",this.newValue.toEncodingData()],["slot",this.slot]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ScratchChange: ${e}`);return new lo({newValue:Cn.fromEncodingData(e.get("new-value")??new Map),slot:e.get("slot")})}}class fo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"app-initial-states",valueSchema:new p(new xe(Xi.encodingSchema)),omitEmpty:!0})),this.encodingSchemaValue}constructor({appInitialStates:e}){this.appInitialStates=e}getEncodingSchema(){return fo.encodingSchema}toEncodingData(){return new Map([["app-initial-states",typeof this.appInitialStates<"u"?this.appInitialStates.map(e=>e.toEncodingData()):void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SimulateInitialStates: ${e}`);return new fo({appInitialStates:typeof e.get("app-initial-states")<"u"?e.get("app-initial-states").map(t=>Xi.fromEncodingData(t)):void 0})}}class go{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"txn-groups",valueSchema:new xe(Pr.encodingSchema),omitEmpty:!0},{key:"allow-empty-signatures",valueSchema:new p(new lt),omitEmpty:!0},{key:"allow-more-logging",valueSchema:new p(new lt),omitEmpty:!0},{key:"allow-unnamed-resources",valueSchema:new p(new lt),omitEmpty:!0},{key:"exec-trace-config",valueSchema:new p(Or.encodingSchema),omitEmpty:!0},{key:"extra-opcode-budget",valueSchema:new p(new M),omitEmpty:!0},{key:"fix-signers",valueSchema:new p(new lt),omitEmpty:!0},{key:"round",valueSchema:new p(new M),omitEmpty:!0})),this.encodingSchemaValue}constructor({txnGroups:e,allowEmptySignatures:t,allowMoreLogging:r,allowUnnamedResources:i,execTraceConfig:o,extraOpcodeBudget:s,fixSigners:h,round:m}){this.txnGroups=e,this.allowEmptySignatures=t,this.allowMoreLogging=r,this.allowUnnamedResources=i,this.execTraceConfig=o,this.extraOpcodeBudget=typeof s>"u"?void 0:Re(s),this.fixSigners=h,this.round=typeof m>"u"?void 0:ce(m)}getEncodingSchema(){return go.encodingSchema}toEncodingData(){return new Map([["txn-groups",this.txnGroups.map(e=>e.toEncodingData())],["allow-empty-signatures",this.allowEmptySignatures],["allow-more-logging",this.allowMoreLogging],["allow-unnamed-resources",this.allowUnnamedResources],["exec-trace-config",typeof this.execTraceConfig<"u"?this.execTraceConfig.toEncodingData():void 0],["extra-opcode-budget",this.extraOpcodeBudget],["fix-signers",this.fixSigners],["round",this.round]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SimulateRequest: ${e}`);return new go({txnGroups:(e.get("txn-groups")??[]).map(t=>Pr.fromEncodingData(t)),allowEmptySignatures:e.get("allow-empty-signatures"),allowMoreLogging:e.get("allow-more-logging"),allowUnnamedResources:e.get("allow-unnamed-resources"),execTraceConfig:typeof e.get("exec-trace-config")<"u"?Or.fromEncodingData(e.get("exec-trace-config")):void 0,extraOpcodeBudget:e.get("extra-opcode-budget"),fixSigners:e.get("fix-signers"),round:e.get("round")})}}class Pr{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"txns",valueSchema:new xe($t.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({txns:e}){this.txns=e}getEncodingSchema(){return Pr.encodingSchema}toEncodingData(){return new Map([["txns",this.txns.map(e=>e.toEncodingData())]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SimulateRequestTransactionGroup: ${e}`);return new Pr({txns:(e.get("txns")??[]).map(t=>$t.fromEncodingData(t))})}}class zs{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"last-round",valueSchema:new M,omitEmpty:!0},{key:"txn-groups",valueSchema:new xe(po.encodingSchema),omitEmpty:!0},{key:"version",valueSchema:new M,omitEmpty:!0},{key:"eval-overrides",valueSchema:new p(yo.encodingSchema),omitEmpty:!0},{key:"exec-trace-config",valueSchema:new p(Or.encodingSchema),omitEmpty:!0},{key:"initial-states",valueSchema:new p(fo.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({lastRound:e,txnGroups:t,version:r,evalOverrides:i,execTraceConfig:o,initialStates:s}){this.lastRound=ce(e),this.txnGroups=t,this.version=Re(r),this.evalOverrides=i,this.execTraceConfig=o,this.initialStates=s}getEncodingSchema(){return zs.encodingSchema}toEncodingData(){return new Map([["last-round",this.lastRound],["txn-groups",this.txnGroups.map(e=>e.toEncodingData())],["version",this.version],["eval-overrides",typeof this.evalOverrides<"u"?this.evalOverrides.toEncodingData():void 0],["exec-trace-config",typeof this.execTraceConfig<"u"?this.execTraceConfig.toEncodingData():void 0],["initial-states",typeof this.initialStates<"u"?this.initialStates.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SimulateResponse: ${e}`);return new zs({lastRound:e.get("last-round"),txnGroups:(e.get("txn-groups")??[]).map(t=>po.fromEncodingData(t)),version:e.get("version"),evalOverrides:typeof e.get("eval-overrides")<"u"?yo.fromEncodingData(e.get("eval-overrides")):void 0,execTraceConfig:typeof e.get("exec-trace-config")<"u"?Or.fromEncodingData(e.get("exec-trace-config")):void 0,initialStates:typeof e.get("initial-states")<"u"?fo.fromEncodingData(e.get("initial-states")):void 0})}}class Or{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"enable",valueSchema:new p(new lt),omitEmpty:!0},{key:"scratch-change",valueSchema:new p(new lt),omitEmpty:!0},{key:"stack-change",valueSchema:new p(new lt),omitEmpty:!0},{key:"state-change",valueSchema:new p(new lt),omitEmpty:!0})),this.encodingSchemaValue}constructor({enable:e,scratchChange:t,stackChange:r,stateChange:i}){this.enable=e,this.scratchChange=t,this.stackChange=r,this.stateChange=i}getEncodingSchema(){return Or.encodingSchema}toEncodingData(){return new Map([["enable",this.enable],["scratch-change",this.scratchChange],["stack-change",this.stackChange],["state-change",this.stateChange]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SimulateTraceConfig: ${e}`);return new Or({enable:e.get("enable"),scratchChange:e.get("scratch-change"),stackChange:e.get("stack-change"),stateChange:e.get("state-change")})}}class po{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"txn-results",valueSchema:new xe(mo.encodingSchema),omitEmpty:!0},{key:"app-budget-added",valueSchema:new p(new M),omitEmpty:!0},{key:"app-budget-consumed",valueSchema:new p(new M),omitEmpty:!0},{key:"failed-at",valueSchema:new p(new xe(new M)),omitEmpty:!0},{key:"failure-message",valueSchema:new p(new me),omitEmpty:!0},{key:"unnamed-resources-accessed",valueSchema:new p(Br.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({txnResults:e,appBudgetAdded:t,appBudgetConsumed:r,failedAt:i,failureMessage:o,unnamedResourcesAccessed:s}){this.txnResults=e,this.appBudgetAdded=typeof t>"u"?void 0:Re(t),this.appBudgetConsumed=typeof r>"u"?void 0:Re(r),this.failedAt=typeof i>"u"?void 0:i.map(Re),this.failureMessage=o,this.unnamedResourcesAccessed=s}getEncodingSchema(){return po.encodingSchema}toEncodingData(){return new Map([["txn-results",this.txnResults.map(e=>e.toEncodingData())],["app-budget-added",this.appBudgetAdded],["app-budget-consumed",this.appBudgetConsumed],["failed-at",this.failedAt],["failure-message",this.failureMessage],["unnamed-resources-accessed",typeof this.unnamedResourcesAccessed<"u"?this.unnamedResourcesAccessed.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SimulateTransactionGroupResult: ${e}`);return new po({txnResults:(e.get("txn-results")??[]).map(t=>mo.fromEncodingData(t)),appBudgetAdded:e.get("app-budget-added"),appBudgetConsumed:e.get("app-budget-consumed"),failedAt:e.get("failed-at"),failureMessage:e.get("failure-message"),unnamedResourcesAccessed:typeof e.get("unnamed-resources-accessed")<"u"?Br.fromEncodingData(e.get("unnamed-resources-accessed")):void 0})}}class mo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"txn-result",valueSchema:lr.encodingSchema,omitEmpty:!0},{key:"app-budget-consumed",valueSchema:new p(new M),omitEmpty:!0},{key:"exec-trace",valueSchema:new p(Ar.encodingSchema),omitEmpty:!0},{key:"fixed-signer",valueSchema:new p(new me),omitEmpty:!0},{key:"logic-sig-budget-consumed",valueSchema:new p(new M),omitEmpty:!0},{key:"unnamed-resources-accessed",valueSchema:new p(Br.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({txnResult:e,appBudgetConsumed:t,execTrace:r,fixedSigner:i,logicSigBudgetConsumed:o,unnamedResourcesAccessed:s}){this.txnResult=e,this.appBudgetConsumed=typeof t>"u"?void 0:Re(t),this.execTrace=r,this.fixedSigner=typeof i=="string"?ot.fromString(i):i,this.logicSigBudgetConsumed=typeof o>"u"?void 0:Re(o),this.unnamedResourcesAccessed=s}getEncodingSchema(){return mo.encodingSchema}toEncodingData(){return new Map([["txn-result",this.txnResult.toEncodingData()],["app-budget-consumed",this.appBudgetConsumed],["exec-trace",typeof this.execTrace<"u"?this.execTrace.toEncodingData():void 0],["fixed-signer",typeof this.fixedSigner<"u"?this.fixedSigner.toString():void 0],["logic-sig-budget-consumed",this.logicSigBudgetConsumed],["unnamed-resources-accessed",typeof this.unnamedResourcesAccessed<"u"?this.unnamedResourcesAccessed.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SimulateTransactionResult: ${e}`);return new mo({txnResult:lr.fromEncodingData(e.get("txn-result")??new Map),appBudgetConsumed:e.get("app-budget-consumed"),execTrace:typeof e.get("exec-trace")<"u"?Ar.fromEncodingData(e.get("exec-trace")):void 0,fixedSigner:e.get("fixed-signer"),logicSigBudgetConsumed:e.get("logic-sig-budget-consumed"),unnamedResourcesAccessed:typeof e.get("unnamed-resources-accessed")<"u"?Br.fromEncodingData(e.get("unnamed-resources-accessed")):void 0})}}class Br{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"accounts",valueSchema:new p(new xe(new me)),omitEmpty:!0},{key:"app-locals",valueSchema:new p(new xe(Zi.encodingSchema)),omitEmpty:!0},{key:"apps",valueSchema:new p(new xe(new M)),omitEmpty:!0},{key:"asset-holdings",valueSchema:new p(new xe(to.encodingSchema)),omitEmpty:!0},{key:"assets",valueSchema:new p(new xe(new M)),omitEmpty:!0},{key:"boxes",valueSchema:new p(new xe(ro.encodingSchema)),omitEmpty:!0},{key:"extra-box-refs",valueSchema:new p(new M),omitEmpty:!0})),this.encodingSchemaValue}constructor({accounts:e,appLocals:t,apps:r,assetHoldings:i,assets:o,boxes:s,extraBoxRefs:h}){this.accounts=typeof e<"u"?e.map(m=>typeof m=="string"?ot.fromString(m):m):void 0,this.appLocals=t,this.apps=typeof r>"u"?void 0:r.map(ce),this.assetHoldings=i,this.assets=typeof o>"u"?void 0:o.map(ce),this.boxes=s,this.extraBoxRefs=typeof h>"u"?void 0:Re(h)}getEncodingSchema(){return Br.encodingSchema}toEncodingData(){return new Map([["accounts",typeof this.accounts<"u"?this.accounts.map(e=>e.toString()):void 0],["app-locals",typeof this.appLocals<"u"?this.appLocals.map(e=>e.toEncodingData()):void 0],["apps",this.apps],["asset-holdings",typeof this.assetHoldings<"u"?this.assetHoldings.map(e=>e.toEncodingData()):void 0],["assets",this.assets],["boxes",typeof this.boxes<"u"?this.boxes.map(e=>e.toEncodingData()):void 0],["extra-box-refs",this.extraBoxRefs]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SimulateUnnamedResourcesAccessed: ${e}`);return new Br({accounts:e.get("accounts"),appLocals:typeof e.get("app-locals")<"u"?e.get("app-locals").map(t=>Zi.fromEncodingData(t)):void 0,apps:e.get("apps"),assetHoldings:typeof e.get("asset-holdings")<"u"?e.get("asset-holdings").map(t=>to.fromEncodingData(t)):void 0,assets:e.get("assets"),boxes:typeof e.get("boxes")<"u"?e.get("boxes").map(t=>ro.fromEncodingData(t)):void 0,extraBoxRefs:e.get("extra-box-refs")})}}class yo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"allow-empty-signatures",valueSchema:new p(new lt),omitEmpty:!0},{key:"allow-unnamed-resources",valueSchema:new p(new lt),omitEmpty:!0},{key:"extra-opcode-budget",valueSchema:new p(new M),omitEmpty:!0},{key:"fix-signers",valueSchema:new p(new lt),omitEmpty:!0},{key:"max-log-calls",valueSchema:new p(new M),omitEmpty:!0},{key:"max-log-size",valueSchema:new p(new M),omitEmpty:!0})),this.encodingSchemaValue}constructor({allowEmptySignatures:e,allowUnnamedResources:t,extraOpcodeBudget:r,fixSigners:i,maxLogCalls:o,maxLogSize:s}){this.allowEmptySignatures=e,this.allowUnnamedResources=t,this.extraOpcodeBudget=typeof r>"u"?void 0:Re(r),this.fixSigners=i,this.maxLogCalls=typeof o>"u"?void 0:Re(o),this.maxLogSize=typeof s>"u"?void 0:Re(s)}getEncodingSchema(){return yo.encodingSchema}toEncodingData(){return new Map([["allow-empty-signatures",this.allowEmptySignatures],["allow-unnamed-resources",this.allowUnnamedResources],["extra-opcode-budget",this.extraOpcodeBudget],["fix-signers",this.fixSigners],["max-log-calls",this.maxLogCalls],["max-log-size",this.maxLogSize]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SimulationEvalOverrides: ${e}`);return new yo({allowEmptySignatures:e.get("allow-empty-signatures"),allowUnnamedResources:e.get("allow-unnamed-resources"),extraOpcodeBudget:e.get("extra-opcode-budget"),fixSigners:e.get("fix-signers"),maxLogCalls:e.get("max-log-calls"),maxLogSize:e.get("max-log-size")})}}class Yn{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"pc",valueSchema:new M,omitEmpty:!0},{key:"scratch-changes",valueSchema:new p(new xe(lo.encodingSchema)),omitEmpty:!0},{key:"spawned-inners",valueSchema:new p(new xe(new M)),omitEmpty:!0},{key:"stack-additions",valueSchema:new p(new xe(Cn.encodingSchema)),omitEmpty:!0},{key:"stack-pop-count",valueSchema:new p(new M),omitEmpty:!0},{key:"state-changes",valueSchema:new p(new xe(eo.encodingSchema)),omitEmpty:!0})),this.encodingSchemaValue}constructor({pc:e,scratchChanges:t,spawnedInners:r,stackAdditions:i,stackPopCount:o,stateChanges:s}){this.pc=Re(e),this.scratchChanges=t,this.spawnedInners=typeof r>"u"?void 0:r.map(Re),this.stackAdditions=i,this.stackPopCount=typeof o>"u"?void 0:Re(o),this.stateChanges=s}getEncodingSchema(){return Yn.encodingSchema}toEncodingData(){return new Map([["pc",this.pc],["scratch-changes",typeof this.scratchChanges<"u"?this.scratchChanges.map(e=>e.toEncodingData()):void 0],["spawned-inners",this.spawnedInners],["stack-additions",typeof this.stackAdditions<"u"?this.stackAdditions.map(e=>e.toEncodingData()):void 0],["stack-pop-count",this.stackPopCount],["state-changes",typeof this.stateChanges<"u"?this.stateChanges.map(e=>e.toEncodingData()):void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SimulationOpcodeTraceUnit: ${e}`);return new Yn({pc:e.get("pc"),scratchChanges:typeof e.get("scratch-changes")<"u"?e.get("scratch-changes").map(t=>lo.fromEncodingData(t)):void 0,spawnedInners:e.get("spawned-inners"),stackAdditions:typeof e.get("stack-additions")<"u"?e.get("stack-additions").map(t=>Cn.fromEncodingData(t)):void 0,stackPopCount:e.get("stack-pop-count"),stateChanges:typeof e.get("state-changes")<"u"?e.get("state-changes").map(t=>eo.fromEncodingData(t)):void 0})}}class Ar{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"approval-program-hash",valueSchema:new p(new Me),omitEmpty:!0},{key:"approval-program-trace",valueSchema:new p(new xe(Yn.encodingSchema)),omitEmpty:!0},{key:"clear-state-program-hash",valueSchema:new p(new Me),omitEmpty:!0},{key:"clear-state-program-trace",valueSchema:new p(new xe(Yn.encodingSchema)),omitEmpty:!0},{key:"clear-state-rollback",valueSchema:new p(new lt),omitEmpty:!0},{key:"clear-state-rollback-error",valueSchema:new p(new me),omitEmpty:!0},{key:"inner-trace",valueSchema:new p(new xe(Ar.encodingSchema)),omitEmpty:!0},{key:"logic-sig-hash",valueSchema:new p(new Me),omitEmpty:!0},{key:"logic-sig-trace",valueSchema:new p(new xe(Yn.encodingSchema)),omitEmpty:!0})),this.encodingSchemaValue}constructor({approvalProgramHash:e,approvalProgramTrace:t,clearStateProgramHash:r,clearStateProgramTrace:i,clearStateRollback:o,clearStateRollbackError:s,innerTrace:h,logicSigHash:m,logicSigTrace:u}){this.approvalProgramHash=typeof e=="string"?Be(e):e,this.approvalProgramTrace=t,this.clearStateProgramHash=typeof r=="string"?Be(r):r,this.clearStateProgramTrace=i,this.clearStateRollback=o,this.clearStateRollbackError=s,this.innerTrace=h,this.logicSigHash=typeof m=="string"?Be(m):m,this.logicSigTrace=u}getEncodingSchema(){return Ar.encodingSchema}toEncodingData(){return new Map([["approval-program-hash",this.approvalProgramHash],["approval-program-trace",typeof this.approvalProgramTrace<"u"?this.approvalProgramTrace.map(e=>e.toEncodingData()):void 0],["clear-state-program-hash",this.clearStateProgramHash],["clear-state-program-trace",typeof this.clearStateProgramTrace<"u"?this.clearStateProgramTrace.map(e=>e.toEncodingData()):void 0],["clear-state-rollback",this.clearStateRollback],["clear-state-rollback-error",this.clearStateRollbackError],["inner-trace",typeof this.innerTrace<"u"?this.innerTrace.map(e=>e.toEncodingData()):void 0],["logic-sig-hash",this.logicSigHash],["logic-sig-trace",typeof this.logicSigTrace<"u"?this.logicSigTrace.map(e=>e.toEncodingData()):void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SimulationTransactionExecTrace: ${e}`);return new Ar({approvalProgramHash:e.get("approval-program-hash"),approvalProgramTrace:typeof e.get("approval-program-trace")<"u"?e.get("approval-program-trace").map(t=>Yn.fromEncodingData(t)):void 0,clearStateProgramHash:e.get("clear-state-program-hash"),clearStateProgramTrace:typeof e.get("clear-state-program-trace")<"u"?e.get("clear-state-program-trace").map(t=>Yn.fromEncodingData(t)):void 0,clearStateRollback:e.get("clear-state-rollback"),clearStateRollbackError:e.get("clear-state-rollback-error"),innerTrace:typeof e.get("inner-trace")<"u"?e.get("inner-trace").map(t=>Ar.fromEncodingData(t)):void 0,logicSigHash:e.get("logic-sig-hash"),logicSigTrace:typeof e.get("logic-sig-trace")<"u"?e.get("logic-sig-trace").map(t=>Yn.fromEncodingData(t)):void 0})}}let Rd=class eu{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"Message",valueSchema:wo.encodingSchema,omitEmpty:!0},{key:"StateProof",valueSchema:new Me,omitEmpty:!0})),this.encodingSchemaValue}constructor({message:e,stateproof:t}){this.message=e,this.stateproof=typeof t=="string"?Be(t):t}getEncodingSchema(){return eu.encodingSchema}toEncodingData(){return new Map([["Message",this.message.toEncodingData()],["StateProof",this.stateproof]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateProof: ${e}`);return new eu({message:wo.fromEncodingData(e.get("Message")??new Map),stateproof:e.get("StateProof")})}};class wo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"BlockHeadersCommitment",valueSchema:new Me,omitEmpty:!0},{key:"FirstAttestedRound",valueSchema:new M,omitEmpty:!0},{key:"LastAttestedRound",valueSchema:new M,omitEmpty:!0},{key:"LnProvenWeight",valueSchema:new M,omitEmpty:!0},{key:"VotersCommitment",valueSchema:new Me,omitEmpty:!0})),this.encodingSchemaValue}constructor({blockheaderscommitment:e,firstattestedround:t,lastattestedround:r,lnprovenweight:i,voterscommitment:o}){this.blockheaderscommitment=typeof e=="string"?Be(e):e,this.firstattestedround=ce(t),this.lastattestedround=ce(r),this.lnprovenweight=ce(i),this.voterscommitment=typeof o=="string"?Be(o):o}getEncodingSchema(){return wo.encodingSchema}toEncodingData(){return new Map([["BlockHeadersCommitment",this.blockheaderscommitment],["FirstAttestedRound",this.firstattestedround],["LastAttestedRound",this.lastattestedround],["LnProvenWeight",this.lnprovenweight],["VotersCommitment",this.voterscommitment]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateProofMessage: ${e}`);return new wo({blockheaderscommitment:e.get("BlockHeadersCommitment"),firstattestedround:e.get("FirstAttestedRound"),lastattestedround:e.get("LastAttestedRound"),lnprovenweight:e.get("LnProvenWeight"),voterscommitment:e.get("VotersCommitment")})}}class Hs{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"current_round",valueSchema:new M,omitEmpty:!0},{key:"online-money",valueSchema:new M,omitEmpty:!0},{key:"total-money",valueSchema:new M,omitEmpty:!0})),this.encodingSchemaValue}constructor({currentRound:e,onlineMoney:t,totalMoney:r}){this.currentRound=ce(e),this.onlineMoney=ce(t),this.totalMoney=ce(r)}getEncodingSchema(){return Hs.encodingSchema}toEncodingData(){return new Map([["current_round",this.currentRound],["online-money",this.onlineMoney],["total-money",this.totalMoney]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SupplyResponse: ${e}`);return new Hs({currentRound:e.get("current_round"),onlineMoney:e.get("online-money"),totalMoney:e.get("total-money")})}}let Ws=class tu{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"key",valueSchema:new Me,omitEmpty:!0},{key:"value",valueSchema:Kr.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({key:e,value:t}){this.key=typeof e=="string"?Be(e):e,this.value=t}getEncodingSchema(){return tu.encodingSchema}toEncodingData(){return new Map([["key",this.key],["value",this.value.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TealKeyValue: ${e}`);return new tu({key:e.get("key"),value:Kr.fromEncodingData(e.get("value")??new Map)})}},Kr=class nu{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"bytes",valueSchema:new Me,omitEmpty:!0},{key:"type",valueSchema:new M,omitEmpty:!0},{key:"uint",valueSchema:new M,omitEmpty:!0})),this.encodingSchemaValue}constructor({bytes:e,type:t,uint:r}){this.bytes=typeof e=="string"?Be(e):e,this.type=Re(t),this.uint=ce(r)}getEncodingSchema(){return nu.encodingSchema}toEncodingData(){return new Map([["bytes",this.bytes],["type",this.type],["uint",this.uint]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TealValue: ${e}`);return new nu({bytes:e.get("bytes"),type:e.get("type"),uint:e.get("uint")})}};class js{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"Deltas",valueSchema:new xe(co.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({deltas:e}){this.deltas=e}getEncodingSchema(){return js.encodingSchema}toEncodingData(){return new Map([["Deltas",this.deltas.map(e=>e.toEncodingData())]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionGroupLedgerStateDeltasForRoundResponse: ${e}`);return new js({deltas:(e.get("Deltas")??[]).map(t=>co.fromEncodingData(t))})}}class Gs{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"consensus-version",valueSchema:new me,omitEmpty:!0},{key:"fee",valueSchema:new M,omitEmpty:!0},{key:"genesis-hash",valueSchema:new Me,omitEmpty:!0},{key:"genesis-id",valueSchema:new me,omitEmpty:!0},{key:"last-round",valueSchema:new M,omitEmpty:!0},{key:"min-fee",valueSchema:new M,omitEmpty:!0})),this.encodingSchemaValue}constructor({consensusVersion:e,fee:t,genesisHash:r,genesisId:i,lastRound:o,minFee:s}){this.consensusVersion=e,this.fee=ce(t),this.genesisHash=typeof r=="string"?Be(r):r,this.genesisId=i,this.lastRound=ce(o),this.minFee=ce(s)}getEncodingSchema(){return Gs.encodingSchema}toEncodingData(){return new Map([["consensus-version",this.consensusVersion],["fee",this.fee],["genesis-hash",this.genesisHash],["genesis-id",this.genesisId],["last-round",this.lastRound],["min-fee",this.minFee]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionParametersResponse: ${e}`);return new Gs({consensusVersion:e.get("consensus-version"),fee:e.get("fee"),genesisHash:e.get("genesis-hash"),genesisId:e.get("genesis-id"),lastRound:e.get("last-round"),minFee:e.get("min-fee")})}}class Ks{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"idx",valueSchema:new M,omitEmpty:!0},{key:"proof",valueSchema:new Me,omitEmpty:!0},{key:"stibhash",valueSchema:new Me,omitEmpty:!0},{key:"treedepth",valueSchema:new M,omitEmpty:!0},{key:"hashtype",valueSchema:new p(new me),omitEmpty:!0})),this.encodingSchemaValue}constructor({idx:e,proof:t,stibhash:r,treedepth:i,hashtype:o}){this.idx=Re(e),this.proof=typeof t=="string"?Be(t):t,this.stibhash=typeof r=="string"?Be(r):r,this.treedepth=Re(i),this.hashtype=o}getEncodingSchema(){return Ks.encodingSchema}toEncodingData(){return new Map([["idx",this.idx],["proof",this.proof],["stibhash",this.stibhash],["treedepth",this.treedepth],["hashtype",this.hashtype]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionProofResponse: ${e}`);return new Ks({idx:e.get("idx"),proof:e.get("proof"),stibhash:e.get("stibhash"),treedepth:e.get("treedepth"),hashtype:e.get("hashtype")})}}class Js{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"build",valueSchema:io.encodingSchema,omitEmpty:!0},{key:"genesis_hash_b64",valueSchema:new Me,omitEmpty:!0},{key:"genesis_id",valueSchema:new me,omitEmpty:!0},{key:"versions",valueSchema:new xe(new me),omitEmpty:!0})),this.encodingSchemaValue}constructor({build:e,genesisHashB64:t,genesisId:r,versions:i}){this.build=e,this.genesisHashB64=typeof t=="string"?Be(t):t,this.genesisId=r,this.versions=i}getEncodingSchema(){return Js.encodingSchema}toEncodingData(){return new Map([["build",this.build.toEncodingData()],["genesis_hash_b64",this.genesisHashB64],["genesis_id",this.genesisId],["versions",this.versions]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Version: ${e}`);return new Js({build:io.fromEncodingData(e.get("build")??new Map),genesisHashB64:e.get("genesis_hash_b64"),genesisId:e.get("genesis_id"),versions:e.get("versions")})}}const bv=Object.freeze(Object.defineProperty({__proto__:null,Account:La,AccountApplicationResponse:Is,AccountAssetHolding:Ji,AccountAssetResponse:Rs,AccountAssetsInformationResponse:$a,AccountParticipation:Bh,AccountStateDelta:_s,AppCallLogs:Yi,Application:Oi,ApplicationInitialStates:Xi,ApplicationKVStorage:Jn,ApplicationLocalReference:Zi,ApplicationLocalState:Ps,ApplicationParams:Qi,ApplicationStateOperation:eo,ApplicationStateSchema:$n,Asset:Fa,AssetHolding:Bi,AssetHoldingReference:to,AssetParams:Ci,AvmKeyValue:no,AvmValue:Cn,BlockHashResponse:Os,BlockLogsResponse:qa,BlockResponse:Bs,BlockTxidsResponse:Cs,Box:Dd,BoxDescriptor:Wh,BoxReference:ro,BoxesResponse:Td,BuildVersion:io,CompileResponse:Ns,DisassembleResponse:Vs,DryrunRequest:Us,DryrunResponse:Ls,DryrunSource:oo,DryrunState:kr,DryrunTxnResult:so,ErrorResponse:Sv,EvalDelta:Jh,EvalDeltaKeyValue:Ni,Genesis:Ev,GenesisAllocation:ao,GetBlockTimeStampOffsetResponse:$s,GetSyncRoundResponse:Fs,LedgerStateDeltaForTransactionGroup:co,LightBlockHeaderProof:Id,NodeStatusResponse:ho,PendingTransactionResponse:lr,PendingTransactionsResponse:uo,PostTransactionsResponse:qs,ScratchChange:lo,SimulateInitialStates:fo,SimulateRequest:go,SimulateRequestTransactionGroup:Pr,SimulateResponse:zs,SimulateTraceConfig:Or,SimulateTransactionGroupResult:po,SimulateTransactionResult:mo,SimulateUnnamedResourcesAccessed:Br,SimulationEvalOverrides:yo,SimulationOpcodeTraceUnit:Yn,SimulationTransactionExecTrace:Ar,StateProof:Rd,StateProofMessage:wo,SupplyResponse:Hs,TealKeyValue:Ws,TealValue:Kr,TransactionGroupLedgerStateDeltasForRoundResponse:js,TransactionParametersResponse:Gs,TransactionProofResponse:Ks,Version:Js},Symbol.toStringTag,{value:"Module"}));class Ze{constructor(e){this.c=e,this.query={}}executeRequest(e,t){return this.c.get({relativePath:this.path(),query:this.query,requestHeaders:e,customOptions:t})}async do(e,t){const r=await this.executeRequest(e,t);return this.prepare(r)}async doRaw(e,t){return(await this.executeRequest(e,t)).body}}class xv extends Ze{constructor(e,t){super(e),this.account=t.toString()}path(){return`/v2/accounts/${this.account}`}exclude(e){return this.query.exclude=e,this}prepare(e){return pt(e.getJSONText(),La)}}class kv extends Ze{constructor(e,t,r){super(e),this.account=t.toString(),this.assetID=BigInt(r)}path(){return`/v2/accounts/${this.account}/assets/${this.assetID}`}prepare(e){return pt(e.getJSONText(),Rs)}}class Av extends Ze{constructor(e,t,r){super(e),this.account=t.toString(),this.applicationID=BigInt(r)}path(){return`/v2/accounts/${this.account}/applications/${this.applicationID}`}prepare(e){return pt(e.getJSONText(),Is)}}let Mv=class extends Ze{constructor(e,t){super(e),this.round=BigInt(t),this.query={format:"msgpack"}}path(){return`/v2/blocks/${this.round}`}headerOnly(e){return this.query["header-only"]=e,this}prepare(e){return Kt(e.body,Bs)}};function _d(n={}){let e=n;return Object.keys(e).every(t=>t.toLowerCase()!=="content-type")&&(e={...n},e["Content-Type"]="text/plain"),e}class Dv extends Ze{constructor(e,t){super(e),this.source=t}path(){return"/v2/teal/compile"}sourcemap(e=!0){return this.query.sourcemap=e,this}executeRequest(e,t){const r=_d(e);return this.c.post({relativePath:this.path(),data:nr(this.source),query:this.query,requestHeaders:r,customOptions:t})}prepare(e){return pt(e.getJSONText(),Ns)}}class Tv extends Ze{constructor(e,t){super(e),this.blob=Nn(t)}path(){return"/v2/teal/dryrun"}executeRequest(e,t){const r=_d(e);return this.c.post({relativePath:this.path(),data:this.blob,requestHeaders:r,customOptions:t})}prepare(e){return pt(e.getJSONText(),Ls)}}class Iv extends Ze{path(){return"/genesis"}prepare(e){return e.getJSONText()}}class Rv extends Ze{constructor(e,t){super(e),this.index=BigInt(t)}path(){return`/v2/assets/${this.index}`}prepare(e){return pt(e.getJSONText(),Fa)}}class _v extends Ze{constructor(e,t){super(e),this.index=BigInt(t)}path(){return`/v2/applications/${this.index}`}prepare(e){return pt(e.getJSONText(),Oi)}}class Pv extends Ze{constructor(e,t){super(e),this.round=BigInt(t)}path(){return`/v2/blocks/${this.round}/hash`}prepare(e){return pt(e.getJSONText(),Os)}}class Ov extends Ze{constructor(e,t){super(e),this.round=BigInt(t)}path(){return`/v2/blocks/${this.round}/txids`}prepare(e){return pt(e.getJSONText(),Cs)}}class Bv extends Ze{constructor(e,t,r){super(e),this.index=BigInt(t);const i=un(r);this.query.name=encodeURI(`b64:${i}`)}path(){return`/v2/applications/${this.index}/box`}prepare(e){return pt(e.getJSONText(),Dd)}}class Cv extends Ze{constructor(e,t){super(e),this.index=BigInt(t),this.query.max=0}path(){return`/v2/applications/${this.index}/boxes`}max(e){return this.query.max=e,this}prepare(e){return pt(e.getJSONText(),Td)}}let Nv=class extends Ze{path(){return"/health"}prepare(e){}};class Vv extends Ze{constructor(e,t){super(e),this.txid=t,this.query.format="msgpack"}prepare(e){return Kt(e.body,lr)}path(){return`/v2/transactions/pending/${this.txid}`}max(e){return this.query.max=e,this}}class Uv extends Ze{constructor(e){super(e),this.query.format="msgpack"}path(){return"/v2/transactions/pending"}prepare(e){return Kt(e.body,uo)}max(e){return this.query.max=e,this}}class Lv extends Ze{constructor(e,t){super(e),this.address=t.toString(),this.query.format="msgpack"}prepare(e){return Kt(e.body,uo)}path(){return`/v2/accounts/${this.address}/transactions/pending`}max(e){return this.query.max=e,this}}class $v extends Ze{constructor(e,t,r){super(e),this.txID=r,this.round=BigInt(t)}path(){return`/v2/blocks/${this.round}/transactions/${this.txID}/proof`}hashType(e){return this.query.hashtype=e,this}prepare(e){return pt(e.getJSONText(),Ks)}}function Fv(n={}){let e=n;return Object.keys(e).every(t=>t.toLowerCase()!=="content-type")&&(e={...n},e["Content-Type"]="application/x-binary"),e}function Ll(n){return n&&n.byteLength!==void 0}class qv extends Ze{constructor(e,t){super(e);let r=t;if(Array.isArray(t)){if(!t.every(Ll))throw new TypeError("Array elements must be byte arrays");r=cn(...t)}else if(!Ll(r))throw new TypeError("Argument must be byte array");this.txnBytesToPost=r}path(){return"/v2/transactions"}executeRequest(e,t){const r=Fv(e);return this.c.post({relativePath:this.path(),data:this.txnBytesToPost,requestHeaders:r,customOptions:t})}prepare(e){return pt(e.getJSONText(),qs)}}class zv extends Ze{path(){return"/v2/status"}prepare(e){return pt(e.getJSONText(),ho)}}class Hv extends Ze{constructor(e,t){super(e),this.round=BigInt(t)}path(){return`/v2/status/wait-for-block-after/${this.round}`}prepare(e){return pt(e.getJSONText(),ho)}}class Wv extends Ze{path(){return"/v2/transactions/params"}prepare(e){const t=pt(e.getJSONText(),Gs);return{flatFee:!1,fee:t.fee,firstValid:t.lastRound,lastValid:t.lastRound+BigInt(1e3),genesisID:t.genesisId,genesisHash:t.genesisHash,minFee:t.minFee,consensusVersion:t.consensusVersion}}}class jv extends Ze{path(){return"/v2/ledger/supply"}prepare(e){return pt(e.getJSONText(),Hs)}}class Gv extends Ze{path(){return"/versions"}prepare(e){return pt(e.getJSONText(),Js)}}class Kv extends Ze{constructor(e,t){super(e),this.round=BigInt(t)}path(){return`/v2/blocks/${this.round}/lightheader/proof`}prepare(e){return pt(e.getJSONText(),Id)}}class Jv extends Ze{constructor(e,t){super(e),this.round=BigInt(t)}path(){return`/v2/stateproofs/${this.round}`}prepare(e){return pt(e.getJSONText(),Rd)}}class Yv extends Ze{constructor(e,t){super(e),this.round=BigInt(t)}path(){return`/v2/ledger/sync/${this.round}`}executeRequest(e,t){return this.c.post({relativePath:this.path(),data:null,requestHeaders:e,customOptions:t})}prepare(e){}}class Xv extends Ze{path(){return"/v2/ledger/sync"}prepare(e){return pt(e.getJSONText(),Fs)}}class Zv extends Ze{constructor(e,t){super(e),this.offset=BigInt(t)}path(){return`/v2/devmode/blocks/offset/${this.offset}`}executeRequest(e,t){return this.c.post({relativePath:this.path(),data:null,requestHeaders:e,customOptions:t})}prepare(e){}}class Qv extends Ze{path(){return"/v2/devmode/blocks/offset"}prepare(e){return pt(e.getJSONText(),$s)}}function eS(n={}){let e=n;return Object.keys(e).every(t=>t.toLowerCase()!=="content-type")&&(e={...n},e["Content-Type"]="text/plain"),e}class tS extends Ze{constructor(e,t){super(e),this.source=t}path(){return"/v2/teal/disassemble"}executeRequest(e,t){const r=eS(e);return this.c.post({relativePath:this.path(),data:nr(this.source),query:this.query,requestHeaders:r,customOptions:t})}prepare(e){return pt(e.getJSONText(),Vs)}}function nS(n={}){let e=n;return Object.keys(e).every(t=>t.toLowerCase()!=="content-type")&&(e={...n},e["Content-Type"]="application/msgpack"),e}class rS extends Ze{constructor(e,t){super(e),this.query.format="msgpack",this.requestBytes=Nn(t)}path(){return"/v2/transactions/simulate"}executeRequest(e,t){const r=nS(e);return this.c.post({relativePath:this.path(),data:this.requestBytes,query:this.query,requestHeaders:r,customOptions:t})}prepare(e){return Kt(e.body,zs)}}class iS extends Ze{path(){return"/ready"}prepare(e){}}class oS extends Ze{path(){return"/v2/ledger/sync"}executeRequest(e,t){return this.c.delete({relativePath:this.path(),data:void 0,requestHeaders:e,customOptions:t})}prepare(e){}}class sS extends Ze{constructor(e,t){super(e),this.id=t,this.query={format:"msgpack"}}path(){return`/v2/deltas/txn/group/${this.id}`}prepare(e){return Kt(e.body,yr)}}class aS extends Ze{constructor(e,t){super(e),this.round=BigInt(t),this.query={format:"msgpack"}}path(){return`/v2/deltas/${this.round}`}prepare(e){return Kt(e.body,yr)}}class cS extends Ze{constructor(e,t){super(e),this.round=BigInt(t),this.query={format:"msgpack"}}path(){return`/v2/deltas/${this.round}/txn/group`}prepare(e){return Kt(e.body,js)}}class hS extends Su{constructor(e,t,r,i={}){super("X-Algo-API-Token",e,t,r,i)}healthCheck(){return new Nv(this.c)}versionsCheck(){return new Gv(this.c)}sendRawTransaction(e){return new qv(this.c,e)}accountInformation(e){return new xv(this.c,e)}accountAssetInformation(e,t){return new kv(this.c,e,t)}accountApplicationInformation(e,t){return new Av(this.c,e,t)}block(e){return new Mv(this.c,e)}getBlockHash(e){return new Pv(this.c,e)}getBlockTxids(e){return new Ov(this.c,e)}pendingTransactionInformation(e){return new Vv(this.c,e)}pendingTransactionsInformation(){return new Uv(this.c)}pendingTransactionByAddress(e){return new Lv(this.c,e)}status(){return new zv(this.c)}statusAfterBlock(e){return new Hv(this.c,e)}getTransactionParams(){return new Wv(this.c)}supply(){return new jv(this.c)}compile(e){return new Dv(this.c,e)}disassemble(e){return new tS(this.c,e)}dryrun(e){return new Tv(this.c,e)}getAssetByID(e){return new Rv(this.c,e)}getApplicationByID(e){return new _v(this.c,e)}getApplicationBoxByName(e,t){return new Bv(this.c,e,t)}getApplicationBoxes(e){return new Cv(this.c,e)}genesis(){return new Iv(this.c)}getTransactionProof(e,t){return new $v(this.c,e,t)}getLightBlockHeaderProof(e){return new Kv(this.c,e)}getStateProof(e){return new Jv(this.c,e)}simulateRawTransactions(e){const t=[];if(Array.isArray(e))for(const i of e)t.push(Kt(i,$t));else t.push(Kt(e,$t));const r=new go({txnGroups:[new Pr({txns:t})]});return this.simulateTransactions(r)}simulateTransactions(e){return new rS(this.c,e)}setBlockOffsetTimestamp(e){return new Zv(this.c,e)}getBlockOffsetTimestamp(){return new Qv(this.c)}setSyncRound(e){return new Yv(this.c,e)}unsetSyncRound(){return new oS(this.c)}getSyncRound(){return new Xv(this.c)}ready(){return new iS(this.c)}getLedgerStateDeltaForTransactionGroup(e){return new sS(this.c,e)}getLedgerStateDelta(e){return new aS(this.c,e)}getTransactionGroupLedgerStateDeltasForRound(e){return new cS(this.c,e)}}class uS extends Su{constructor(e,t="http://127.0.0.1",r=7833,i={}){super("X-KMD-API-Token",e,t,r,i)}async get(e){return(await this.c.get({relativePath:e})).parseBodyAsJSON({intDecoding:an.SAFE})}async delete(e,t){return(await this.c.delete({relativePath:e,data:t})).parseBodyAsJSON({intDecoding:an.SAFE})}async post(e,t){return(await this.c.post({relativePath:e,data:t})).parseBodyAsJSON({intDecoding:an.SAFE})}async versions(){return this.get("/versions")}async listWallets(){return this.get("/v1/wallets")}async createWallet(e,t,r=new Uint8Array,i="sqlite"){const o={wallet_name:e,wallet_driver_name:i,wallet_password:t,master_derivation_key:un(r)};return this.post("/v1/wallet",o)}async initWalletHandle(e,t){const r={wallet_id:e,wallet_password:t};return this.post("/v1/wallet/init",r)}async releaseWalletHandle(e){const t={wallet_handle_token:e};return this.post("/v1/wallet/release",t)}async renewWalletHandle(e){const t={wallet_handle_token:e};return this.post("/v1/wallet/renew",t)}async renameWallet(e,t,r){const i={wallet_id:e,wallet_password:t,wallet_name:r};return this.post("/v1/wallet/rename",i)}async getWallet(e){const t={wallet_handle_token:e};return this.post("/v1/wallet/info",t)}async exportMasterDerivationKey(e,t){const r={wallet_handle_token:e,wallet_password:t},i=await this.post("/v1/master-key/export",r);return{master_derivation_key:Be(i.master_derivation_key)}}async importKey(e,t){const r={wallet_handle_token:e,private_key:un(t)};return this.post("/v1/key/import",r)}async exportKey(e,t,r){const i={wallet_handle_token:e,address:r,wallet_password:t},o=await this.post("/v1/key/export",i);return{private_key:Be(o.private_key)}}async generateKey(e){const t={wallet_handle_token:e,display_mnemonic:!1};return this.post("/v1/key",t)}async deleteKey(e,t,r){const i={wallet_handle_token:e,address:r,wallet_password:t};return this.delete("/v1/key",i)}async listKeys(e){const t={wallet_handle_token:e};return this.post("/v1/key/list",t)}async signTransaction(e,t,r){const i={wallet_handle_token:e,wallet_password:t,transaction:un(r.toByte())},o=await this.post("/v1/transaction/sign",i);return Be(o.signed_transaction)}async signTransactionWithSpecificPublicKey(e,t,r,i){const o=nr(i),s={wallet_handle_token:e,wallet_password:t,transaction:un(r.toByte()),public_key:un(o)},h=await this.post("/v1/transaction/sign",s);return Be(h.signed_transaction)}async listMultisig(e){const t={wallet_handle_token:e};return this.post("/v1/multisig/list",t)}async importMultisig(e,t,r,i){const o={wallet_handle_token:e,multisig_version:t,threshold:r,pks:i};return this.post("/v1/multisig/import",o)}async exportMultisig(e,t){const r={wallet_handle_token:e,address:t};return this.post("/v1/multisig/export",r)}async signMultisigTransaction(e,t,r,i,o){const s=nr(i),h={wallet_handle_token:e,transaction:un(r.toByte()),public_key:un(s),partial_multisig:o,wallet_password:t};return this.post("/v1/multisig/sign",h)}async deleteMultisig(e,t,r){const i={wallet_handle_token:e,address:r,wallet_password:t};return this.delete("/v1/multisig",i)}}class Cr{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"address",valueSchema:new me,omitEmpty:!0},{key:"amount",valueSchema:new M,omitEmpty:!0},{key:"amount-without-pending-rewards",valueSchema:new M,omitEmpty:!0},{key:"min-balance",valueSchema:new M,omitEmpty:!0},{key:"pending-rewards",valueSchema:new M,omitEmpty:!0},{key:"rewards",valueSchema:new M,omitEmpty:!0},{key:"round",valueSchema:new M,omitEmpty:!0},{key:"status",valueSchema:new me,omitEmpty:!0},{key:"total-apps-opted-in",valueSchema:new M,omitEmpty:!0},{key:"total-assets-opted-in",valueSchema:new M,omitEmpty:!0},{key:"total-box-bytes",valueSchema:new M,omitEmpty:!0},{key:"total-boxes",valueSchema:new M,omitEmpty:!0},{key:"total-created-apps",valueSchema:new M,omitEmpty:!0},{key:"total-created-assets",valueSchema:new M,omitEmpty:!0},{key:"apps-local-state",valueSchema:new p(new xe(Nr.encodingSchema)),omitEmpty:!0},{key:"apps-total-extra-pages",valueSchema:new p(new M),omitEmpty:!0},{key:"apps-total-schema",valueSchema:new p(On.encodingSchema),omitEmpty:!0},{key:"assets",valueSchema:new p(new xe(Vr.encodingSchema)),omitEmpty:!0},{key:"auth-addr",valueSchema:new p(new me),omitEmpty:!0},{key:"closed-at-round",valueSchema:new p(new M),omitEmpty:!0},{key:"created-apps",valueSchema:new p(new xe(ir.encodingSchema)),omitEmpty:!0},{key:"created-assets",valueSchema:new p(new xe(or.encodingSchema)),omitEmpty:!0},{key:"created-at-round",valueSchema:new p(new M),omitEmpty:!0},{key:"deleted",valueSchema:new p(new lt),omitEmpty:!0},{key:"incentive-eligible",valueSchema:new p(new lt),omitEmpty:!0},{key:"last-heartbeat",valueSchema:new p(new M),omitEmpty:!0},{key:"last-proposed",valueSchema:new p(new M),omitEmpty:!0},{key:"participation",valueSchema:new p(vo.encodingSchema),omitEmpty:!0},{key:"reward-base",valueSchema:new p(new M),omitEmpty:!0},{key:"sig-type",valueSchema:new p(new me),omitEmpty:!0})),this.encodingSchemaValue}constructor({address:e,amount:t,amountWithoutPendingRewards:r,minBalance:i,pendingRewards:o,rewards:s,round:h,status:m,totalAppsOptedIn:u,totalAssetsOptedIn:v,totalBoxBytes:T,totalBoxes:B,totalCreatedApps:W,totalCreatedAssets:U,appsLocalState:ne,appsTotalExtraPages:E,appsTotalSchema:C,assets:N,authAddr:$,closedAtRound:re,createdApps:ue,createdAssets:I,createdAtRound:Y,deleted:Z,incentiveEligible:ge,lastHeartbeat:S,lastProposed:a,participation:f,rewardBase:g,sigType:x}){this.address=e,this.amount=ce(t),this.amountWithoutPendingRewards=ce(r),this.minBalance=Re(i),this.pendingRewards=ce(o),this.rewards=ce(s),this.round=ce(h),this.status=m,this.totalAppsOptedIn=Re(u),this.totalAssetsOptedIn=Re(v),this.totalBoxBytes=Re(T),this.totalBoxes=Re(B),this.totalCreatedApps=Re(W),this.totalCreatedAssets=Re(U),this.appsLocalState=ne,this.appsTotalExtraPages=typeof E>"u"?void 0:Re(E),this.appsTotalSchema=C,this.assets=N,this.authAddr=typeof $=="string"?ot.fromString($):$,this.closedAtRound=typeof re>"u"?void 0:ce(re),this.createdApps=ue,this.createdAssets=I,this.createdAtRound=typeof Y>"u"?void 0:ce(Y),this.deleted=Z,this.incentiveEligible=ge,this.lastHeartbeat=typeof S>"u"?void 0:Re(S),this.lastProposed=typeof a>"u"?void 0:Re(a),this.participation=f,this.rewardBase=typeof g>"u"?void 0:ce(g),this.sigType=x}getEncodingSchema(){return Cr.encodingSchema}toEncodingData(){return new Map([["address",this.address],["amount",this.amount],["amount-without-pending-rewards",this.amountWithoutPendingRewards],["min-balance",this.minBalance],["pending-rewards",this.pendingRewards],["rewards",this.rewards],["round",this.round],["status",this.status],["total-apps-opted-in",this.totalAppsOptedIn],["total-assets-opted-in",this.totalAssetsOptedIn],["total-box-bytes",this.totalBoxBytes],["total-boxes",this.totalBoxes],["total-created-apps",this.totalCreatedApps],["total-created-assets",this.totalCreatedAssets],["apps-local-state",typeof this.appsLocalState<"u"?this.appsLocalState.map(e=>e.toEncodingData()):void 0],["apps-total-extra-pages",this.appsTotalExtraPages],["apps-total-schema",typeof this.appsTotalSchema<"u"?this.appsTotalSchema.toEncodingData():void 0],["assets",typeof this.assets<"u"?this.assets.map(e=>e.toEncodingData()):void 0],["auth-addr",typeof this.authAddr<"u"?this.authAddr.toString():void 0],["closed-at-round",this.closedAtRound],["created-apps",typeof this.createdApps<"u"?this.createdApps.map(e=>e.toEncodingData()):void 0],["created-assets",typeof this.createdAssets<"u"?this.createdAssets.map(e=>e.toEncodingData()):void 0],["created-at-round",this.createdAtRound],["deleted",this.deleted],["incentive-eligible",this.incentiveEligible],["last-heartbeat",this.lastHeartbeat],["last-proposed",this.lastProposed],["participation",typeof this.participation<"u"?this.participation.toEncodingData():void 0],["reward-base",this.rewardBase],["sig-type",this.sigType]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Account: ${e}`);return new Cr({address:e.get("address"),amount:e.get("amount"),amountWithoutPendingRewards:e.get("amount-without-pending-rewards"),minBalance:e.get("min-balance"),pendingRewards:e.get("pending-rewards"),rewards:e.get("rewards"),round:e.get("round"),status:e.get("status"),totalAppsOptedIn:e.get("total-apps-opted-in"),totalAssetsOptedIn:e.get("total-assets-opted-in"),totalBoxBytes:e.get("total-box-bytes"),totalBoxes:e.get("total-boxes"),totalCreatedApps:e.get("total-created-apps"),totalCreatedAssets:e.get("total-created-assets"),appsLocalState:typeof e.get("apps-local-state")<"u"?e.get("apps-local-state").map(t=>Nr.fromEncodingData(t)):void 0,appsTotalExtraPages:e.get("apps-total-extra-pages"),appsTotalSchema:typeof e.get("apps-total-schema")<"u"?On.fromEncodingData(e.get("apps-total-schema")):void 0,assets:typeof e.get("assets")<"u"?e.get("assets").map(t=>Vr.fromEncodingData(t)):void 0,authAddr:e.get("auth-addr"),closedAtRound:e.get("closed-at-round"),createdApps:typeof e.get("created-apps")<"u"?e.get("created-apps").map(t=>ir.fromEncodingData(t)):void 0,createdAssets:typeof e.get("created-assets")<"u"?e.get("created-assets").map(t=>or.fromEncodingData(t)):void 0,createdAtRound:e.get("created-at-round"),deleted:e.get("deleted"),incentiveEligible:e.get("incentive-eligible"),lastHeartbeat:e.get("last-heartbeat"),lastProposed:e.get("last-proposed"),participation:typeof e.get("participation")<"u"?vo.fromEncodingData(e.get("participation")):void 0,rewardBase:e.get("reward-base"),sigType:e.get("sig-type")})}}class vo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"selection-participation-key",valueSchema:new Me,omitEmpty:!0},{key:"vote-first-valid",valueSchema:new M,omitEmpty:!0},{key:"vote-key-dilution",valueSchema:new M,omitEmpty:!0},{key:"vote-last-valid",valueSchema:new M,omitEmpty:!0},{key:"vote-participation-key",valueSchema:new Me,omitEmpty:!0},{key:"state-proof-key",valueSchema:new p(new Me),omitEmpty:!0})),this.encodingSchemaValue}constructor({selectionParticipationKey:e,voteFirstValid:t,voteKeyDilution:r,voteLastValid:i,voteParticipationKey:o,stateProofKey:s}){this.selectionParticipationKey=typeof e=="string"?Be(e):e,this.voteFirstValid=ce(t),this.voteKeyDilution=ce(r),this.voteLastValid=ce(i),this.voteParticipationKey=typeof o=="string"?Be(o):o,this.stateProofKey=typeof s=="string"?Be(s):s}getEncodingSchema(){return vo.encodingSchema}toEncodingData(){return new Map([["selection-participation-key",this.selectionParticipationKey],["vote-first-valid",this.voteFirstValid],["vote-key-dilution",this.voteKeyDilution],["vote-last-valid",this.voteLastValid],["vote-participation-key",this.voteParticipationKey],["state-proof-key",this.stateProofKey]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountParticipation: ${e}`);return new vo({selectionParticipationKey:e.get("selection-participation-key"),voteFirstValid:e.get("vote-first-valid"),voteKeyDilution:e.get("vote-key-dilution"),voteLastValid:e.get("vote-last-valid"),voteParticipationKey:e.get("vote-participation-key"),stateProofKey:e.get("state-proof-key")})}}class Ys{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"account",valueSchema:Cr.encodingSchema,omitEmpty:!0},{key:"current-round",valueSchema:new M,omitEmpty:!0})),this.encodingSchemaValue}constructor({account:e,currentRound:t}){this.account=e,this.currentRound=ce(t)}getEncodingSchema(){return Ys.encodingSchema}toEncodingData(){return new Map([["account",this.account.toEncodingData()],["current-round",this.currentRound]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountResponse: ${e}`);return new Ys({account:Cr.fromEncodingData(e.get("account")??new Map),currentRound:e.get("current-round")})}}class So{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"address",valueSchema:new me,omitEmpty:!0},{key:"delta",valueSchema:new xe(Lr.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({address:e,delta:t}){this.address=e,this.delta=t}getEncodingSchema(){return So.encodingSchema}toEncodingData(){return new Map([["address",this.address],["delta",this.delta.map(e=>e.toEncodingData())]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountStateDelta: ${e}`);return new So({address:e.get("address"),delta:(e.get("delta")??[]).map(t=>Lr.fromEncodingData(t))})}}class Xs{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"accounts",valueSchema:new xe(Cr.encodingSchema),omitEmpty:!0},{key:"current-round",valueSchema:new M,omitEmpty:!0},{key:"next-token",valueSchema:new p(new me),omitEmpty:!0})),this.encodingSchemaValue}constructor({accounts:e,currentRound:t,nextToken:r}){this.accounts=e,this.currentRound=ce(t),this.nextToken=r}getEncodingSchema(){return Xs.encodingSchema}toEncodingData(){return new Map([["accounts",this.accounts.map(e=>e.toEncodingData())],["current-round",this.currentRound],["next-token",this.nextToken]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountsResponse: ${e}`);return new Xs({accounts:(e.get("accounts")??[]).map(t=>Cr.fromEncodingData(t)),currentRound:e.get("current-round"),nextToken:e.get("next-token")})}}class ir{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"id",valueSchema:new M,omitEmpty:!0},{key:"params",valueSchema:bo.encodingSchema,omitEmpty:!0},{key:"created-at-round",valueSchema:new p(new M),omitEmpty:!0},{key:"deleted",valueSchema:new p(new lt),omitEmpty:!0},{key:"deleted-at-round",valueSchema:new p(new M),omitEmpty:!0})),this.encodingSchemaValue}constructor({id:e,params:t,createdAtRound:r,deleted:i,deletedAtRound:o}){this.id=ce(e),this.params=t,this.createdAtRound=typeof r>"u"?void 0:ce(r),this.deleted=i,this.deletedAtRound=typeof o>"u"?void 0:ce(o)}getEncodingSchema(){return ir.encodingSchema}toEncodingData(){return new Map([["id",this.id],["params",this.params.toEncodingData()],["created-at-round",this.createdAtRound],["deleted",this.deleted],["deleted-at-round",this.deletedAtRound]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Application: ${e}`);return new ir({id:e.get("id"),params:bo.fromEncodingData(e.get("params")??new Map),createdAtRound:e.get("created-at-round"),deleted:e.get("deleted"),deletedAtRound:e.get("deleted-at-round")})}}class Nr{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"id",valueSchema:new M,omitEmpty:!0},{key:"schema",valueSchema:On.encodingSchema,omitEmpty:!0},{key:"closed-out-at-round",valueSchema:new p(new M),omitEmpty:!0},{key:"deleted",valueSchema:new p(new lt),omitEmpty:!0},{key:"key-value",valueSchema:new p(new xe($r.encodingSchema)),omitEmpty:!0},{key:"opted-in-at-round",valueSchema:new p(new M),omitEmpty:!0})),this.encodingSchemaValue}constructor({id:e,schema:t,closedOutAtRound:r,deleted:i,keyValue:o,optedInAtRound:s}){this.id=ce(e),this.schema=t,this.closedOutAtRound=typeof r>"u"?void 0:ce(r),this.deleted=i,this.keyValue=o,this.optedInAtRound=typeof s>"u"?void 0:ce(s)}getEncodingSchema(){return Nr.encodingSchema}toEncodingData(){return new Map([["id",this.id],["schema",this.schema.toEncodingData()],["closed-out-at-round",this.closedOutAtRound],["deleted",this.deleted],["key-value",typeof this.keyValue<"u"?this.keyValue.map(e=>e.toEncodingData()):void 0],["opted-in-at-round",this.optedInAtRound]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationLocalState: ${e}`);return new Nr({id:e.get("id"),schema:On.fromEncodingData(e.get("schema")??new Map),closedOutAtRound:e.get("closed-out-at-round"),deleted:e.get("deleted"),keyValue:typeof e.get("key-value")<"u"?e.get("key-value").map(t=>$r.fromEncodingData(t)):void 0,optedInAtRound:e.get("opted-in-at-round")})}}class Zs{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"apps-local-states",valueSchema:new xe(Nr.encodingSchema),omitEmpty:!0},{key:"current-round",valueSchema:new M,omitEmpty:!0},{key:"next-token",valueSchema:new p(new me),omitEmpty:!0})),this.encodingSchemaValue}constructor({appsLocalStates:e,currentRound:t,nextToken:r}){this.appsLocalStates=e,this.currentRound=ce(t),this.nextToken=r}getEncodingSchema(){return Zs.encodingSchema}toEncodingData(){return new Map([["apps-local-states",this.appsLocalStates.map(e=>e.toEncodingData())],["current-round",this.currentRound],["next-token",this.nextToken]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationLocalStatesResponse: ${e}`);return new Zs({appsLocalStates:(e.get("apps-local-states")??[]).map(t=>Nr.fromEncodingData(t)),currentRound:e.get("current-round"),nextToken:e.get("next-token")})}}class Eo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"logs",valueSchema:new xe(new Me),omitEmpty:!0},{key:"txid",valueSchema:new me,omitEmpty:!0})),this.encodingSchemaValue}constructor({logs:e,txid:t}){this.logs=e,this.txid=t}getEncodingSchema(){return Eo.encodingSchema}toEncodingData(){return new Map([["logs",this.logs],["txid",this.txid]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationLogData: ${e}`);return new Eo({logs:e.get("logs"),txid:e.get("txid")})}}class Qs{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"application-id",valueSchema:new M,omitEmpty:!0},{key:"current-round",valueSchema:new M,omitEmpty:!0},{key:"log-data",valueSchema:new p(new xe(Eo.encodingSchema)),omitEmpty:!0},{key:"next-token",valueSchema:new p(new me),omitEmpty:!0})),this.encodingSchemaValue}constructor({applicationId:e,currentRound:t,logData:r,nextToken:i}){this.applicationId=ce(e),this.currentRound=ce(t),this.logData=r,this.nextToken=i}getEncodingSchema(){return Qs.encodingSchema}toEncodingData(){return new Map([["application-id",this.applicationId],["current-round",this.currentRound],["log-data",typeof this.logData<"u"?this.logData.map(e=>e.toEncodingData()):void 0],["next-token",this.nextToken]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationLogsResponse: ${e}`);return new Qs({applicationId:e.get("application-id"),currentRound:e.get("current-round"),logData:typeof e.get("log-data")<"u"?e.get("log-data").map(t=>Eo.fromEncodingData(t)):void 0,nextToken:e.get("next-token")})}}class bo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"approval-program",valueSchema:new Me,omitEmpty:!0},{key:"clear-state-program",valueSchema:new Me,omitEmpty:!0},{key:"creator",valueSchema:new p(new me),omitEmpty:!0},{key:"extra-program-pages",valueSchema:new p(new M),omitEmpty:!0},{key:"global-state",valueSchema:new p(new xe($r.encodingSchema)),omitEmpty:!0},{key:"global-state-schema",valueSchema:new p(On.encodingSchema),omitEmpty:!0},{key:"local-state-schema",valueSchema:new p(On.encodingSchema),omitEmpty:!0},{key:"version",valueSchema:new p(new M),omitEmpty:!0})),this.encodingSchemaValue}constructor({approvalProgram:e,clearStateProgram:t,creator:r,extraProgramPages:i,globalState:o,globalStateSchema:s,localStateSchema:h,version:m}){this.approvalProgram=typeof e=="string"?Be(e):e,this.clearStateProgram=typeof t=="string"?Be(t):t,this.creator=typeof r=="string"?ot.fromString(r):r,this.extraProgramPages=typeof i>"u"?void 0:Re(i),this.globalState=o,this.globalStateSchema=s,this.localStateSchema=h,this.version=typeof m>"u"?void 0:Re(m)}getEncodingSchema(){return bo.encodingSchema}toEncodingData(){return new Map([["approval-program",this.approvalProgram],["clear-state-program",this.clearStateProgram],["creator",typeof this.creator<"u"?this.creator.toString():void 0],["extra-program-pages",this.extraProgramPages],["global-state",typeof this.globalState<"u"?this.globalState.map(e=>e.toEncodingData()):void 0],["global-state-schema",typeof this.globalStateSchema<"u"?this.globalStateSchema.toEncodingData():void 0],["local-state-schema",typeof this.localStateSchema<"u"?this.localStateSchema.toEncodingData():void 0],["version",this.version]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationParams: ${e}`);return new bo({approvalProgram:e.get("approval-program"),clearStateProgram:e.get("clear-state-program"),creator:e.get("creator"),extraProgramPages:e.get("extra-program-pages"),globalState:typeof e.get("global-state")<"u"?e.get("global-state").map(t=>$r.fromEncodingData(t)):void 0,globalStateSchema:typeof e.get("global-state-schema")<"u"?On.fromEncodingData(e.get("global-state-schema")):void 0,localStateSchema:typeof e.get("local-state-schema")<"u"?On.fromEncodingData(e.get("local-state-schema")):void 0,version:e.get("version")})}}class ea{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"current-round",valueSchema:new M,omitEmpty:!0},{key:"application",valueSchema:new p(ir.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({currentRound:e,application:t}){this.currentRound=ce(e),this.application=t}getEncodingSchema(){return ea.encodingSchema}toEncodingData(){return new Map([["current-round",this.currentRound],["application",typeof this.application<"u"?this.application.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationResponse: ${e}`);return new ea({currentRound:e.get("current-round"),application:typeof e.get("application")<"u"?ir.fromEncodingData(e.get("application")):void 0})}}class On{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"num-byte-slice",valueSchema:new M,omitEmpty:!0},{key:"num-uint",valueSchema:new M,omitEmpty:!0})),this.encodingSchemaValue}constructor({numByteSlice:e,numUint:t}){this.numByteSlice=Re(e),this.numUint=Re(t)}getEncodingSchema(){return On.encodingSchema}toEncodingData(){return new Map([["num-byte-slice",this.numByteSlice],["num-uint",this.numUint]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationStateSchema: ${e}`);return new On({numByteSlice:e.get("num-byte-slice"),numUint:e.get("num-uint")})}}class xo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"applications",valueSchema:new xe(ir.encodingSchema),omitEmpty:!0},{key:"current-round",valueSchema:new M,omitEmpty:!0},{key:"next-token",valueSchema:new p(new me),omitEmpty:!0})),this.encodingSchemaValue}constructor({applications:e,currentRound:t,nextToken:r}){this.applications=e,this.currentRound=ce(t),this.nextToken=r}getEncodingSchema(){return xo.encodingSchema}toEncodingData(){return new Map([["applications",this.applications.map(e=>e.toEncodingData())],["current-round",this.currentRound],["next-token",this.nextToken]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationsResponse: ${e}`);return new xo({applications:(e.get("applications")??[]).map(t=>ir.fromEncodingData(t)),currentRound:e.get("current-round"),nextToken:e.get("next-token")})}}class or{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"index",valueSchema:new M,omitEmpty:!0},{key:"params",valueSchema:Ur.encodingSchema,omitEmpty:!0},{key:"created-at-round",valueSchema:new p(new M),omitEmpty:!0},{key:"deleted",valueSchema:new p(new lt),omitEmpty:!0},{key:"destroyed-at-round",valueSchema:new p(new M),omitEmpty:!0})),this.encodingSchemaValue}constructor({index:e,params:t,createdAtRound:r,deleted:i,destroyedAtRound:o}){this.index=ce(e),this.params=t,this.createdAtRound=typeof r>"u"?void 0:ce(r),this.deleted=i,this.destroyedAtRound=typeof o>"u"?void 0:ce(o)}getEncodingSchema(){return or.encodingSchema}toEncodingData(){return new Map([["index",this.index],["params",this.params.toEncodingData()],["created-at-round",this.createdAtRound],["deleted",this.deleted],["destroyed-at-round",this.destroyedAtRound]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Asset: ${e}`);return new or({index:e.get("index"),params:Ur.fromEncodingData(e.get("params")??new Map),createdAtRound:e.get("created-at-round"),deleted:e.get("deleted"),destroyedAtRound:e.get("destroyed-at-round")})}}class ta{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"balances",valueSchema:new xe(Oo.encodingSchema),omitEmpty:!0},{key:"current-round",valueSchema:new M,omitEmpty:!0},{key:"next-token",valueSchema:new p(new me),omitEmpty:!0})),this.encodingSchemaValue}constructor({balances:e,currentRound:t,nextToken:r}){this.balances=e,this.currentRound=ce(t),this.nextToken=r}getEncodingSchema(){return ta.encodingSchema}toEncodingData(){return new Map([["balances",this.balances.map(e=>e.toEncodingData())],["current-round",this.currentRound],["next-token",this.nextToken]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetBalancesResponse: ${e}`);return new ta({balances:(e.get("balances")??[]).map(t=>Oo.fromEncodingData(t)),currentRound:e.get("current-round"),nextToken:e.get("next-token")})}}class Vr{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"amount",valueSchema:new M,omitEmpty:!0},{key:"asset-id",valueSchema:new M,omitEmpty:!0},{key:"is-frozen",valueSchema:new lt,omitEmpty:!0},{key:"deleted",valueSchema:new p(new lt),omitEmpty:!0},{key:"opted-in-at-round",valueSchema:new p(new M),omitEmpty:!0},{key:"opted-out-at-round",valueSchema:new p(new M),omitEmpty:!0})),this.encodingSchemaValue}constructor({amount:e,assetId:t,isFrozen:r,deleted:i,optedInAtRound:o,optedOutAtRound:s}){this.amount=ce(e),this.assetId=ce(t),this.isFrozen=r,this.deleted=i,this.optedInAtRound=typeof o>"u"?void 0:ce(o),this.optedOutAtRound=typeof s>"u"?void 0:ce(s)}getEncodingSchema(){return Vr.encodingSchema}toEncodingData(){return new Map([["amount",this.amount],["asset-id",this.assetId],["is-frozen",this.isFrozen],["deleted",this.deleted],["opted-in-at-round",this.optedInAtRound],["opted-out-at-round",this.optedOutAtRound]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetHolding: ${e}`);return new Vr({amount:e.get("amount"),assetId:e.get("asset-id"),isFrozen:e.get("is-frozen"),deleted:e.get("deleted"),optedInAtRound:e.get("opted-in-at-round"),optedOutAtRound:e.get("opted-out-at-round")})}}class na{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"assets",valueSchema:new xe(Vr.encodingSchema),omitEmpty:!0},{key:"current-round",valueSchema:new M,omitEmpty:!0},{key:"next-token",valueSchema:new p(new me),omitEmpty:!0})),this.encodingSchemaValue}constructor({assets:e,currentRound:t,nextToken:r}){this.assets=e,this.currentRound=ce(t),this.nextToken=r}getEncodingSchema(){return na.encodingSchema}toEncodingData(){return new Map([["assets",this.assets.map(e=>e.toEncodingData())],["current-round",this.currentRound],["next-token",this.nextToken]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetHoldingsResponse: ${e}`);return new na({assets:(e.get("assets")??[]).map(t=>Vr.fromEncodingData(t)),currentRound:e.get("current-round"),nextToken:e.get("next-token")})}}class Ur{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"creator",valueSchema:new me,omitEmpty:!0},{key:"decimals",valueSchema:new M,omitEmpty:!0},{key:"total",valueSchema:new M,omitEmpty:!0},{key:"clawback",valueSchema:new p(new me),omitEmpty:!0},{key:"default-frozen",valueSchema:new p(new lt),omitEmpty:!0},{key:"freeze",valueSchema:new p(new me),omitEmpty:!0},{key:"manager",valueSchema:new p(new me),omitEmpty:!0},{key:"metadata-hash",valueSchema:new p(new Me),omitEmpty:!0},{key:"name",valueSchema:new p(new me),omitEmpty:!0},{key:"name-b64",valueSchema:new p(new Me),omitEmpty:!0},{key:"reserve",valueSchema:new p(new me),omitEmpty:!0},{key:"unit-name",valueSchema:new p(new me),omitEmpty:!0},{key:"unit-name-b64",valueSchema:new p(new Me),omitEmpty:!0},{key:"url",valueSchema:new p(new me),omitEmpty:!0},{key:"url-b64",valueSchema:new p(new Me),omitEmpty:!0})),this.encodingSchemaValue}constructor({creator:e,decimals:t,total:r,clawback:i,defaultFrozen:o,freeze:s,manager:h,metadataHash:m,name:u,nameB64:v,reserve:T,unitName:B,unitNameB64:W,url:U,urlB64:ne}){this.creator=e,this.decimals=Re(t),this.total=ce(r),this.clawback=i,this.defaultFrozen=o,this.freeze=s,this.manager=h,this.metadataHash=typeof m=="string"?Be(m):m,this.name=u,this.nameB64=typeof v=="string"?Be(v):v,this.reserve=T,this.unitName=B,this.unitNameB64=typeof W=="string"?Be(W):W,this.url=U,this.urlB64=typeof ne=="string"?Be(ne):ne}getEncodingSchema(){return Ur.encodingSchema}toEncodingData(){return new Map([["creator",this.creator],["decimals",this.decimals],["total",this.total],["clawback",this.clawback],["default-frozen",this.defaultFrozen],["freeze",this.freeze],["manager",this.manager],["metadata-hash",this.metadataHash],["name",this.name],["name-b64",this.nameB64],["reserve",this.reserve],["unit-name",this.unitName],["unit-name-b64",this.unitNameB64],["url",this.url],["url-b64",this.urlB64]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetParams: ${e}`);return new Ur({creator:e.get("creator"),decimals:e.get("decimals"),total:e.get("total"),clawback:e.get("clawback"),defaultFrozen:e.get("default-frozen"),freeze:e.get("freeze"),manager:e.get("manager"),metadataHash:e.get("metadata-hash"),name:e.get("name"),nameB64:e.get("name-b64"),reserve:e.get("reserve"),unitName:e.get("unit-name"),unitNameB64:e.get("unit-name-b64"),url:e.get("url"),urlB64:e.get("url-b64")})}}class ra{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"asset",valueSchema:or.encodingSchema,omitEmpty:!0},{key:"current-round",valueSchema:new M,omitEmpty:!0})),this.encodingSchemaValue}constructor({asset:e,currentRound:t}){this.asset=e,this.currentRound=ce(t)}getEncodingSchema(){return ra.encodingSchema}toEncodingData(){return new Map([["asset",this.asset.toEncodingData()],["current-round",this.currentRound]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetResponse: ${e}`);return new ra({asset:or.fromEncodingData(e.get("asset")??new Map),currentRound:e.get("current-round")})}}class ko{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"assets",valueSchema:new xe(or.encodingSchema),omitEmpty:!0},{key:"current-round",valueSchema:new M,omitEmpty:!0},{key:"next-token",valueSchema:new p(new me),omitEmpty:!0})),this.encodingSchemaValue}constructor({assets:e,currentRound:t,nextToken:r}){this.assets=e,this.currentRound=ce(t),this.nextToken=r}getEncodingSchema(){return ko.encodingSchema}toEncodingData(){return new Map([["assets",this.assets.map(e=>e.toEncodingData())],["current-round",this.currentRound],["next-token",this.nextToken]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetsResponse: ${e}`);return new ko({assets:(e.get("assets")??[]).map(t=>or.fromEncodingData(t)),currentRound:e.get("current-round"),nextToken:e.get("next-token")})}}class Vi{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"genesis-hash",valueSchema:new Me,omitEmpty:!0},{key:"genesis-id",valueSchema:new me,omitEmpty:!0},{key:"previous-block-hash",valueSchema:new Me,omitEmpty:!0},{key:"round",valueSchema:new M,omitEmpty:!0},{key:"seed",valueSchema:new Me,omitEmpty:!0},{key:"timestamp",valueSchema:new M,omitEmpty:!0},{key:"transactions-root",valueSchema:new Me,omitEmpty:!0},{key:"transactions-root-sha256",valueSchema:new Me,omitEmpty:!0},{key:"bonus",valueSchema:new p(new M),omitEmpty:!0},{key:"fees-collected",valueSchema:new p(new M),omitEmpty:!0},{key:"participation-updates",valueSchema:new p(Bo.encodingSchema),omitEmpty:!0},{key:"proposer",valueSchema:new p(new me),omitEmpty:!0},{key:"proposer-payout",valueSchema:new p(new M),omitEmpty:!0},{key:"rewards",valueSchema:new p(Ao.encodingSchema),omitEmpty:!0},{key:"state-proof-tracking",valueSchema:new p(new xe($o.encodingSchema)),omitEmpty:!0},{key:"transactions",valueSchema:new p(new xe(Bn.encodingSchema)),omitEmpty:!0},{key:"txn-counter",valueSchema:new p(new M),omitEmpty:!0},{key:"upgrade-state",valueSchema:new p(Mo.encodingSchema),omitEmpty:!0},{key:"upgrade-vote",valueSchema:new p(Do.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({genesisHash:e,genesisId:t,previousBlockHash:r,round:i,seed:o,timestamp:s,transactionsRoot:h,transactionsRootSha256:m,bonus:u,feesCollected:v,participationUpdates:T,proposer:B,proposerPayout:W,rewards:U,stateProofTracking:ne,transactions:E,txnCounter:C,upgradeState:N,upgradeVote:$}){this.genesisHash=typeof e=="string"?Be(e):e,this.genesisId=t,this.previousBlockHash=typeof r=="string"?Be(r):r,this.round=ce(i),this.seed=typeof o=="string"?Be(o):o,this.timestamp=Re(s),this.transactionsRoot=typeof h=="string"?Be(h):h,this.transactionsRootSha256=typeof m=="string"?Be(m):m,this.bonus=typeof u>"u"?void 0:Re(u),this.feesCollected=typeof v>"u"?void 0:Re(v),this.participationUpdates=T,this.proposer=typeof B=="string"?ot.fromString(B):B,this.proposerPayout=typeof W>"u"?void 0:Re(W),this.rewards=U,this.stateProofTracking=ne,this.transactions=E,this.txnCounter=typeof C>"u"?void 0:Re(C),this.upgradeState=N,this.upgradeVote=$}getEncodingSchema(){return Vi.encodingSchema}toEncodingData(){return new Map([["genesis-hash",this.genesisHash],["genesis-id",this.genesisId],["previous-block-hash",this.previousBlockHash],["round",this.round],["seed",this.seed],["timestamp",this.timestamp],["transactions-root",this.transactionsRoot],["transactions-root-sha256",this.transactionsRootSha256],["bonus",this.bonus],["fees-collected",this.feesCollected],["participation-updates",typeof this.participationUpdates<"u"?this.participationUpdates.toEncodingData():void 0],["proposer",typeof this.proposer<"u"?this.proposer.toString():void 0],["proposer-payout",this.proposerPayout],["rewards",typeof this.rewards<"u"?this.rewards.toEncodingData():void 0],["state-proof-tracking",typeof this.stateProofTracking<"u"?this.stateProofTracking.map(e=>e.toEncodingData()):void 0],["transactions",typeof this.transactions<"u"?this.transactions.map(e=>e.toEncodingData()):void 0],["txn-counter",this.txnCounter],["upgrade-state",typeof this.upgradeState<"u"?this.upgradeState.toEncodingData():void 0],["upgrade-vote",typeof this.upgradeVote<"u"?this.upgradeVote.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Block: ${e}`);return new Vi({genesisHash:e.get("genesis-hash"),genesisId:e.get("genesis-id"),previousBlockHash:e.get("previous-block-hash"),round:e.get("round"),seed:e.get("seed"),timestamp:e.get("timestamp"),transactionsRoot:e.get("transactions-root"),transactionsRootSha256:e.get("transactions-root-sha256"),bonus:e.get("bonus"),feesCollected:e.get("fees-collected"),participationUpdates:typeof e.get("participation-updates")<"u"?Bo.fromEncodingData(e.get("participation-updates")):void 0,proposer:e.get("proposer"),proposerPayout:e.get("proposer-payout"),rewards:typeof e.get("rewards")<"u"?Ao.fromEncodingData(e.get("rewards")):void 0,stateProofTracking:typeof e.get("state-proof-tracking")<"u"?e.get("state-proof-tracking").map(t=>$o.fromEncodingData(t)):void 0,transactions:typeof e.get("transactions")<"u"?e.get("transactions").map(t=>Bn.fromEncodingData(t)):void 0,txnCounter:e.get("txn-counter"),upgradeState:typeof e.get("upgrade-state")<"u"?Mo.fromEncodingData(e.get("upgrade-state")):void 0,upgradeVote:typeof e.get("upgrade-vote")<"u"?Do.fromEncodingData(e.get("upgrade-vote")):void 0})}}class ia{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"blocks",valueSchema:new xe(Vi.encodingSchema),omitEmpty:!0},{key:"current-round",valueSchema:new M,omitEmpty:!0},{key:"next-token",valueSchema:new p(new me),omitEmpty:!0})),this.encodingSchemaValue}constructor({blocks:e,currentRound:t,nextToken:r}){this.blocks=e,this.currentRound=ce(t),this.nextToken=r}getEncodingSchema(){return ia.encodingSchema}toEncodingData(){return new Map([["blocks",this.blocks.map(e=>e.toEncodingData())],["current-round",this.currentRound],["next-token",this.nextToken]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BlockHeadersResponse: ${e}`);return new ia({blocks:(e.get("blocks")??[]).map(t=>Vi.fromEncodingData(t)),currentRound:e.get("current-round"),nextToken:e.get("next-token")})}}class Ao{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"fee-sink",valueSchema:new me,omitEmpty:!0},{key:"rewards-calculation-round",valueSchema:new M,omitEmpty:!0},{key:"rewards-level",valueSchema:new M,omitEmpty:!0},{key:"rewards-pool",valueSchema:new me,omitEmpty:!0},{key:"rewards-rate",valueSchema:new M,omitEmpty:!0},{key:"rewards-residue",valueSchema:new M,omitEmpty:!0})),this.encodingSchemaValue}constructor({feeSink:e,rewardsCalculationRound:t,rewardsLevel:r,rewardsPool:i,rewardsRate:o,rewardsResidue:s}){this.feeSink=e,this.rewardsCalculationRound=ce(t),this.rewardsLevel=ce(r),this.rewardsPool=i,this.rewardsRate=ce(o),this.rewardsResidue=ce(s)}getEncodingSchema(){return Ao.encodingSchema}toEncodingData(){return new Map([["fee-sink",this.feeSink],["rewards-calculation-round",this.rewardsCalculationRound],["rewards-level",this.rewardsLevel],["rewards-pool",this.rewardsPool],["rewards-rate",this.rewardsRate],["rewards-residue",this.rewardsResidue]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BlockRewards: ${e}`);return new Ao({feeSink:e.get("fee-sink"),rewardsCalculationRound:e.get("rewards-calculation-round"),rewardsLevel:e.get("rewards-level"),rewardsPool:e.get("rewards-pool"),rewardsRate:e.get("rewards-rate"),rewardsResidue:e.get("rewards-residue")})}}class Mo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"current-protocol",valueSchema:new me,omitEmpty:!0},{key:"next-protocol",valueSchema:new p(new me),omitEmpty:!0},{key:"next-protocol-approvals",valueSchema:new p(new M),omitEmpty:!0},{key:"next-protocol-switch-on",valueSchema:new p(new M),omitEmpty:!0},{key:"next-protocol-vote-before",valueSchema:new p(new M),omitEmpty:!0})),this.encodingSchemaValue}constructor({currentProtocol:e,nextProtocol:t,nextProtocolApprovals:r,nextProtocolSwitchOn:i,nextProtocolVoteBefore:o}){this.currentProtocol=e,this.nextProtocol=t,this.nextProtocolApprovals=typeof r>"u"?void 0:Re(r),this.nextProtocolSwitchOn=typeof i>"u"?void 0:ce(i),this.nextProtocolVoteBefore=typeof o>"u"?void 0:ce(o)}getEncodingSchema(){return Mo.encodingSchema}toEncodingData(){return new Map([["current-protocol",this.currentProtocol],["next-protocol",this.nextProtocol],["next-protocol-approvals",this.nextProtocolApprovals],["next-protocol-switch-on",this.nextProtocolSwitchOn],["next-protocol-vote-before",this.nextProtocolVoteBefore]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BlockUpgradeState: ${e}`);return new Mo({currentProtocol:e.get("current-protocol"),nextProtocol:e.get("next-protocol"),nextProtocolApprovals:e.get("next-protocol-approvals"),nextProtocolSwitchOn:e.get("next-protocol-switch-on"),nextProtocolVoteBefore:e.get("next-protocol-vote-before")})}}class Do{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"upgrade-approve",valueSchema:new p(new lt),omitEmpty:!0},{key:"upgrade-delay",valueSchema:new p(new M),omitEmpty:!0},{key:"upgrade-propose",valueSchema:new p(new me),omitEmpty:!0})),this.encodingSchemaValue}constructor({upgradeApprove:e,upgradeDelay:t,upgradePropose:r}){this.upgradeApprove=e,this.upgradeDelay=typeof t>"u"?void 0:ce(t),this.upgradePropose=r}getEncodingSchema(){return Do.encodingSchema}toEncodingData(){return new Map([["upgrade-approve",this.upgradeApprove],["upgrade-delay",this.upgradeDelay],["upgrade-propose",this.upgradePropose]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BlockUpgradeVote: ${e}`);return new Do({upgradeApprove:e.get("upgrade-approve"),upgradeDelay:e.get("upgrade-delay"),upgradePropose:e.get("upgrade-propose")})}}class oa{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"name",valueSchema:new Me,omitEmpty:!0},{key:"round",valueSchema:new M,omitEmpty:!0},{key:"value",valueSchema:new Me,omitEmpty:!0})),this.encodingSchemaValue}constructor({name:e,round:t,value:r}){this.name=typeof e=="string"?Be(e):e,this.round=ce(t),this.value=typeof r=="string"?Be(r):r}getEncodingSchema(){return oa.encodingSchema}toEncodingData(){return new Map([["name",this.name],["round",this.round],["value",this.value]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Box: ${e}`);return new oa({name:e.get("name"),round:e.get("round"),value:e.get("value")})}}class To{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"name",valueSchema:new Me,omitEmpty:!0})),this.encodingSchemaValue}constructor({name:e}){this.name=typeof e=="string"?Be(e):e}getEncodingSchema(){return To.encodingSchema}toEncodingData(){return new Map([["name",this.name]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BoxDescriptor: ${e}`);return new To({name:e.get("name")})}}class sa{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"application-id",valueSchema:new M,omitEmpty:!0},{key:"boxes",valueSchema:new xe(To.encodingSchema),omitEmpty:!0},{key:"next-token",valueSchema:new p(new me),omitEmpty:!0})),this.encodingSchemaValue}constructor({applicationId:e,boxes:t,nextToken:r}){this.applicationId=ce(e),this.boxes=t,this.nextToken=r}getEncodingSchema(){return sa.encodingSchema}toEncodingData(){return new Map([["application-id",this.applicationId],["boxes",this.boxes.map(e=>e.toEncodingData())],["next-token",this.nextToken]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BoxesResponse: ${e}`);return new sa({applicationId:e.get("application-id"),boxes:(e.get("boxes")??[]).map(t=>To.fromEncodingData(t)),nextToken:e.get("next-token")})}}class za{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"message",valueSchema:new me,omitEmpty:!0},{key:"data",valueSchema:new p(hn.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({message:e,data:t}){this.message=e,this.data=t}getEncodingSchema(){return za.encodingSchema}toEncodingData(){return new Map([["message",this.message],["data",typeof this.data<"u"?this.data.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ErrorResponse: ${e}`);return new za({message:e.get("message"),data:typeof e.get("data")<"u"?hn.fromEncodingData(e.get("data")):void 0})}}class Io{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"action",valueSchema:new M,omitEmpty:!0},{key:"bytes",valueSchema:new p(new me),omitEmpty:!0},{key:"uint",valueSchema:new p(new M),omitEmpty:!0})),this.encodingSchemaValue}constructor({action:e,bytes:t,uint:r}){this.action=Re(e),this.bytes=t,this.uint=typeof r>"u"?void 0:ce(r)}getEncodingSchema(){return Io.encodingSchema}toEncodingData(){return new Map([["action",this.action],["bytes",this.bytes],["uint",this.uint]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded EvalDelta: ${e}`);return new Io({action:e.get("action"),bytes:e.get("bytes"),uint:e.get("uint")})}}class Lr{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"key",valueSchema:new me,omitEmpty:!0},{key:"value",valueSchema:Io.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({key:e,value:t}){this.key=e,this.value=t}getEncodingSchema(){return Lr.encodingSchema}toEncodingData(){return new Map([["key",this.key],["value",this.value.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded EvalDeltaKeyValue: ${e}`);return new Lr({key:e.get("key"),value:Io.fromEncodingData(e.get("value")??new Map)})}}class Ro{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"hash-type",valueSchema:new p(new M),omitEmpty:!0})),this.encodingSchemaValue}constructor({hashType:e}){this.hashType=typeof e>"u"?void 0:Re(e)}getEncodingSchema(){return Ro.encodingSchema}toEncodingData(){return new Map([["hash-type",this.hashType]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded HashFactory: ${e}`);return new Ro({hashType:e.get("hash-type")})}}class _o{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"hb-pk",valueSchema:new p(new Me),omitEmpty:!0},{key:"hb-pk1sig",valueSchema:new p(new Me),omitEmpty:!0},{key:"hb-pk2",valueSchema:new p(new Me),omitEmpty:!0},{key:"hb-pk2sig",valueSchema:new p(new Me),omitEmpty:!0},{key:"hb-sig",valueSchema:new p(new Me),omitEmpty:!0})),this.encodingSchemaValue}constructor({hbPk:e,hbPk1sig:t,hbPk2:r,hbPk2sig:i,hbSig:o}){this.hbPk=typeof e=="string"?Be(e):e,this.hbPk1sig=typeof t=="string"?Be(t):t,this.hbPk2=typeof r=="string"?Be(r):r,this.hbPk2sig=typeof i=="string"?Be(i):i,this.hbSig=typeof o=="string"?Be(o):o}getEncodingSchema(){return _o.encodingSchema}toEncodingData(){return new Map([["hb-pk",this.hbPk],["hb-pk1sig",this.hbPk1sig],["hb-pk2",this.hbPk2],["hb-pk2sig",this.hbPk2sig],["hb-sig",this.hbSig]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded HbProofFields: ${e}`);return new _o({hbPk:e.get("hb-pk"),hbPk1sig:e.get("hb-pk1sig"),hbPk2:e.get("hb-pk2"),hbPk2sig:e.get("hb-pk2sig"),hbSig:e.get("hb-sig")})}}class aa{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"db-available",valueSchema:new lt,omitEmpty:!0},{key:"is-migrating",valueSchema:new lt,omitEmpty:!0},{key:"message",valueSchema:new me,omitEmpty:!0},{key:"round",valueSchema:new M,omitEmpty:!0},{key:"version",valueSchema:new me,omitEmpty:!0},{key:"data",valueSchema:new p(hn.encodingSchema),omitEmpty:!0},{key:"errors",valueSchema:new p(new xe(new me)),omitEmpty:!0})),this.encodingSchemaValue}constructor({dbAvailable:e,isMigrating:t,message:r,round:i,version:o,data:s,errors:h}){this.dbAvailable=e,this.isMigrating=t,this.message=r,this.round=ce(i),this.version=o,this.data=s,this.errors=h}getEncodingSchema(){return aa.encodingSchema}toEncodingData(){return new Map([["db-available",this.dbAvailable],["is-migrating",this.isMigrating],["message",this.message],["round",this.round],["version",this.version],["data",typeof this.data<"u"?this.data.toEncodingData():void 0],["errors",this.errors]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded HealthCheck: ${e}`);return new aa({dbAvailable:e.get("db-available"),isMigrating:e.get("is-migrating"),message:e.get("message"),round:e.get("round"),version:e.get("version"),data:typeof e.get("data")<"u"?hn.fromEncodingData(e.get("data")):void 0,errors:e.get("errors")})}}class Po{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"block-headers-commitment",valueSchema:new p(new Me),omitEmpty:!0},{key:"first-attested-round",valueSchema:new p(new M),omitEmpty:!0},{key:"latest-attested-round",valueSchema:new p(new M),omitEmpty:!0},{key:"ln-proven-weight",valueSchema:new p(new M),omitEmpty:!0},{key:"voters-commitment",valueSchema:new p(new Me),omitEmpty:!0})),this.encodingSchemaValue}constructor({blockHeadersCommitment:e,firstAttestedRound:t,latestAttestedRound:r,lnProvenWeight:i,votersCommitment:o}){this.blockHeadersCommitment=typeof e=="string"?Be(e):e,this.firstAttestedRound=typeof t>"u"?void 0:ce(t),this.latestAttestedRound=typeof r>"u"?void 0:ce(r),this.lnProvenWeight=typeof i>"u"?void 0:ce(i),this.votersCommitment=typeof o=="string"?Be(o):o}getEncodingSchema(){return Po.encodingSchema}toEncodingData(){return new Map([["block-headers-commitment",this.blockHeadersCommitment],["first-attested-round",this.firstAttestedRound],["latest-attested-round",this.latestAttestedRound],["ln-proven-weight",this.lnProvenWeight],["voters-commitment",this.votersCommitment]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded IndexerStateProofMessage: ${e}`);return new Po({blockHeadersCommitment:e.get("block-headers-commitment"),firstAttestedRound:e.get("first-attested-round"),latestAttestedRound:e.get("latest-attested-round"),lnProvenWeight:e.get("ln-proven-weight"),votersCommitment:e.get("voters-commitment")})}}class Qn{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"hash-factory",valueSchema:new p(Ro.encodingSchema),omitEmpty:!0},{key:"path",valueSchema:new p(new xe(new Me)),omitEmpty:!0},{key:"tree-depth",valueSchema:new p(new M),omitEmpty:!0})),this.encodingSchemaValue}constructor({hashFactory:e,path:t,treeDepth:r}){this.hashFactory=e,this.path=t,this.treeDepth=typeof r>"u"?void 0:Re(r)}getEncodingSchema(){return Qn.encodingSchema}toEncodingData(){return new Map([["hash-factory",typeof this.hashFactory<"u"?this.hashFactory.toEncodingData():void 0],["path",this.path],["tree-depth",this.treeDepth]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded MerkleArrayProof: ${e}`);return new Qn({hashFactory:typeof e.get("hash-factory")<"u"?Ro.fromEncodingData(e.get("hash-factory")):void 0,path:e.get("path"),treeDepth:e.get("tree-depth")})}}class Oo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"address",valueSchema:new me,omitEmpty:!0},{key:"amount",valueSchema:new M,omitEmpty:!0},{key:"is-frozen",valueSchema:new lt,omitEmpty:!0},{key:"deleted",valueSchema:new p(new lt),omitEmpty:!0},{key:"opted-in-at-round",valueSchema:new p(new M),omitEmpty:!0},{key:"opted-out-at-round",valueSchema:new p(new M),omitEmpty:!0})),this.encodingSchemaValue}constructor({address:e,amount:t,isFrozen:r,deleted:i,optedInAtRound:o,optedOutAtRound:s}){this.address=e,this.amount=ce(t),this.isFrozen=r,this.deleted=i,this.optedInAtRound=typeof o>"u"?void 0:ce(o),this.optedOutAtRound=typeof s>"u"?void 0:ce(s)}getEncodingSchema(){return Oo.encodingSchema}toEncodingData(){return new Map([["address",this.address],["amount",this.amount],["is-frozen",this.isFrozen],["deleted",this.deleted],["opted-in-at-round",this.optedInAtRound],["opted-out-at-round",this.optedOutAtRound]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded MiniAssetHolding: ${e}`);return new Oo({address:e.get("address"),amount:e.get("amount"),isFrozen:e.get("is-frozen"),deleted:e.get("deleted"),optedInAtRound:e.get("opted-in-at-round"),optedOutAtRound:e.get("opted-out-at-round")})}}class Bo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"absent-participation-accounts",valueSchema:new p(new xe(new me)),omitEmpty:!0},{key:"expired-participation-accounts",valueSchema:new p(new xe(new me)),omitEmpty:!0})),this.encodingSchemaValue}constructor({absentParticipationAccounts:e,expiredParticipationAccounts:t}){this.absentParticipationAccounts=e,this.expiredParticipationAccounts=t}getEncodingSchema(){return Bo.encodingSchema}toEncodingData(){return new Map([["absent-participation-accounts",this.absentParticipationAccounts],["expired-participation-accounts",this.expiredParticipationAccounts]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ParticipationUpdates: ${e}`);return new Bo({absentParticipationAccounts:e.get("absent-participation-accounts"),expiredParticipationAccounts:e.get("expired-participation-accounts")})}}class Co{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"part-proofs",valueSchema:new p(Qn.encodingSchema),omitEmpty:!0},{key:"positions-to-reveal",valueSchema:new p(new xe(new M)),omitEmpty:!0},{key:"reveals",valueSchema:new p(new xe(Vo.encodingSchema)),omitEmpty:!0},{key:"salt-version",valueSchema:new p(new M),omitEmpty:!0},{key:"sig-commit",valueSchema:new p(new Me),omitEmpty:!0},{key:"sig-proofs",valueSchema:new p(Qn.encodingSchema),omitEmpty:!0},{key:"signed-weight",valueSchema:new p(new M),omitEmpty:!0})),this.encodingSchemaValue}constructor({partProofs:e,positionsToReveal:t,reveals:r,saltVersion:i,sigCommit:o,sigProofs:s,signedWeight:h}){this.partProofs=e,this.positionsToReveal=typeof t>"u"?void 0:t.map(ce),this.reveals=r,this.saltVersion=typeof i>"u"?void 0:Re(i),this.sigCommit=typeof o=="string"?Be(o):o,this.sigProofs=s,this.signedWeight=typeof h>"u"?void 0:ce(h)}getEncodingSchema(){return Co.encodingSchema}toEncodingData(){return new Map([["part-proofs",typeof this.partProofs<"u"?this.partProofs.toEncodingData():void 0],["positions-to-reveal",this.positionsToReveal],["reveals",typeof this.reveals<"u"?this.reveals.map(e=>e.toEncodingData()):void 0],["salt-version",this.saltVersion],["sig-commit",this.sigCommit],["sig-proofs",typeof this.sigProofs<"u"?this.sigProofs.toEncodingData():void 0],["signed-weight",this.signedWeight]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateProofFields: ${e}`);return new Co({partProofs:typeof e.get("part-proofs")<"u"?Qn.fromEncodingData(e.get("part-proofs")):void 0,positionsToReveal:e.get("positions-to-reveal"),reveals:typeof e.get("reveals")<"u"?e.get("reveals").map(t=>Vo.fromEncodingData(t)):void 0,saltVersion:e.get("salt-version"),sigCommit:e.get("sig-commit"),sigProofs:typeof e.get("sig-proofs")<"u"?Qn.fromEncodingData(e.get("sig-proofs")):void 0,signedWeight:e.get("signed-weight")})}}class No{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"verifier",valueSchema:new p(Fo.encodingSchema),omitEmpty:!0},{key:"weight",valueSchema:new p(new M),omitEmpty:!0})),this.encodingSchemaValue}constructor({verifier:e,weight:t}){this.verifier=e,this.weight=typeof t>"u"?void 0:ce(t)}getEncodingSchema(){return No.encodingSchema}toEncodingData(){return new Map([["verifier",typeof this.verifier<"u"?this.verifier.toEncodingData():void 0],["weight",this.weight]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateProofParticipant: ${e}`);return new No({verifier:typeof e.get("verifier")<"u"?Fo.fromEncodingData(e.get("verifier")):void 0,weight:e.get("weight")})}}class Vo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"participant",valueSchema:new p(No.encodingSchema),omitEmpty:!0},{key:"position",valueSchema:new p(new M),omitEmpty:!0},{key:"sig-slot",valueSchema:new p(Uo.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({participant:e,position:t,sigSlot:r}){this.participant=e,this.position=typeof t>"u"?void 0:ce(t),this.sigSlot=r}getEncodingSchema(){return Vo.encodingSchema}toEncodingData(){return new Map([["participant",typeof this.participant<"u"?this.participant.toEncodingData():void 0],["position",this.position],["sig-slot",typeof this.sigSlot<"u"?this.sigSlot.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateProofReveal: ${e}`);return new Vo({participant:typeof e.get("participant")<"u"?No.fromEncodingData(e.get("participant")):void 0,position:e.get("position"),sigSlot:typeof e.get("sig-slot")<"u"?Uo.fromEncodingData(e.get("sig-slot")):void 0})}}class Uo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"lower-sig-weight",valueSchema:new p(new M),omitEmpty:!0},{key:"signature",valueSchema:new p(Lo.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({lowerSigWeight:e,signature:t}){this.lowerSigWeight=typeof e>"u"?void 0:ce(e),this.signature=t}getEncodingSchema(){return Uo.encodingSchema}toEncodingData(){return new Map([["lower-sig-weight",this.lowerSigWeight],["signature",typeof this.signature<"u"?this.signature.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateProofSigSlot: ${e}`);return new Uo({lowerSigWeight:e.get("lower-sig-weight"),signature:typeof e.get("signature")<"u"?Lo.fromEncodingData(e.get("signature")):void 0})}}class Lo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"falcon-signature",valueSchema:new p(new Me),omitEmpty:!0},{key:"merkle-array-index",valueSchema:new p(new M),omitEmpty:!0},{key:"proof",valueSchema:new p(Qn.encodingSchema),omitEmpty:!0},{key:"verifying-key",valueSchema:new p(new Me),omitEmpty:!0})),this.encodingSchemaValue}constructor({falconSignature:e,merkleArrayIndex:t,proof:r,verifyingKey:i}){this.falconSignature=typeof e=="string"?Be(e):e,this.merkleArrayIndex=typeof t>"u"?void 0:Re(t),this.proof=r,this.verifyingKey=typeof i=="string"?Be(i):i}getEncodingSchema(){return Lo.encodingSchema}toEncodingData(){return new Map([["falcon-signature",this.falconSignature],["merkle-array-index",this.merkleArrayIndex],["proof",typeof this.proof<"u"?this.proof.toEncodingData():void 0],["verifying-key",this.verifyingKey]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateProofSignature: ${e}`);return new Lo({falconSignature:e.get("falcon-signature"),merkleArrayIndex:e.get("merkle-array-index"),proof:typeof e.get("proof")<"u"?Qn.fromEncodingData(e.get("proof")):void 0,verifyingKey:e.get("verifying-key")})}}class $o{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"next-round",valueSchema:new p(new M),omitEmpty:!0},{key:"online-total-weight",valueSchema:new p(new M),omitEmpty:!0},{key:"type",valueSchema:new p(new M),omitEmpty:!0},{key:"voters-commitment",valueSchema:new p(new Me),omitEmpty:!0})),this.encodingSchemaValue}constructor({nextRound:e,onlineTotalWeight:t,type:r,votersCommitment:i}){this.nextRound=typeof e>"u"?void 0:ce(e),this.onlineTotalWeight=typeof t>"u"?void 0:ce(t),this.type=typeof r>"u"?void 0:Re(r),this.votersCommitment=typeof i=="string"?Be(i):i}getEncodingSchema(){return $o.encodingSchema}toEncodingData(){return new Map([["next-round",this.nextRound],["online-total-weight",this.onlineTotalWeight],["type",this.type],["voters-commitment",this.votersCommitment]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateProofTracking: ${e}`);return new $o({nextRound:e.get("next-round"),onlineTotalWeight:e.get("online-total-weight"),type:e.get("type"),votersCommitment:e.get("voters-commitment")})}}class Fo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"commitment",valueSchema:new p(new Me),omitEmpty:!0},{key:"key-lifetime",valueSchema:new p(new M),omitEmpty:!0})),this.encodingSchemaValue}constructor({commitment:e,keyLifetime:t}){this.commitment=typeof e=="string"?Be(e):e,this.keyLifetime=typeof t>"u"?void 0:ce(t)}getEncodingSchema(){return Fo.encodingSchema}toEncodingData(){return new Map([["commitment",this.commitment],["key-lifetime",this.keyLifetime]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateProofVerifier: ${e}`);return new Fo({commitment:e.get("commitment"),keyLifetime:e.get("key-lifetime")})}}class Mr{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"num-byte-slice",valueSchema:new M,omitEmpty:!0},{key:"num-uint",valueSchema:new M,omitEmpty:!0})),this.encodingSchemaValue}constructor({numByteSlice:e,numUint:t}){this.numByteSlice=Re(e),this.numUint=Re(t)}getEncodingSchema(){return Mr.encodingSchema}toEncodingData(){return new Map([["num-byte-slice",this.numByteSlice],["num-uint",this.numUint]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateSchema: ${e}`);return new Mr({numByteSlice:e.get("num-byte-slice"),numUint:e.get("num-uint")})}}class $r{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"key",valueSchema:new Me,omitEmpty:!0},{key:"value",valueSchema:qo.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({key:e,value:t}){this.key=typeof e=="string"?Be(e):e,this.value=t}getEncodingSchema(){return $r.encodingSchema}toEncodingData(){return new Map([["key",this.key],["value",this.value.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TealKeyValue: ${e}`);return new $r({key:e.get("key"),value:qo.fromEncodingData(e.get("value")??new Map)})}}class qo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"bytes",valueSchema:new Me,omitEmpty:!0},{key:"type",valueSchema:new M,omitEmpty:!0},{key:"uint",valueSchema:new M,omitEmpty:!0})),this.encodingSchemaValue}constructor({bytes:e,type:t,uint:r}){this.bytes=typeof e=="string"?Be(e):e,this.type=Re(t),this.uint=ce(r)}getEncodingSchema(){return qo.encodingSchema}toEncodingData(){return new Map([["bytes",this.bytes],["type",this.type],["uint",this.uint]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TealValue: ${e}`);return new qo({bytes:e.get("bytes"),type:e.get("type"),uint:e.get("uint")})}}class Bn{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"fee",valueSchema:new M,omitEmpty:!0},{key:"first-valid",valueSchema:new M,omitEmpty:!0},{key:"last-valid",valueSchema:new M,omitEmpty:!0},{key:"sender",valueSchema:new me,omitEmpty:!0},{key:"application-transaction",valueSchema:new p(zo.encodingSchema),omitEmpty:!0},{key:"asset-config-transaction",valueSchema:new p(Ho.encodingSchema),omitEmpty:!0},{key:"asset-freeze-transaction",valueSchema:new p(Wo.encodingSchema),omitEmpty:!0},{key:"asset-transfer-transaction",valueSchema:new p(jo.encodingSchema),omitEmpty:!0},{key:"auth-addr",valueSchema:new p(new me),omitEmpty:!0},{key:"close-rewards",valueSchema:new p(new M),omitEmpty:!0},{key:"closing-amount",valueSchema:new p(new M),omitEmpty:!0},{key:"confirmed-round",valueSchema:new p(new M),omitEmpty:!0},{key:"created-application-index",valueSchema:new p(new M),omitEmpty:!0},{key:"created-asset-index",valueSchema:new p(new M),omitEmpty:!0},{key:"genesis-hash",valueSchema:new p(new Me),omitEmpty:!0},{key:"genesis-id",valueSchema:new p(new me),omitEmpty:!0},{key:"global-state-delta",valueSchema:new p(new xe(Lr.encodingSchema)),omitEmpty:!0},{key:"group",valueSchema:new p(new Me),omitEmpty:!0},{key:"heartbeat-transaction",valueSchema:new p(Go.encodingSchema),omitEmpty:!0},{key:"id",valueSchema:new p(new me),omitEmpty:!0},{key:"inner-txns",valueSchema:new p(new xe(Bn.encodingSchema)),omitEmpty:!0},{key:"intra-round-offset",valueSchema:new p(new M),omitEmpty:!0},{key:"keyreg-transaction",valueSchema:new p(Ko.encodingSchema),omitEmpty:!0},{key:"lease",valueSchema:new p(new Me),omitEmpty:!0},{key:"local-state-delta",valueSchema:new p(new xe(So.encodingSchema)),omitEmpty:!0},{key:"logs",valueSchema:new p(new xe(new Me)),omitEmpty:!0},{key:"note",valueSchema:new p(new Me),omitEmpty:!0},{key:"payment-transaction",valueSchema:new p(Jo.encodingSchema),omitEmpty:!0},{key:"receiver-rewards",valueSchema:new p(new M),omitEmpty:!0},{key:"rekey-to",valueSchema:new p(new me),omitEmpty:!0},{key:"round-time",valueSchema:new p(new M),omitEmpty:!0},{key:"sender-rewards",valueSchema:new p(new M),omitEmpty:!0},{key:"signature",valueSchema:new p(Yo.encodingSchema),omitEmpty:!0},{key:"state-proof-transaction",valueSchema:new p(Qo.encodingSchema),omitEmpty:!0},{key:"tx-type",valueSchema:new p(new me),omitEmpty:!0})),this.encodingSchemaValue}constructor({fee:e,firstValid:t,lastValid:r,sender:i,applicationTransaction:o,assetConfigTransaction:s,assetFreezeTransaction:h,assetTransferTransaction:m,authAddr:u,closeRewards:v,closingAmount:T,confirmedRound:B,createdApplicationIndex:W,createdAssetIndex:U,genesisHash:ne,genesisId:E,globalStateDelta:C,group:N,heartbeatTransaction:$,id:re,innerTxns:ue,intraRoundOffset:I,keyregTransaction:Y,lease:Z,localStateDelta:ge,logs:S,note:a,paymentTransaction:f,receiverRewards:g,rekeyTo:x,roundTime:R,senderRewards:V,signature:H,stateProofTransaction:_,txType:l}){this.fee=ce(e),this.firstValid=ce(t),this.lastValid=ce(r),this.sender=i,this.applicationTransaction=o,this.assetConfigTransaction=s,this.assetFreezeTransaction=h,this.assetTransferTransaction=m,this.authAddr=typeof u=="string"?ot.fromString(u):u,this.closeRewards=typeof v>"u"?void 0:ce(v),this.closingAmount=typeof T>"u"?void 0:ce(T),this.confirmedRound=typeof B>"u"?void 0:ce(B),this.createdApplicationIndex=typeof W>"u"?void 0:ce(W),this.createdAssetIndex=typeof U>"u"?void 0:ce(U),this.genesisHash=typeof ne=="string"?Be(ne):ne,this.genesisId=E,this.globalStateDelta=C,this.group=typeof N=="string"?Be(N):N,this.heartbeatTransaction=$,this.id=re,this.innerTxns=ue,this.intraRoundOffset=typeof I>"u"?void 0:Re(I),this.keyregTransaction=Y,this.lease=typeof Z=="string"?Be(Z):Z,this.localStateDelta=ge,this.logs=S,this.note=typeof a=="string"?Be(a):a,this.paymentTransaction=f,this.receiverRewards=typeof g>"u"?void 0:ce(g),this.rekeyTo=typeof x=="string"?ot.fromString(x):x,this.roundTime=typeof R>"u"?void 0:Re(R),this.senderRewards=typeof V>"u"?void 0:ce(V),this.signature=H,this.stateProofTransaction=_,this.txType=l}getEncodingSchema(){return Bn.encodingSchema}toEncodingData(){return new Map([["fee",this.fee],["first-valid",this.firstValid],["last-valid",this.lastValid],["sender",this.sender],["application-transaction",typeof this.applicationTransaction<"u"?this.applicationTransaction.toEncodingData():void 0],["asset-config-transaction",typeof this.assetConfigTransaction<"u"?this.assetConfigTransaction.toEncodingData():void 0],["asset-freeze-transaction",typeof this.assetFreezeTransaction<"u"?this.assetFreezeTransaction.toEncodingData():void 0],["asset-transfer-transaction",typeof this.assetTransferTransaction<"u"?this.assetTransferTransaction.toEncodingData():void 0],["auth-addr",typeof this.authAddr<"u"?this.authAddr.toString():void 0],["close-rewards",this.closeRewards],["closing-amount",this.closingAmount],["confirmed-round",this.confirmedRound],["created-application-index",this.createdApplicationIndex],["created-asset-index",this.createdAssetIndex],["genesis-hash",this.genesisHash],["genesis-id",this.genesisId],["global-state-delta",typeof this.globalStateDelta<"u"?this.globalStateDelta.map(e=>e.toEncodingData()):void 0],["group",this.group],["heartbeat-transaction",typeof this.heartbeatTransaction<"u"?this.heartbeatTransaction.toEncodingData():void 0],["id",this.id],["inner-txns",typeof this.innerTxns<"u"?this.innerTxns.map(e=>e.toEncodingData()):void 0],["intra-round-offset",this.intraRoundOffset],["keyreg-transaction",typeof this.keyregTransaction<"u"?this.keyregTransaction.toEncodingData():void 0],["lease",this.lease],["local-state-delta",typeof this.localStateDelta<"u"?this.localStateDelta.map(e=>e.toEncodingData()):void 0],["logs",this.logs],["note",this.note],["payment-transaction",typeof this.paymentTransaction<"u"?this.paymentTransaction.toEncodingData():void 0],["receiver-rewards",this.receiverRewards],["rekey-to",typeof this.rekeyTo<"u"?this.rekeyTo.toString():void 0],["round-time",this.roundTime],["sender-rewards",this.senderRewards],["signature",typeof this.signature<"u"?this.signature.toEncodingData():void 0],["state-proof-transaction",typeof this.stateProofTransaction<"u"?this.stateProofTransaction.toEncodingData():void 0],["tx-type",this.txType]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Transaction: ${e}`);return new Bn({fee:e.get("fee"),firstValid:e.get("first-valid"),lastValid:e.get("last-valid"),sender:e.get("sender"),applicationTransaction:typeof e.get("application-transaction")<"u"?zo.fromEncodingData(e.get("application-transaction")):void 0,assetConfigTransaction:typeof e.get("asset-config-transaction")<"u"?Ho.fromEncodingData(e.get("asset-config-transaction")):void 0,assetFreezeTransaction:typeof e.get("asset-freeze-transaction")<"u"?Wo.fromEncodingData(e.get("asset-freeze-transaction")):void 0,assetTransferTransaction:typeof e.get("asset-transfer-transaction")<"u"?jo.fromEncodingData(e.get("asset-transfer-transaction")):void 0,authAddr:e.get("auth-addr"),closeRewards:e.get("close-rewards"),closingAmount:e.get("closing-amount"),confirmedRound:e.get("confirmed-round"),createdApplicationIndex:e.get("created-application-index"),createdAssetIndex:e.get("created-asset-index"),genesisHash:e.get("genesis-hash"),genesisId:e.get("genesis-id"),globalStateDelta:typeof e.get("global-state-delta")<"u"?e.get("global-state-delta").map(t=>Lr.fromEncodingData(t)):void 0,group:e.get("group"),heartbeatTransaction:typeof e.get("heartbeat-transaction")<"u"?Go.fromEncodingData(e.get("heartbeat-transaction")):void 0,id:e.get("id"),innerTxns:typeof e.get("inner-txns")<"u"?e.get("inner-txns").map(t=>Bn.fromEncodingData(t)):void 0,intraRoundOffset:e.get("intra-round-offset"),keyregTransaction:typeof e.get("keyreg-transaction")<"u"?Ko.fromEncodingData(e.get("keyreg-transaction")):void 0,lease:e.get("lease"),localStateDelta:typeof e.get("local-state-delta")<"u"?e.get("local-state-delta").map(t=>So.fromEncodingData(t)):void 0,logs:e.get("logs"),note:e.get("note"),paymentTransaction:typeof e.get("payment-transaction")<"u"?Jo.fromEncodingData(e.get("payment-transaction")):void 0,receiverRewards:e.get("receiver-rewards"),rekeyTo:e.get("rekey-to"),roundTime:e.get("round-time"),senderRewards:e.get("sender-rewards"),signature:typeof e.get("signature")<"u"?Yo.fromEncodingData(e.get("signature")):void 0,stateProofTransaction:typeof e.get("state-proof-transaction")<"u"?Qo.fromEncodingData(e.get("state-proof-transaction")):void 0,txType:e.get("tx-type")})}}class zo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"application-id",valueSchema:new M,omitEmpty:!0},{key:"accounts",valueSchema:new p(new xe(new me)),omitEmpty:!0},{key:"application-args",valueSchema:new p(new xe(new Me)),omitEmpty:!0},{key:"approval-program",valueSchema:new p(new Me),omitEmpty:!0},{key:"clear-state-program",valueSchema:new p(new Me),omitEmpty:!0},{key:"extra-program-pages",valueSchema:new p(new M),omitEmpty:!0},{key:"foreign-apps",valueSchema:new p(new xe(new M)),omitEmpty:!0},{key:"foreign-assets",valueSchema:new p(new xe(new M)),omitEmpty:!0},{key:"global-state-schema",valueSchema:new p(Mr.encodingSchema),omitEmpty:!0},{key:"local-state-schema",valueSchema:new p(Mr.encodingSchema),omitEmpty:!0},{key:"on-completion",valueSchema:new p(new me),omitEmpty:!0})),this.encodingSchemaValue}constructor({applicationId:e,accounts:t,applicationArgs:r,approvalProgram:i,clearStateProgram:o,extraProgramPages:s,foreignApps:h,foreignAssets:m,globalStateSchema:u,localStateSchema:v,onCompletion:T}){this.applicationId=ce(e),this.accounts=typeof t<"u"?t.map(B=>typeof B=="string"?ot.fromString(B):B):void 0,this.applicationArgs=r,this.approvalProgram=typeof i=="string"?Be(i):i,this.clearStateProgram=typeof o=="string"?Be(o):o,this.extraProgramPages=typeof s>"u"?void 0:Re(s),this.foreignApps=typeof h>"u"?void 0:h.map(ce),this.foreignAssets=typeof m>"u"?void 0:m.map(ce),this.globalStateSchema=u,this.localStateSchema=v,this.onCompletion=T}getEncodingSchema(){return zo.encodingSchema}toEncodingData(){return new Map([["application-id",this.applicationId],["accounts",typeof this.accounts<"u"?this.accounts.map(e=>e.toString()):void 0],["application-args",this.applicationArgs],["approval-program",this.approvalProgram],["clear-state-program",this.clearStateProgram],["extra-program-pages",this.extraProgramPages],["foreign-apps",this.foreignApps],["foreign-assets",this.foreignAssets],["global-state-schema",typeof this.globalStateSchema<"u"?this.globalStateSchema.toEncodingData():void 0],["local-state-schema",typeof this.localStateSchema<"u"?this.localStateSchema.toEncodingData():void 0],["on-completion",this.onCompletion]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionApplication: ${e}`);return new zo({applicationId:e.get("application-id"),accounts:e.get("accounts"),applicationArgs:e.get("application-args"),approvalProgram:e.get("approval-program"),clearStateProgram:e.get("clear-state-program"),extraProgramPages:e.get("extra-program-pages"),foreignApps:e.get("foreign-apps"),foreignAssets:e.get("foreign-assets"),globalStateSchema:typeof e.get("global-state-schema")<"u"?Mr.fromEncodingData(e.get("global-state-schema")):void 0,localStateSchema:typeof e.get("local-state-schema")<"u"?Mr.fromEncodingData(e.get("local-state-schema")):void 0,onCompletion:e.get("on-completion")})}}class Ho{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"asset-id",valueSchema:new p(new M),omitEmpty:!0},{key:"params",valueSchema:new p(Ur.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({assetId:e,params:t}){this.assetId=typeof e>"u"?void 0:ce(e),this.params=t}getEncodingSchema(){return Ho.encodingSchema}toEncodingData(){return new Map([["asset-id",this.assetId],["params",typeof this.params<"u"?this.params.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionAssetConfig: ${e}`);return new Ho({assetId:e.get("asset-id"),params:typeof e.get("params")<"u"?Ur.fromEncodingData(e.get("params")):void 0})}}class Wo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"address",valueSchema:new me,omitEmpty:!0},{key:"asset-id",valueSchema:new M,omitEmpty:!0},{key:"new-freeze-status",valueSchema:new lt,omitEmpty:!0})),this.encodingSchemaValue}constructor({address:e,assetId:t,newFreezeStatus:r}){this.address=e,this.assetId=ce(t),this.newFreezeStatus=r}getEncodingSchema(){return Wo.encodingSchema}toEncodingData(){return new Map([["address",this.address],["asset-id",this.assetId],["new-freeze-status",this.newFreezeStatus]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionAssetFreeze: ${e}`);return new Wo({address:e.get("address"),assetId:e.get("asset-id"),newFreezeStatus:e.get("new-freeze-status")})}}class jo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"amount",valueSchema:new M,omitEmpty:!0},{key:"asset-id",valueSchema:new M,omitEmpty:!0},{key:"receiver",valueSchema:new me,omitEmpty:!0},{key:"close-amount",valueSchema:new p(new M),omitEmpty:!0},{key:"close-to",valueSchema:new p(new me),omitEmpty:!0},{key:"sender",valueSchema:new p(new me),omitEmpty:!0})),this.encodingSchemaValue}constructor({amount:e,assetId:t,receiver:r,closeAmount:i,closeTo:o,sender:s}){this.amount=ce(e),this.assetId=ce(t),this.receiver=r,this.closeAmount=typeof i>"u"?void 0:ce(i),this.closeTo=o,this.sender=s}getEncodingSchema(){return jo.encodingSchema}toEncodingData(){return new Map([["amount",this.amount],["asset-id",this.assetId],["receiver",this.receiver],["close-amount",this.closeAmount],["close-to",this.closeTo],["sender",this.sender]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionAssetTransfer: ${e}`);return new jo({amount:e.get("amount"),assetId:e.get("asset-id"),receiver:e.get("receiver"),closeAmount:e.get("close-amount"),closeTo:e.get("close-to"),sender:e.get("sender")})}}class Go{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"hb-address",valueSchema:new me,omitEmpty:!0},{key:"hb-key-dilution",valueSchema:new M,omitEmpty:!0},{key:"hb-proof",valueSchema:_o.encodingSchema,omitEmpty:!0},{key:"hb-seed",valueSchema:new Me,omitEmpty:!0},{key:"hb-vote-id",valueSchema:new Me,omitEmpty:!0})),this.encodingSchemaValue}constructor({hbAddress:e,hbKeyDilution:t,hbProof:r,hbSeed:i,hbVoteId:o}){this.hbAddress=e,this.hbKeyDilution=ce(t),this.hbProof=r,this.hbSeed=typeof i=="string"?Be(i):i,this.hbVoteId=typeof o=="string"?Be(o):o}getEncodingSchema(){return Go.encodingSchema}toEncodingData(){return new Map([["hb-address",this.hbAddress],["hb-key-dilution",this.hbKeyDilution],["hb-proof",this.hbProof.toEncodingData()],["hb-seed",this.hbSeed],["hb-vote-id",this.hbVoteId]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionHeartbeat: ${e}`);return new Go({hbAddress:e.get("hb-address"),hbKeyDilution:e.get("hb-key-dilution"),hbProof:_o.fromEncodingData(e.get("hb-proof")??new Map),hbSeed:e.get("hb-seed"),hbVoteId:e.get("hb-vote-id")})}}class Ko{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"non-participation",valueSchema:new p(new lt),omitEmpty:!0},{key:"selection-participation-key",valueSchema:new p(new Me),omitEmpty:!0},{key:"state-proof-key",valueSchema:new p(new Me),omitEmpty:!0},{key:"vote-first-valid",valueSchema:new p(new M),omitEmpty:!0},{key:"vote-key-dilution",valueSchema:new p(new M),omitEmpty:!0},{key:"vote-last-valid",valueSchema:new p(new M),omitEmpty:!0},{key:"vote-participation-key",valueSchema:new p(new Me),omitEmpty:!0})),this.encodingSchemaValue}constructor({nonParticipation:e,selectionParticipationKey:t,stateProofKey:r,voteFirstValid:i,voteKeyDilution:o,voteLastValid:s,voteParticipationKey:h}){this.nonParticipation=e,this.selectionParticipationKey=typeof t=="string"?Be(t):t,this.stateProofKey=typeof r=="string"?Be(r):r,this.voteFirstValid=typeof i>"u"?void 0:ce(i),this.voteKeyDilution=typeof o>"u"?void 0:ce(o),this.voteLastValid=typeof s>"u"?void 0:ce(s),this.voteParticipationKey=typeof h=="string"?Be(h):h}getEncodingSchema(){return Ko.encodingSchema}toEncodingData(){return new Map([["non-participation",this.nonParticipation],["selection-participation-key",this.selectionParticipationKey],["state-proof-key",this.stateProofKey],["vote-first-valid",this.voteFirstValid],["vote-key-dilution",this.voteKeyDilution],["vote-last-valid",this.voteLastValid],["vote-participation-key",this.voteParticipationKey]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionKeyreg: ${e}`);return new Ko({nonParticipation:e.get("non-participation"),selectionParticipationKey:e.get("selection-participation-key"),stateProofKey:e.get("state-proof-key"),voteFirstValid:e.get("vote-first-valid"),voteKeyDilution:e.get("vote-key-dilution"),voteLastValid:e.get("vote-last-valid"),voteParticipationKey:e.get("vote-participation-key")})}}class Jo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"amount",valueSchema:new M,omitEmpty:!0},{key:"receiver",valueSchema:new me,omitEmpty:!0},{key:"close-amount",valueSchema:new p(new M),omitEmpty:!0},{key:"close-remainder-to",valueSchema:new p(new me),omitEmpty:!0})),this.encodingSchemaValue}constructor({amount:e,receiver:t,closeAmount:r,closeRemainderTo:i}){this.amount=ce(e),this.receiver=t,this.closeAmount=typeof r>"u"?void 0:ce(r),this.closeRemainderTo=i}getEncodingSchema(){return Jo.encodingSchema}toEncodingData(){return new Map([["amount",this.amount],["receiver",this.receiver],["close-amount",this.closeAmount],["close-remainder-to",this.closeRemainderTo]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionPayment: ${e}`);return new Jo({amount:e.get("amount"),receiver:e.get("receiver"),closeAmount:e.get("close-amount"),closeRemainderTo:e.get("close-remainder-to")})}}class ca{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"current-round",valueSchema:new M,omitEmpty:!0},{key:"transaction",valueSchema:Bn.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({currentRound:e,transaction:t}){this.currentRound=ce(e),this.transaction=t}getEncodingSchema(){return ca.encodingSchema}toEncodingData(){return new Map([["current-round",this.currentRound],["transaction",this.transaction.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionResponse: ${e}`);return new ca({currentRound:e.get("current-round"),transaction:Bn.fromEncodingData(e.get("transaction")??new Map)})}}class Yo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"logicsig",valueSchema:new p(Xo.encodingSchema),omitEmpty:!0},{key:"multisig",valueSchema:new p(Fr.encodingSchema),omitEmpty:!0},{key:"sig",valueSchema:new p(new Me),omitEmpty:!0})),this.encodingSchemaValue}constructor({logicsig:e,multisig:t,sig:r}){this.logicsig=e,this.multisig=t,this.sig=typeof r=="string"?Be(r):r}getEncodingSchema(){return Yo.encodingSchema}toEncodingData(){return new Map([["logicsig",typeof this.logicsig<"u"?this.logicsig.toEncodingData():void 0],["multisig",typeof this.multisig<"u"?this.multisig.toEncodingData():void 0],["sig",this.sig]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionSignature: ${e}`);return new Yo({logicsig:typeof e.get("logicsig")<"u"?Xo.fromEncodingData(e.get("logicsig")):void 0,multisig:typeof e.get("multisig")<"u"?Fr.fromEncodingData(e.get("multisig")):void 0,sig:e.get("sig")})}}class Xo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"logic",valueSchema:new Me,omitEmpty:!0},{key:"args",valueSchema:new p(new xe(new Me)),omitEmpty:!0},{key:"multisig-signature",valueSchema:new p(Fr.encodingSchema),omitEmpty:!0},{key:"signature",valueSchema:new p(new Me),omitEmpty:!0})),this.encodingSchemaValue}constructor({logic:e,args:t,multisigSignature:r,signature:i}){this.logic=typeof e=="string"?Be(e):e,this.args=t,this.multisigSignature=r,this.signature=typeof i=="string"?Be(i):i}getEncodingSchema(){return Xo.encodingSchema}toEncodingData(){return new Map([["logic",this.logic],["args",this.args],["multisig-signature",typeof this.multisigSignature<"u"?this.multisigSignature.toEncodingData():void 0],["signature",this.signature]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionSignatureLogicsig: ${e}`);return new Xo({logic:e.get("logic"),args:e.get("args"),multisigSignature:typeof e.get("multisig-signature")<"u"?Fr.fromEncodingData(e.get("multisig-signature")):void 0,signature:e.get("signature")})}}class Fr{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"subsignature",valueSchema:new p(new xe(Zo.encodingSchema)),omitEmpty:!0},{key:"threshold",valueSchema:new p(new M),omitEmpty:!0},{key:"version",valueSchema:new p(new M),omitEmpty:!0})),this.encodingSchemaValue}constructor({subsignature:e,threshold:t,version:r}){this.subsignature=e,this.threshold=typeof t>"u"?void 0:Re(t),this.version=typeof r>"u"?void 0:Re(r)}getEncodingSchema(){return Fr.encodingSchema}toEncodingData(){return new Map([["subsignature",typeof this.subsignature<"u"?this.subsignature.map(e=>e.toEncodingData()):void 0],["threshold",this.threshold],["version",this.version]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionSignatureMultisig: ${e}`);return new Fr({subsignature:typeof e.get("subsignature")<"u"?e.get("subsignature").map(t=>Zo.fromEncodingData(t)):void 0,threshold:e.get("threshold"),version:e.get("version")})}}class Zo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"public-key",valueSchema:new p(new Me),omitEmpty:!0},{key:"signature",valueSchema:new p(new Me),omitEmpty:!0})),this.encodingSchemaValue}constructor({publicKey:e,signature:t}){this.publicKey=typeof e=="string"?Be(e):e,this.signature=typeof t=="string"?Be(t):t}getEncodingSchema(){return Zo.encodingSchema}toEncodingData(){return new Map([["public-key",this.publicKey],["signature",this.signature]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionSignatureMultisigSubsignature: ${e}`);return new Zo({publicKey:e.get("public-key"),signature:e.get("signature")})}}class Qo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"message",valueSchema:new p(Po.encodingSchema),omitEmpty:!0},{key:"state-proof",valueSchema:new p(Co.encodingSchema),omitEmpty:!0},{key:"state-proof-type",valueSchema:new p(new M),omitEmpty:!0})),this.encodingSchemaValue}constructor({message:e,stateProof:t,stateProofType:r}){this.message=e,this.stateProof=t,this.stateProofType=typeof r>"u"?void 0:Re(r)}getEncodingSchema(){return Qo.encodingSchema}toEncodingData(){return new Map([["message",typeof this.message<"u"?this.message.toEncodingData():void 0],["state-proof",typeof this.stateProof<"u"?this.stateProof.toEncodingData():void 0],["state-proof-type",this.stateProofType]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionStateProof: ${e}`);return new Qo({message:typeof e.get("message")<"u"?Po.fromEncodingData(e.get("message")):void 0,stateProof:typeof e.get("state-proof")<"u"?Co.fromEncodingData(e.get("state-proof")):void 0,stateProofType:e.get("state-proof-type")})}}class Ui{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new K([]),this.encodingSchemaValue.pushEntries({key:"current-round",valueSchema:new M,omitEmpty:!0},{key:"transactions",valueSchema:new xe(Bn.encodingSchema),omitEmpty:!0},{key:"next-token",valueSchema:new p(new me),omitEmpty:!0})),this.encodingSchemaValue}constructor({currentRound:e,transactions:t,nextToken:r}){this.currentRound=ce(e),this.transactions=t,this.nextToken=r}getEncodingSchema(){return Ui.encodingSchema}toEncodingData(){return new Map([["current-round",this.currentRound],["transactions",this.transactions.map(e=>e.toEncodingData())],["next-token",this.nextToken]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionsResponse: ${e}`);return new Ui({currentRound:e.get("current-round"),transactions:(e.get("transactions")??[]).map(t=>Bn.fromEncodingData(t)),nextToken:e.get("next-token")})}}const lS=Object.freeze(Object.defineProperty({__proto__:null,Account:Cr,AccountParticipation:vo,AccountResponse:Ys,AccountStateDelta:So,AccountsResponse:Xs,Application:ir,ApplicationLocalState:Nr,ApplicationLocalStatesResponse:Zs,ApplicationLogData:Eo,ApplicationLogsResponse:Qs,ApplicationParams:bo,ApplicationResponse:ea,ApplicationStateSchema:On,ApplicationsResponse:xo,Asset:or,AssetBalancesResponse:ta,AssetHolding:Vr,AssetHoldingsResponse:na,AssetParams:Ur,AssetResponse:ra,AssetsResponse:ko,Block:Vi,BlockHeadersResponse:ia,BlockRewards:Ao,BlockUpgradeState:Mo,BlockUpgradeVote:Do,Box:oa,BoxDescriptor:To,BoxesResponse:sa,ErrorResponse:za,EvalDelta:Io,EvalDeltaKeyValue:Lr,HashFactory:Ro,HbProofFields:_o,HealthCheck:aa,IndexerStateProofMessage:Po,MerkleArrayProof:Qn,MiniAssetHolding:Oo,ParticipationUpdates:Bo,StateProofFields:Co,StateProofParticipant:No,StateProofReveal:Vo,StateProofSigSlot:Uo,StateProofSignature:Lo,StateProofTracking:$o,StateProofVerifier:Fo,StateSchema:Mr,TealKeyValue:$r,TealValue:qo,Transaction:Bn,TransactionApplication:zo,TransactionAssetConfig:Ho,TransactionAssetFreeze:Wo,TransactionAssetTransfer:jo,TransactionHeartbeat:Go,TransactionKeyreg:Ko,TransactionPayment:Jo,TransactionResponse:ca,TransactionSignature:Yo,TransactionSignatureLogicsig:Xo,TransactionSignatureMultisig:Fr,TransactionSignatureMultisigSubsignature:Zo,TransactionStateProof:Qo,TransactionsResponse:Ui},Symbol.toStringTag,{value:"Module"}));class fS extends Ze{path(){return"/health"}prepare(e){return pt(e.getJSONText(),aa)}}class dS extends Ze{constructor(e,t){super(e),this.index=BigInt(t)}path(){return`/v2/assets/${this.index}/balances`}limit(e){return this.query.limit=e,this}currencyGreaterThan(e){return this.query["currency-greater-than"]=e.toString(),this}currencyLessThan(e){return this.query["currency-less-than"]=e,this}nextToken(e){return this.query.next=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}prepare(e){return pt(e.getJSONText(),ta)}}function Mu(n){return typeof n=="string"?n:un(n)}class gS extends Ze{constructor(e,t){super(e),this.account=t.toString()}path(){return`/v2/accounts/${this.account}/transactions`}notePrefix(e){return this.query["note-prefix"]=Mu(e),this}txType(e){return this.query["tx-type"]=e,this}sigType(e){return this.query["sig-type"]=e,this}txid(e){return this.query.txid=e,this}round(e){return this.query.round=e,this}minRound(e){return this.query["min-round"]=e,this}maxRound(e){return this.query["max-round"]=e,this}assetID(e){return this.query["asset-id"]=e,this}limit(e){return this.query.limit=e,this}beforeTime(e){return this.query["before-time"]=e instanceof Date?e.toISOString():e,this}afterTime(e){return this.query["after-time"]=e instanceof Date?e.toISOString():e,this}currencyGreaterThan(e){return this.query["currency-greater-than"]=e.toString(),this}currencyLessThan(e){return this.query["currency-less-than"]=e,this}nextToken(e){return this.query.next=e,this}rekeyTo(e){return this.query["rekey-to"]=e,this}prepare(e){return pt(e.getJSONText(),Ui)}}class pS extends Ze{constructor(e,t){super(e),this.index=BigInt(t)}path(){return`/v2/assets/${this.index}/transactions`}notePrefix(e){return this.query["note-prefix"]=Mu(e),this}txType(e){return this.query["tx-type"]=e,this}sigType(e){return this.query["sig-type"]=e,this}txid(e){return this.query.txid=e,this}round(e){return this.query.round=e,this}minRound(e){return this.query["min-round"]=e,this}maxRound(e){return this.query["max-round"]=e,this}limit(e){return this.query.limit=e,this}beforeTime(e){return this.query["before-time"]=e instanceof Date?e.toISOString():e,this}afterTime(e){return this.query["after-time"]=e instanceof Date?e.toISOString():e,this}currencyGreaterThan(e){return this.query["currency-greater-than"]=e.toString(),this}currencyLessThan(e){return this.query["currency-less-than"]=e,this}addressRole(e){return this.query["address-role"]=e,this}address(e){return this.query.address=e.toString(),this}excludeCloseTo(e){return this.query["exclude-close-to"]=e,this}nextToken(e){return this.query.next=e,this}rekeyTo(e){return this.query["rekey-to"]=e,this}prepare(e){return pt(e.getJSONText(),Ui)}}class mS extends Ze{constructor(e,t){super(e),this.round=BigInt(t)}path(){return`/v2/blocks/${this.round}`}headerOnly(e){return this.query["header-only"]=e,this}prepare(e){return pt(e.getJSONText(),Vi)}}class yS extends Ze{constructor(e,t){super(e),this.txID=t}path(){return`/v2/transactions/${this.txID}`}prepare(e){return pt(e.getJSONText(),ca)}}class wS extends Ze{constructor(e,t){super(e),this.account=t.toString()}path(){return`/v2/accounts/${this.account}`}round(e){return this.query.round=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}exclude(e){return this.query.exclude=e,this}prepare(e){return pt(e.getJSONText(),Ys)}}class vS extends Ze{constructor(e,t){super(e),this.account=t.toString()}path(){return`/v2/accounts/${this.account}/assets`}limit(e){return this.query.limit=e,this}round(e){return this.query.round=e,this}nextToken(e){return this.query.next=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}assetId(e){return this.query["asset-id"]=e,this}prepare(e){return pt(e.getJSONText(),na)}}class SS extends Ze{constructor(e,t){super(e),this.account=t.toString()}path(){return`/v2/accounts/${this.account}/created-assets`}limit(e){return this.query.limit=e,this}round(e){return this.query.round=e,this}nextToken(e){return this.query.next=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}assetID(e){return this.query["asset-id"]=e,this}prepare(e){return pt(e.getJSONText(),ko)}}class ES extends Ze{constructor(e,t){super(e),this.account=t.toString()}path(){return`/v2/accounts/${this.account}/apps-local-state`}limit(e){return this.query.limit=e,this}round(e){return this.query.round=e,this}nextToken(e){return this.query.next=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}applicationID(e){return this.query["application-id"]=e,this}prepare(e){return pt(e.getJSONText(),Zs)}}class bS extends Ze{constructor(e,t){super(e),this.account=t.toString()}path(){return`/v2/accounts/${this.account}/created-applications`}limit(e){return this.query.limit=e,this}round(e){return this.query.round=e,this}nextToken(e){return this.query.next=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}applicationID(e){return this.query["application-id"]=e,this}prepare(e){return pt(e.getJSONText(),xo)}}class xS extends Ze{constructor(e,t){super(e),this.index=BigInt(t)}path(){return`/v2/assets/${this.index}`}includeAll(e=!0){return this.query["include-all"]=e,this}prepare(e){return pt(e.getJSONText(),ra)}}class kS extends Ze{constructor(e,t){super(e),this.index=BigInt(t)}path(){return`/v2/applications/${this.index}`}includeAll(e=!0){return this.query["include-all"]=e,this}prepare(e){return pt(e.getJSONText(),ea)}}class AS extends Ze{constructor(e,t){super(e),this.appID=BigInt(t)}path(){return`/v2/applications/${this.appID}/logs`}limit(e){return this.query.limit=e,this}minRound(e){return this.query["min-round"]=e,this}maxRound(e){return this.query["max-round"]=e,this}nextToken(e){return this.query.next=e,this}sender(e){return this.query["sender-address"]=e,this}txid(e){return this.query.txid=e,this}prepare(e){return pt(e.getJSONText(),Qs)}}class MS extends Ze{constructor(e,t,r){super(e),this.index=BigInt(t);const i=un(r);this.query.name=encodeURI(`b64:${i}`)}path(){return`/v2/applications/${this.index}/box`}prepare(e){return pt(e.getJSONText(),oa)}}class DS extends Ze{path(){return"/v2/accounts"}currencyGreaterThan(e){return this.query["currency-greater-than"]=e.toString(),this}currencyLessThan(e){return this.query["currency-less-than"]=e,this}limit(e){return this.query.limit=e,this}assetID(e){return this.query["asset-id"]=e,this}nextToken(e){return this.query.next=e,this}round(e){return this.query.round=e,this}authAddr(e){return this.query["auth-addr"]=e.toString(),this}applicationID(e){return this.query["application-id"]=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}exclude(e){return this.query.exclude=e,this}onlineOnly(e){return this.query["online-only"]=e,this}prepare(e){return pt(e.getJSONText(),Xs)}}class TS extends Ze{path(){return"/v2/block-headers"}absent(e){return this.query.absent=e,this}afterTime(e){return this.query["after-time"]=e instanceof Date?e.toISOString():e,this}beforeTime(e){return this.query["before-time"]=e instanceof Date?e.toISOString():e,this}expired(e){return this.query.expired=e,this}limit(e){return this.query.limit=e,this}maxRound(e){return this.query["max-round"]=e,this}minRound(e){return this.query["min-round"]=e,this}nextToken(e){return this.query.next=e,this}proposers(e){return this.query.proposers=e,this}prepare(e){return pt(e.getJSONText(),ia)}}class IS extends Ze{path(){return"/v2/transactions"}notePrefix(e){return this.query["note-prefix"]=Mu(e),this}txType(e){return this.query["tx-type"]=e,this}sigType(e){return this.query["sig-type"]=e,this}txid(e){return this.query.txid=e,this}round(e){return this.query.round=e,this}minRound(e){return this.query["min-round"]=e,this}maxRound(e){return this.query["max-round"]=e,this}assetID(e){return this.query["asset-id"]=e,this}limit(e){return this.query.limit=e,this}beforeTime(e){return this.query["before-time"]=e instanceof Date?e.toISOString():e,this}afterTime(e){return this.query["after-time"]=e instanceof Date?e.toISOString():e,this}addressRole(e){return this.query["address-role"]=e,this}address(e){return this.query.address=e.toString(),this}excludeCloseTo(e){return this.query["exclude-close-to"]=e,this}nextToken(e){return this.query.next=e,this}rekeyTo(e){return this.query["rekey-to"]=e,this}applicationID(e){return this.query["application-id"]=e,this}currencyGreaterThan(e){return this.query["currency-greater-than"]=e.toString(),this}currencyLessThan(e){return this.query["currency-less-than"]=e,this}prepare(e){return pt(e.getJSONText(),Ui)}}class RS extends Ze{path(){return"/v2/assets"}limit(e){return this.query.limit=e,this}creator(e){return this.query.creator=e.toString(),this}name(e){return this.query.name=e,this}unit(e){return this.query.unit=e,this}index(e){return this.query["asset-id"]=e,this}nextToken(e){return this.query.next=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}prepare(e){return pt(e.getJSONText(),ko)}}class _S extends Ze{path(){return"/v2/applications"}index(e){return this.query["application-id"]=e,this}creator(e){return this.query.creator=e.toString(),this}nextToken(e){return this.query.next=e,this}limit(e){return this.query.limit=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}prepare(e){return pt(e.getJSONText(),xo)}}class PS extends Ze{constructor(e,t){super(e),this.index=BigInt(t)}path(){return`/v2/applications/${this.index}/boxes`}nextToken(e){return this.query.next=e,this}limit(e){return this.query.limit=e,this}prepare(e){return pt(e.getJSONText(),sa)}}class OS extends Su{constructor(e,t="http://127.0.0.1",r=8080,i={}){super("X-Indexer-API-Token",e,t,r,i)}makeHealthCheck(){return new fS(this.c)}lookupAssetBalances(e){return new dS(this.c,e)}lookupAssetTransactions(e){return new pS(this.c,e)}lookupAccountTransactions(e){return new gS(this.c,e)}lookupBlock(e){return new mS(this.c,e)}lookupTransactionByID(e){return new yS(this.c,e)}lookupAccountByID(e){return new wS(this.c,e)}lookupAccountAssets(e){return new vS(this.c,e)}lookupAccountCreatedAssets(e){return new SS(this.c,e)}lookupAccountAppLocalStates(e){return new ES(this.c,e)}lookupAccountCreatedApplications(e){return new bS(this.c,e)}lookupAssetByID(e){return new xS(this.c,e)}lookupApplications(e){return new kS(this.c,e)}lookupApplicationLogs(e){return new AS(this.c,e)}searchAccounts(){return new DS(this.c)}searchForBlockHeaders(){return new TS(this.c)}searchForTransactions(){return new IS(this.c)}searchForAssets(){return new RS(this.c)}searchForApplications(){return new _S(this.c)}searchForApplicationBoxes(e){return new PS(this.c,e)}lookupApplicationBoxByIDandName(e,t){return new MS(this.c,e,t)}}async function Pd(n,e,t){const r=await n.status().do();if(typeof r>"u")throw new Error("Unable to get node status");const i=r.lastRound+BigInt(1),o=i+BigInt(t);let s=i;for(;s<o;){let h=!1;try{const m=await n.pendingTransactionInformation(e).do();if(m.confirmedRound)return m;if(m.poolError)throw h=!0,new Error(`Transaction Rejected: ${m.poolError}`)}catch(m){if(h)throw m}await n.statusAfterBlock(s).do(),s+=BigInt(1)}throw new Error(`Transaction not confirmed after ${t} rounds`)}function Li(n,e){let t=n.toString(16);t.length!==e*2&&(t=t.padStart(e*2,"0"));const r=new Uint8Array(t.length/2);for(let i=0,o=0;i<t.length/2;i++,o+=2)r[i]=parseInt(t.slice(o,o+2),16);return r}function Du(n){let e=BigInt(0);const t=new DataView(n.buffer,n.byteOffset);for(let r=0;r<n.length;r++)e=BigInt(Number(t.getUint8(r)))+e*BigInt(256);return e}function BS(){const n=Fw();return{addr:new ot(n.publicKey),sk:n.secretKey}}const ru=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"],Zc="failed to decode mnemonic",CS="the mnemonic contains a word that is not in the wordlist";function Od(n){const e=[];let t=0,r=0;function i(s){t|=s<<r,r+=8,r>=11&&(e.push(t&2047),t>>=11,r-=11)}function o(){r&&e.push(t)}return n.forEach(i),o(),e}function Bd(n){return n.map(e=>ru[e])}function Cd(n){const e=pr(n),t=Od(e);return Bd(t)[0]}function Tu(n){if(n.length!==ph)throw new RangeError(`Seed length must be ${ph}`);const e=Od(n),t=Bd(e),r=Cd(n);return`${t.join(" ")} ${r}`}function NS(n){const e=[];let t=0,r=0;function i(s){for(t|=s<<r,r+=11;r>=8;)e.push(t&255),t>>=8,r-=8}function o(){r&&e.push(t)}return n.forEach(i),o(),new Uint8Array(e)}function Iu(n){const e=n.split(" "),t=e.slice(0,24);for(const h of t)if(ru.indexOf(h)===-1)throw new Error(CS);const r=e[e.length-1],i=t.map(h=>ru.indexOf(h));let o=NS(i);if(o.length!==33)throw new Error(Zc);if(o[o.length-1]!==0)throw new Error(Zc);if(o=o.slice(0,o.length-1),Cd(o)===r)return o;throw new Error(Zc)}function VS(n){const e=Iu(n),t=Qf(e);return{addr:new ot(t.publicKey),sk:t.secretKey}}function US(n){const e=n.slice(0,ph);return Tu(e)}function LS(n){return Iu(n)}function $S(n){return Tu(n)}const $l=16,FS=new TextEncoder().encode("TG");function qS(n){if(n.length>$l)throw new Error(`${n.length} transactions grouped together but max group size is ${$l}`);if(n.length===0)throw new Error("Cannot compute group ID of zero transactions");const e=ya({txlist:n});return cn(FS,e)}function Nd(n){const e=[];for(const i of n)e.push(i.rawTxID());const t=qS(e),r=pr(t);return Uint8Array.from(r)}function Vd(n){const e=Nd(n);for(const t of n)t.group=e;return n}function zS(n,e,t){if(!e.verify(t.publicKey))throw new Error("Logic signature verification failed. Ensure the program and signature are valid.");let r;td(t.publicKey,n.sender.publicKey)||(r=t);const i=new $t({lsig:e,txn:n,sgnr:r});return{txID:n.txID(),blob:Nn(i)}}function Ru(n,e){let t,r;if(e instanceof Yr)t=e.lsig,r=e.address();else if(t=e,t.sig)r=new ot(n.sender.publicKey);else if(t.msig){const i={version:t.msig.v,threshold:t.msig.thr,pks:t.msig.subsig.map(o=>o.pk)};r=hi(i)}else r=t.address();return zS(n,t,r)}function HS(n,e){return Ru(n,e)}const WS="Not enough multisig transactions to merge. Need at least two",jS="Cannot merge txs. txIDs differ",GS="Cannot merge txs. Auth addrs differ",Fl="Cannot merge txs. Multisig preimages differ",KS="Cannot merge txs. subsigs are mismatched.",JS="Cannot add multisig signature. Signature is not of the correct length.",YS="Key does not exist";function Ud(n,{version:e,threshold:t,addrs:r}){const i=cs(r),o=i.map(v=>({pk:v})),s={v:e,thr:t,subsig:o},h=hi({version:e,threshold:t,pks:i});let m;n.sender.equals(h)||(m=h);const u=new $t({txn:n,msig:s,sgnr:m});return Nn(u)}function Ld(n,{rawSig:e,myPk:t},{version:r,threshold:i,pks:o}){const s=Ud(n,{version:r,threshold:i,addrs:o.map(u=>new ot(u))}),h=Kt(s,$t);let m=!1;if(h.msig.subsig.forEach((u,v)=>{td(u.pk,t)&&(m=!0,h.msig.subsig[v].s=e)}),!m)throw new Error(YS);return Nn(h)}function $d(n,{version:e,threshold:t,pks:r},i){const o=sc(i).publicKey;return Ld(n,{rawSig:n.rawSignTxn(i),myPk:o},{version:e,threshold:t,pks:r})}function XS(n,e,t,r){if(!ed(r.length))throw new Error(JS);const i=typeof t=="string"?ot.fromString(t):t;return Ld(n,{rawSig:r,myPk:i.publicKey},e)}function wc(n){if(n.length<2)throw new Error(WS);const e=Kt(n[0],$t);if(!e.msig)throw new Error("Invalid multisig transaction, multisig structure missing at index 0");const t=e.txn.txID(),r=e.sgnr?e.sgnr.toString():void 0,i={version:e.msig.v,threshold:e.msig.thr,pks:e.msig.subsig.map(v=>v.pk)},o=hi(i),s=e.msig.subsig.map(v=>({...v}));for(let v=1;v<n.length;v++){const T=Kt(n[v],$t);if(!T.msig)throw new Error(`Invalid multisig transaction, multisig structure missing at index ${v}`);if(T.txn.txID()!==t)throw new Error(jS);const B=T.sgnr?T.sgnr.toString():void 0;if(r!==B)throw new Error(GS);if(T.msig.subsig.length!==e.msig.subsig.length)throw new Error(Fl);const W={version:T.msig.v,threshold:T.msig.thr,pks:T.msig.subsig.map(ne=>ne.pk)},U=hi(W);if(!o.equals(U))throw new Error(Fl);T.msig.subsig.forEach((ne,E)=>{if(!ne.s)return;const C=s[E];if(C.s&&!tr(ne.s,C.s))throw new Error(KS);C.s=ne.s})}const h={v:e.msig.v,thr:e.msig.thr,subsig:s},m=typeof r<"u"?e.sgnr:void 0,u=new $t({msig:h,txn:e.txn,sgnr:m});return Nn(u)}function Fd(n,{version:e,threshold:t,addrs:r},i){const o=cs(r),s=$d(n,{version:e,threshold:t,pks:o},i);return{txID:n.txID(),blob:s}}function ZS(n,{version:e,threshold:t,addrs:r},i){const o=cs(r),s=Kt(n,$t),h=$d(s.txn,{version:e,threshold:t,pks:o},i);return{txID:s.txn.txID(),blob:wc([n,h])}}function QS(n,{version:e,threshold:t,addrs:r},i,o){const s=cs(r),h=Kt(n,$t),m=XS(h.txn,{version:e,threshold:t,pks:s},i,o);return{txID:h.txn.txID(),blob:wc([n,m])}}let qd={};"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split("").forEach(function(n,e){qd[n]=e});function e1(n){let e=[],t=0,r=0;for(let i=0;i<n.length;i+=1){let o=qd[n[i]];if(o===void 0)throw new Error("Invalid character ("+n[i]+")");const s=o&32;if(o&=31,r+=o<<t,s)t+=5;else{const h=r&1;r>>>=1,h?e.push(r===0?-2147483648:-r):e.push(r),r=t=0}}return e}class t1{constructor({version:e,sources:t,names:r,mappings:i}){if(this.version=e,this.sources=t,this.names=r,this.mappings=i,this.version!==3)throw new Error(`Only version 3 is supported, got ${this.version}`);if(this.mappings===void 0)throw new Error("mapping undefined, cannot build source map without `mapping`");const o=this.mappings.split(";").map(e1);this.pcToLocation=new Map,this.sourceAndLineToPc=new Map;const s={line:0,column:0,sourceIndex:0,nameIndex:0};for(const[h,m]of o.entries()){if(m.length<4)continue;const u=m.length>4?m[4]:void 0,[,v,T,B]=m;s.sourceIndex+=v,s.line+=T,s.column+=B,typeof u<"u"&&(s.nameIndex+=u);const W=`${s.sourceIndex}:${s.line}`;let U=this.sourceAndLineToPc.get(W);U===void 0&&(U=[],this.sourceAndLineToPc.set(W,U));const ne={pc:h,column:s.column},E={line:s.line,column:s.column,sourceIndex:s.sourceIndex};typeof u<"u"&&(ne.nameIndex=s.nameIndex,E.nameIndex=s.nameIndex),U.push(ne),this.pcToLocation.set(h,E)}}getPcs(){return Array.from(this.pcToLocation.keys())}getLocationForPc(e){return this.pcToLocation.get(e)}getPcsOnSourceLine(e,t){const r=this.sourceAndLineToPc.get(`${e}:${t}`);return r===void 0?[]:r}}const n1=1380011588,_u=30;async function r1({client:n,txns:e,protocolVersion:t,latestTimestamp:r,round:i,sources:o}){const s=[],h=[],m=[],u=[],v=[];for(const U of e)if(U.txn.type===Rt.appl)if(v.push(U.txn.sender.toString()),v.push(...U.txn.applicationCall.accounts.map(ne=>ne.toString())),m.push(...U.txn.applicationCall.foreignApps),v.push(...U.txn.applicationCall.foreignApps.map(mh).map(ne=>ne.toString())),u.push(...U.txn.applicationCall.foreignAssets),U.txn.applicationCall.appIndex===BigInt(0))s.push(new Oi({id:n1,params:new Qi({creator:U.txn.sender.toString(),approvalProgram:U.txn.applicationCall.approvalProgram,clearStateProgram:U.txn.applicationCall.clearProgram,localStateSchema:new $n({numUint:U.txn.applicationCall.numLocalInts,numByteSlice:U.txn.applicationCall.numLocalByteSlices}),globalStateSchema:new $n({numUint:U.txn.applicationCall.numGlobalInts,numByteSlice:U.txn.applicationCall.numGlobalByteSlices})})}));else{const{appIndex:ne}=U.txn.applicationCall;m.push(ne),v.push(mh(ne).toString())}const T=[];for(const U of new Set(u))T.push(n.getAssetByID(U).do().then(ne=>{v.push(ne.params.creator)}));await Promise.all(T);const B=[];for(const U of new Set(m))B.push(n.getApplicationByID(U).do().then(ne=>{s.push(ne),v.push(ne.params.creator.toString())}));await Promise.all(B);const W=[];for(const U of new Set(v))W.push(n.accountInformation(U).do().then(ne=>{h.push(ne)}));return await Promise.all(W),new Us({txns:e.slice(),accounts:h,apps:s,latestTimestamp:r??0,round:i??0,protocolVersion:t??"",sources:o??[]})}function Qc(n,e){return n.length>e&&e>0?`${n.slice(0,e)}...`:n}function i1(n,e){if(e.length===0)return"";let t=null;for(let i=0;i<e.length;i++){if(i>n.length){t=i;continue}ni(n[i])!==ni(e[i])&&(t=i)}if(t==null)return"";const r=e[t];return r.bytes.length>0?`${t} = 0x${uc(r.bytes)}`:`${t} = ${r.uint.toString()}`}function o1(n,e){return`[${(e?n.reverse():n).map(r=>{switch(r.type){case 1:return`0x${uc(r.bytes)}`;case 2:return r.uint.toString();default:return""}}).join(", ")}]`}function zd(n,e,t){const r=t.maxValueWidth||_u,i=[["pc#","ln#","source","scratch","stack"]];for(let s=0;s<n.length;s++){const{line:h,error:m,pc:u,scratch:v,stack:T}=n[s],B=v!==void 0?v:[],W=s>0&&n[s-1].scratch!==void 0?n[s-1].scratch:[],U=m?`!! ${m} !!`:e[h];i.push([u.toString().padEnd(3," "),h.toString().padEnd(3," "),Qc(U,r),Qc(i1(W,B),r),Qc(o1(T,t.topOfStackFirst),r)])}const o=i.reduce((s,h)=>{const m=new Array(i[0].length).fill(0);for(let u=0;u<s.length;u++)m[u]=h[u].length>s[u]?h[u].length:s[u];return m},new Array(i[0].length).fill(0));return`${i.map(s=>s.map((h,m)=>h.padEnd(o[m]+1," ")).join("|").trim()).join(`
`)}
`}function s1(n,e){if(!n.appCallTrace||!n.disassembly)return"";let t=e;return e!==void 0?t=e:t={maxValueWidth:_u,topOfStackFirst:!1},zd(n.appCallTrace,n.disassembly,t)}function a1(n,e){if(!n.logicSigTrace||!n.logicSigDisassembly)return"";let t;return e!==void 0?t=e:t={maxValueWidth:_u,topOfStackFirst:!0},zd(n.logicSigTrace,n.logicSigDisassembly,t)}function c1({sender:n,receiver:e,amount:t,closeRemainderTo:r,suggestedParams:i,note:o,lease:s,rekeyTo:h}){return new Vn({type:Rt.pay,sender:n,note:o,lease:s,rekeyTo:h,suggestedParams:i,paymentParams:{receiver:e,amount:t,closeRemainderTo:r}})}function h1({sender:n,voteKey:e,selectionKey:t,stateProofKey:r,voteFirst:i,voteLast:o,voteKeyDilution:s,nonParticipation:h,suggestedParams:m,note:u,lease:v,rekeyTo:T}){return new Vn({type:Rt.keyreg,sender:n,note:u,lease:v,rekeyTo:T,suggestedParams:m,keyregParams:{voteKey:e,selectionKey:t,stateProofKey:r,voteFirst:i,voteLast:o,voteKeyDilution:s,nonParticipation:h}})}function vc({sender:n,assetIndex:e,total:t,decimals:r,defaultFrozen:i,manager:o,reserve:s,freeze:h,clawback:m,unitName:u,assetName:v,assetURL:T,assetMetadataHash:B,note:W,lease:U,rekeyTo:ne,suggestedParams:E}){return new Vn({type:Rt.acfg,sender:n,note:W,lease:U,rekeyTo:ne,suggestedParams:E,assetConfigParams:{assetIndex:e,total:t,decimals:r,defaultFrozen:i,manager:o,reserve:s,freeze:h,clawback:m,unitName:u,assetName:v,assetURL:T,assetMetadataHash:B}})}function u1({sender:n,total:e,decimals:t,defaultFrozen:r,manager:i,reserve:o,freeze:s,clawback:h,unitName:m,assetName:u,assetURL:v,assetMetadataHash:T,note:B,lease:W,rekeyTo:U,suggestedParams:ne}){return vc({sender:n,total:e,decimals:t,defaultFrozen:r,manager:i,reserve:o,freeze:s,clawback:h,unitName:m,assetName:u,assetURL:v,assetMetadataHash:T,note:B,lease:W,rekeyTo:U,suggestedParams:ne})}function l1({sender:n,assetIndex:e,manager:t,reserve:r,freeze:i,clawback:o,strictEmptyAddressChecking:s,note:h,lease:m,rekeyTo:u,suggestedParams:v}){if(!e)throw Error("assetIndex must be provided");if((s??!0)&&(t==null||r==null||i==null||o==null))throw Error("strictEmptyAddressChecking is enabled, but an address is empty. If this is intentional, set strictEmptyAddressChecking to false.");return vc({sender:n,assetIndex:e,manager:t,reserve:r,freeze:i,clawback:o,note:h,lease:m,rekeyTo:u,suggestedParams:v})}function f1({sender:n,assetIndex:e,note:t,lease:r,rekeyTo:i,suggestedParams:o}){if(!e)throw Error("assetIndex must be provided");return vc({sender:n,assetIndex:e,note:t,lease:r,rekeyTo:i,suggestedParams:o})}function d1({sender:n,assetIndex:e,freezeTarget:t,frozen:r,suggestedParams:i,note:o,lease:s,rekeyTo:h}){return new Vn({type:Rt.afrz,sender:n,note:o,lease:s,rekeyTo:h,suggestedParams:i,assetFreezeParams:{assetIndex:e,freezeTarget:t,frozen:r}})}function g1({sender:n,receiver:e,amount:t,closeRemainderTo:r,assetSender:i,note:o,assetIndex:s,suggestedParams:h,rekeyTo:m,lease:u}){if(!s)throw Error("assetIndex must be provided");return new Vn({type:Rt.axfer,sender:n,note:o,lease:u,rekeyTo:m,suggestedParams:h,assetTransferParams:{assetIndex:s,receiver:e,amount:t,assetSender:i,closeRemainderTo:r}})}function vr({sender:n,appIndex:e,onComplete:t,appArgs:r,accounts:i,foreignApps:o,foreignAssets:s,boxes:h,approvalProgram:m,clearProgram:u,numLocalInts:v,numLocalByteSlices:T,numGlobalInts:B,numGlobalByteSlices:W,extraPages:U,note:ne,lease:E,rekeyTo:C,suggestedParams:N}){if(t==null)throw Error("onComplete must be provided");return new Vn({type:Rt.appl,sender:n,note:ne,lease:E,rekeyTo:C,suggestedParams:N,appCallParams:{appIndex:e,onComplete:t,appArgs:r,accounts:i,foreignAssets:s,foreignApps:o,boxes:h,approvalProgram:m,clearProgram:u,numLocalInts:v,numLocalByteSlices:T,numGlobalInts:B,numGlobalByteSlices:W,extraPages:U}})}function p1({sender:n,onComplete:e,appArgs:t,accounts:r,foreignApps:i,foreignAssets:o,boxes:s,approvalProgram:h,clearProgram:m,numLocalInts:u,numLocalByteSlices:v,numGlobalInts:T,numGlobalByteSlices:B,extraPages:W,note:U,lease:ne,rekeyTo:E,suggestedParams:C}){if(!h||!m)throw Error("approvalProgram and clearProgram must be provided");if(e==null)throw Error("onComplete must be provided");return vr({sender:n,appIndex:0,onComplete:e,appArgs:t,accounts:r,foreignApps:i,foreignAssets:o,boxes:s,approvalProgram:h,clearProgram:m,numLocalInts:u,numLocalByteSlices:v,numGlobalInts:T,numGlobalByteSlices:B,extraPages:W,note:U,lease:ne,rekeyTo:E,suggestedParams:C})}function m1({sender:n,appIndex:e,appArgs:t,accounts:r,foreignApps:i,foreignAssets:o,boxes:s,approvalProgram:h,clearProgram:m,note:u,lease:v,rekeyTo:T,suggestedParams:B}){if(!e)throw Error("appIndex must be provided");if(!h||!m)throw Error("approvalProgram and clearProgram must be provided");return vr({sender:n,appIndex:e,onComplete:ln.UpdateApplicationOC,appArgs:t,accounts:r,foreignApps:i,foreignAssets:o,boxes:s,approvalProgram:h,clearProgram:m,note:u,lease:v,rekeyTo:T,suggestedParams:B})}function y1({sender:n,appIndex:e,appArgs:t,accounts:r,foreignApps:i,foreignAssets:o,boxes:s,note:h,lease:m,rekeyTo:u,suggestedParams:v}){if(!e)throw Error("appIndex must be provided");return vr({sender:n,appIndex:e,onComplete:ln.DeleteApplicationOC,appArgs:t,accounts:r,foreignApps:i,foreignAssets:o,boxes:s,note:h,lease:m,rekeyTo:u,suggestedParams:v})}function w1({sender:n,appIndex:e,appArgs:t,accounts:r,foreignApps:i,foreignAssets:o,boxes:s,note:h,lease:m,rekeyTo:u,suggestedParams:v}){if(!e)throw Error("appIndex must be provided");return vr({sender:n,appIndex:e,onComplete:ln.OptInOC,appArgs:t,accounts:r,foreignApps:i,foreignAssets:o,boxes:s,note:h,lease:m,rekeyTo:u,suggestedParams:v})}function v1({sender:n,appIndex:e,appArgs:t,accounts:r,foreignApps:i,foreignAssets:o,boxes:s,note:h,lease:m,rekeyTo:u,suggestedParams:v}){if(!e)throw Error("appIndex must be provided");return vr({sender:n,appIndex:e,onComplete:ln.CloseOutOC,appArgs:t,accounts:r,foreignApps:i,foreignAssets:o,boxes:s,note:h,lease:m,rekeyTo:u,suggestedParams:v})}function S1({sender:n,appIndex:e,appArgs:t,accounts:r,foreignApps:i,foreignAssets:o,boxes:s,note:h,lease:m,rekeyTo:u,suggestedParams:v}){if(!e)throw Error("appIndex must be provided");return vr({sender:n,appIndex:e,onComplete:ln.ClearStateOC,appArgs:t,accounts:r,foreignApps:i,foreignAssets:o,boxes:s,note:h,lease:m,rekeyTo:u,suggestedParams:v})}function E1({sender:n,appIndex:e,appArgs:t,accounts:r,foreignApps:i,foreignAssets:o,boxes:s,note:h,lease:m,rekeyTo:u,suggestedParams:v}){if(!e)throw Error("appIndex must be provided");return vr({sender:n,appIndex:e,onComplete:ln.NoOpOC,appArgs:t,accounts:r,foreignApps:i,foreignAssets:o,boxes:s,note:h,lease:m,rekeyTo:u,suggestedParams:v})}function b1(n){return(e,t)=>{const r=[];for(const i of t)r.push(e[i].signTxn(n.sk));return Promise.resolve(r)}}function x1(n){return(e,t)=>{const r=[];for(const i of t){const{blob:o}=Ru(e[i],n);r.push(o)}return Promise.resolve(r)}}function k1(n,e){return(t,r)=>{const i=[];for(const o of r){const s=t[o],h=[];for(const m of e){const{blob:u}=Fd(s,n,m);h.push(u)}h.length>1?i.push(wc(h)):i.push(h[0])}return Promise.resolve(i)}}function A1(){return(n,e)=>{const t=[];for(const r of e)t.push(Md(n[r]));return Promise.resolve(t)}}function iu(n){return typeof n=="object"&&Object.keys(n).length===2&&typeof n.txn=="object"&&typeof n.signer=="function"}const Xr=2**16-1,Hd=32,Wd=1,jd=1,kn=2,M1=/^([a-z\d[\](),]+)\[(0|[1-9][\d]*)]$/,D1=/^ufixed([1-9][\d]*)x([1-9][\d]*)$/;class wn{static from(e){if(e.endsWith("[]")){const t=wn.from(e.slice(0,e.length-2));return new kc(t)}if(e.endsWith("]")){const t=e.match(M1);if(!t||t.length!==3)throw new Error(`malformed static array string: ${e}`);const r=t[2],i=parseInt(r,10);if(i>Xr)throw new Error(`array length exceeds limit ${Xr}`);const o=wn.from(t[1]);return new xc(o,i)}if(e.startsWith("uint")){const t=o=>[...o].every(s=>"0123456789".includes(s)),r=e.slice(4,e.length);if(!t(r))throw new Error(`malformed uint string: ${r}`);const i=parseInt(r,10);if(i>Xr)throw new Error(`malformed uint string: ${i}`);return new Zr(i)}if(e==="byte")return new Ec;if(e.startsWith("ufixed")){const t=e.match(D1);if(!t||t.length!==3)throw new Error(`malformed ufixed type: ${e}`);const r=parseInt(t[1],10),i=parseInt(t[2],10);return new Sc(r,i)}if(e==="bool")return new dr;if(e==="address")return new wa;if(e==="string")return new bc;if(e.length>=2&&e[0]==="("&&e[e.length-1]===")"){const t=wr.parseTupleContent(e.slice(1,e.length-1)),r=[];for(let i=0;i<t.length;i++){const o=wn.from(t[i]);r.push(o)}return new wr(r)}throw new Error(`cannot convert a string ${e} to an ABI type`)}}class Zr extends wn{constructor(e){if(super(),e%8!==0||e<8||e>512)throw new Error(`unsupported uint type bitSize: ${e}`);this.bitSize=e}toString(){return`uint${this.bitSize}`}equals(e){return e instanceof Zr&&this.bitSize===e.bitSize}isDynamic(){return!1}byteLen(){return this.bitSize/8}encode(e){if(typeof e!="bigint"&&typeof e!="number")throw new Error(`Cannot encode value as uint${this.bitSize}: ${e}`);if(e>=BigInt(2**this.bitSize)||e<BigInt(0))throw new Error(`${e} is not a non-negative int or too big to fit in size uint${this.bitSize}`);if(typeof e=="number"&&!Number.isSafeInteger(e))throw new Error(`${e} should be converted into a BigInt before it is encoded`);return Li(e,this.bitSize/8)}decode(e){if(e.length!==this.bitSize/8)throw new Error(`byte string must correspond to a uint${this.bitSize}`);return Du(e)}}class Sc extends wn{constructor(e,t){if(super(),e%8!==0||e<8||e>512)throw new Error(`unsupported ufixed type bitSize: ${e}`);if(t>160||t<1)throw new Error(`unsupported ufixed type precision: ${t}`);this.bitSize=e,this.precision=t}toString(){return`ufixed${this.bitSize}x${this.precision}`}equals(e){return e instanceof Sc&&this.bitSize===e.bitSize&&this.precision===e.precision}isDynamic(){return!1}byteLen(){return this.bitSize/8}encode(e){if(typeof e!="bigint"&&typeof e!="number")throw new Error(`Cannot encode value as ${this.toString()}: ${e}`);if(e>=BigInt(2**this.bitSize)||e<BigInt(0))throw new Error(`${e} is not a non-negative int or too big to fit in size ${this.toString()}`);if(typeof e=="number"&&!Number.isSafeInteger(e))throw new Error(`${e} should be converted into a BigInt before it is encoded`);return Li(e,this.bitSize/8)}decode(e){if(e.length!==this.bitSize/8)throw new Error(`byte string must correspond to a ${this.toString()}`);return Du(e)}}class wa extends wn{toString(){return"address"}equals(e){return e instanceof wa}isDynamic(){return!1}byteLen(){return Hd}encode(e){if(typeof e=="string")return id(e).publicKey;if(e instanceof ot)return e.publicKey;if(e instanceof Uint8Array){if(e.byteLength!==32)throw new Error("byte string must be 32 bytes long for an address");return e}throw new Error(`Cannot encode value as ${this.toString()}: ${e}`)}decode(e){if(e.byteLength!==32)throw new Error("byte string must be 32 bytes long for an address");return sd(e)}}class dr extends wn{toString(){return"bool"}equals(e){return e instanceof dr}isDynamic(){return!1}byteLen(){return jd}encode(e){if(typeof e!="boolean")throw new Error(`Cannot encode value as bool: ${e}`);return e?new Uint8Array([128]):new Uint8Array([0])}decode(e){if(e.byteLength!==1)throw new Error("bool string must be 1 byte long");const t=e[0];if(t===128)return!0;if(t===0)return!1;throw new Error("boolean could not be decoded from the byte string")}}class Ec extends wn{toString(){return"byte"}equals(e){return e instanceof Ec}isDynamic(){return!1}byteLen(){return Wd}encode(e){if(typeof e!="number"&&typeof e!="bigint")throw new Error(`Cannot encode value as byte: ${e}`);if(typeof e=="bigint"&&(e=Number(e)),e<0||e>255)throw new Error(`${e} cannot be encoded into a byte`);return new Uint8Array([e])}decode(e){if(e.byteLength!==1)throw new Error("byte string must be 1 byte long");return e[0]}}class bc extends wn{toString(){return"string"}equals(e){return e instanceof bc}isDynamic(){return!0}byteLen(){throw new Error(`${this.toString()} is a dynamic type`)}encode(e){if(typeof e!="string"&&!(e instanceof Uint8Array))throw new Error(`Cannot encode value as string: ${e}`);let t;typeof e=="string"?t=new TextEncoder().encode(e):t=e;const r=Li(t.length,kn),i=new Uint8Array(t.length+kn);return i.set(r),i.set(t,kn),i}decode(e){if(e.length<kn)throw new Error(`byte string is too short to be decoded. Actual length is ${e.length}, but expected at least ${kn}`);const r=new DataView(e.buffer,e.byteOffset,kn).getUint16(0),i=e.slice(kn,e.length);if(r!==i.length)throw new Error(`string length bytes do not match the actual length of string. Expected ${r}, got ${i.length}`);return new TextDecoder("utf-8").decode(i)}}class xc extends wn{constructor(e,t){if(super(),t<0)throw new Error(`static array must have a non negative length: ${t}`);this.childType=e,this.staticLength=t}toString(){return`${this.childType.toString()}[${this.staticLength}]`}equals(e){return e instanceof xc&&this.staticLength===e.staticLength&&this.childType.equals(e.childType)}isDynamic(){return this.childType.isDynamic()}byteLen(){return this.childType.constructor===dr?Math.ceil(this.staticLength/8):this.staticLength*this.childType.byteLen()}encode(e){if(!Array.isArray(e)&&!(e instanceof Uint8Array))throw new Error(`Cannot encode value as ${this.toString()}: ${e}`);if(e.length!==this.staticLength)throw new Error(`Value array does not match static array length. Expected ${this.staticLength}, got ${e.length}`);return this.toABITupleType().encode(e)}decode(e){return this.toABITupleType().decode(e)}toABITupleType(){return new wr(Array(this.staticLength).fill(this.childType))}}class kc extends wn{constructor(e){super(),this.childType=e}toString(){return`${this.childType.toString()}[]`}equals(e){return e instanceof kc&&this.childType.equals(e.childType)}isDynamic(){return!0}byteLen(){throw new Error(`${this.toString()} is a dynamic type`)}encode(e){if(!Array.isArray(e)&&!(e instanceof Uint8Array))throw new Error(`Cannot encode value as ${this.toString()}: ${e}`);const t=this.toABITupleType(e.length),r=t.encode(e),i=Li(t.childTypes.length,kn);return cn(i,r)}decode(e){const r=new DataView(e.buffer,0,kn).getUint16(0);return this.toABITupleType(r).decode(e.slice(kn,e.length))}toABITupleType(e){return new wr(Array(e).fill(this.childType))}}class wr extends wn{constructor(e){if(super(),e.length>=Xr)throw new Error("tuple type child type number larger than maximum uint16 error");this.childTypes=e}toString(){const e=[];for(let t=0;t<this.childTypes.length;t++)e[t]=this.childTypes[t].toString();return`(${e.join(",")})`}equals(e){return e instanceof wr&&this.childTypes.length===e.childTypes.length&&this.childTypes.every((t,r)=>t.equals(e.childTypes[r]))}isDynamic(){const e=t=>t.isDynamic();return this.childTypes.some(e)}byteLen(){let e=0;for(let t=0;t<this.childTypes.length;t++)if(this.childTypes[t].constructor===dr){const r=Ss(this.childTypes,t,1),i=r+1;t+=r,e+=Math.trunc((i+7)/8)}else{const r=this.childTypes[t].byteLen();e+=r}return e}encode(e){if(!Array.isArray(e)&&!(e instanceof Uint8Array))throw new Error(`Cannot encode value as ${this.toString()}: ${e}`);const t=Array.from(e);if(e.length>Xr)throw new Error("length of tuple array should not exceed a uint16");const r=this.childTypes,i=[],o=[],s=new Map;let h=0;for(;h<r.length;){const v=r[h];if(v.isDynamic())s.set(i.length,!0),i.push(new Uint8Array([0,0])),o.push(v.encode(t[h]));else{if(v.constructor===dr){const T=Ss(r,h,-1);let B=Ss(r,h,1);if(T%8!==0)throw new Error("expected before index should have number of bool mod 8 equal 0");B=Math.min(7,B);const W=T1(t.slice(h,h+B+1));i.push(Li(W,1)),h+=B}else{const T=v.encode(t[h]);i.push(T)}s.set(h,!1),o.push(new Uint8Array)}h+=1}let m=0;for(const v of i)m+=v.length;let u=0;for(let v=0;v<i.length;v++){if(s.get(v)){const T=m+u;if(T>Xr)throw new Error(`byte length of ${T} should not exceed a uint16`);i[v]=Li(T,kn)}u+=o[v].length}return cn(...i,...o)}decode(e){const t=this.childTypes,r=[],i=[];let o=0,s=0;const h=new DataView(e.buffer);for(;o<t.length;){const v=t[o];if(v.isDynamic()){if(e.slice(s,e.length).length<kn)throw new Error("dynamic type in tuple is too short to be decoded");const T=h.getUint16(s);if(r.length>0&&(r[r.length-1].right=T,T<r[r.length-1].left))throw new Error("dynamic index segment miscalculation: left is greater than right index");const B={left:T,right:-1};r.push(B),i.push(null),s+=kn}else if(v.constructor===dr){const T=Ss(this.childTypes,o,-1);let B=Ss(this.childTypes,o,1);if(T%8!==0)throw new Error("expected before bool number mod 8 === 0");B=Math.min(7,B);for(let W=0;W<=B;W++){const U=128>>W;(e[s]&U)>0?i.push(new Uint8Array([128])):i.push(new Uint8Array([0]))}o+=B,s+=1}else{const T=v.byteLen();i.push(e.slice(s,s+T)),s+=T}if(o!==t.length-1&&s>=e.length)throw new Error("input byte not enough to decode");o+=1}if(r.length>0&&(r[r.length-1].right=e.length,s=e.length),s<e.length)throw new Error("input byte not fully consumed");for(let v=0;v<r.length;v++){const T=r[v];if(T.left>T.right)throw new Error("dynamic segment should display a [l, r] space with l <= r");if(v!==r.length-1&&T.right!==r[v+1].left)throw new Error("dynamic segment should be consecutive")}let m=0;for(let v=0;v<t.length;v++)t[v].isDynamic()&&(i[v]=e.slice(r[m].left,r[m].right),m+=1);const u=[];for(let v=0;v<t.length;v++){const T=t[v].decode(i[v]);u.push(T)}return u}static parseTupleContent(e){if(e.length===0)return[];if(e.endsWith(",")||e.startsWith(","))throw new Error("tuple string should not start with comma");if(e.includes(",,"))throw new Error("tuple string should not have consecutive commas");const t=[];let r=0,i="";for(const o of e)i+=o,o==="("?r+=1:o===")"?r-=1:o===","&&r===0&&(t.push(i.slice(0,i.length-1)),i="");if(i.length!==0&&t.push(i),r!==0)throw new Error("tuple string has mismatched parentheses");return t}}function T1(n){let e=0;if(n.length>8)throw new Error("value list passed in should be no greater than length 8");for(let t=0;t<n.length;t++){const r=n[t];if(typeof r!="boolean")throw new Error("non-boolean values cannot be compressed into a byte");r&&(e|=1<<7-t)}return e}function Ss(n,e,t){let r=0;for(;;){const i=e+t*r;if(n[i].constructor===dr)if(i!==n.length-1&&t===1)r+=1;else if(i>0&&t===-1)r+=1;else break;else{r-=1;break}}return r}var Ln;(function(n){n.any="txn",n.pay="pay",n.keyreg="keyreg",n.acfg="acfg",n.axfer="axfer",n.afrz="afrz",n.appl="appl"})(Ln||(Ln={}));function Ha(n){return n===Ln.any||n===Ln.pay||n===Ln.keyreg||n===Ln.acfg||n===Ln.axfer||n===Ln.afrz||n===Ln.appl}function Gd(n,e){return n===Ln.any?!0:e.type?e.type.toString()===n.toString():!1}var gr;(function(n){n.account="account",n.application="application",n.asset="asset"})(gr||(gr={}));function Pu(n){return n===gr.account||n===gr.application||n===gr.asset}function I1(n){const e=n.indexOf("(");if(e===-1)throw new Error(`Invalid method signature: ${n}`);let t=-1,r=0;for(let i=e;i<n.length;i++){const o=n[i];if(o==="(")r+=1;else if(o===")"){if(r===0)break;if(r-=1,r===0){t=i;break}}}if(t===-1)throw new Error(`Invalid method signature: ${n}`);return{name:n.slice(0,e),args:wr.parseTupleContent(n.slice(e+1,t)),returns:n.slice(t+1)}}class us{constructor(e){if(typeof e.name!="string"||typeof e.returns!="object"||!Array.isArray(e.args))throw new Error("Invalid ABIMethod parameters");this.name=e.name,this.description=e.desc,this.args=e.args.map(({type:t,name:r,desc:i})=>Ha(t)||Pu(t)?{type:t,name:r,description:i}:{type:wn.from(t),name:r,description:i}),this.returns={type:e.returns.type==="void"?e.returns.type:wn.from(e.returns.type),description:e.returns.desc},this.events=e.events,this.readonly=e.readonly}getSignature(){const e=this.args.map(r=>r.type.toString()).join(","),t=this.returns.type.toString();return`${this.name}(${e})${t}`}getSelector(){const e=pr(this.getSignature());return new Uint8Array(e.slice(0,4))}txnCount(){let e=1;for(const t of this.args)typeof t.type=="string"&&Ha(t.type)&&(e+=1);return e}toJSON(){return{name:this.name,desc:this.description,args:this.args.map(({type:e,name:t,description:r})=>({type:e.toString(),name:t,desc:r})),returns:{type:this.returns.type.toString(),desc:this.returns.description},events:this.events,readonly:this.readonly}}static fromSignature(e){const{name:t,args:r,returns:i}=I1(e);return new us({name:t,args:r.map(o=>({type:o})),returns:{type:i}})}}function Ou(n,e){if(n===null||!Array.isArray(n)||!n.every(r=>r instanceof us))throw new Error("Methods list provided is null or not the correct type");const t=n.filter(r=>r.name===e);if(t.length>1)throw new Error(`found ${t.length} methods with the same name ${t.map(r=>r.getSignature()).join(",")}`);if(t.length===0)throw new Error(`found 0 methods with the name ${e}`);return t[0]}class R1{constructor(e){if(typeof e.name!="string"||!Array.isArray(e.methods)||e.networks&&typeof e.networks!="object")throw new Error("Invalid ABIContract parameters");this.name=e.name,this.description=e.desc,this.networks=e.networks?{...e.networks}:{},this.methods=e.methods.map(t=>new us(t)),this.events=e.events}toJSON(){return{name:this.name,desc:this.description,networks:this.networks,methods:this.methods.map(e=>e.toJSON()),events:this.events}}getMethodByName(e){return Ou(this.methods,e)}}class _1{constructor(e){if(typeof e.name!="string"||!Array.isArray(e.methods))throw new Error("Invalid ABIInterface parameters");this.name=e.name,this.description=e.desc,this.methods=e.methods.map(t=>new us(t))}toJSON(){return{name:this.name,desc:this.description,methods:this.methods.map(e=>e.toJSON())}}getMethodByName(e){return Ou(this.methods,e)}}const P1=new Uint8Array([21,31,124,117]),Es=16;var pn;(function(n){n[n.BUILDING=0]="BUILDING",n[n.BUILT=1]="BUILT",n[n.SIGNED=2]="SIGNED",n[n.SUBMITTED=3]="SUBMITTED",n[n.COMMITTED=4]="COMMITTED"})(pn||(pn={}));function eh(n,e,t){if(t!=null&&n===t)return 0;const r=t==null?0:1;for(let i=0;i<e.length;i++)if(n===e[i])return i+r;return e.push(n),e.length-1+r}class Gn{constructor(){this.status=pn.BUILDING,this.transactions=[],this.methodCalls=new Map,this.signedTxns=[],this.txIDs=[]}getStatus(){return this.status}count(){return this.transactions.length}clone(){const e=new Gn;return e.transactions=this.transactions.map(({txn:t,signer:r})=>{const i=t.toEncodingData();return i.delete("grp"),{txn:Vn.fromEncodingData(i),signer:r}}),e.methodCalls=new Map(this.methodCalls),e}addTransaction(e){if(this.status!==pn.BUILDING)throw new Error("Cannot add transactions when composer status is not BUILDING");if(this.transactions.length===Gn.MAX_GROUP_SIZE)throw new Error(`Adding an additional transaction exceeds the maximum atomic group size of ${Gn.MAX_GROUP_SIZE}`);if(e.txn.group&&e.txn.group.some(t=>t!==0))throw new Error("Cannot add a transaction with nonzero group ID");this.transactions.push(e)}addMethodCall({appID:e,method:t,methodArgs:r,sender:i,suggestedParams:o,onComplete:s,approvalProgram:h,clearProgram:m,numGlobalInts:u,numGlobalByteSlices:v,numLocalInts:T,numLocalByteSlices:B,extraPages:W,appAccounts:U,appForeignApps:ne,appForeignAssets:E,boxes:C,note:N,lease:$,rekeyTo:re,signer:ue}){if(this.status!==pn.BUILDING)throw new Error("Cannot add transactions when composer status is not BUILDING");if(this.transactions.length+t.txnCount()>Gn.MAX_GROUP_SIZE)throw new Error(`Adding additional transactions exceeds the maximum atomic group size of ${Gn.MAX_GROUP_SIZE}`);if(BigInt(e)===BigInt(0)){if(h==null||m==null||u==null||v==null||T==null||B==null)throw new Error("One of the following required parameters for application creation is missing: approvalProgram, clearProgram, numGlobalInts, numGlobalByteSlices, numLocalInts, numLocalByteSlices")}else if(s===ln.UpdateApplicationOC){if(h==null||m==null)throw new Error("One of the following required parameters for OnApplicationComplete.UpdateApplicationOC is missing: approvalProgram, clearProgram");if(u!=null||v!=null||T!=null||B!=null||W!=null)throw new Error("One of the following application creation parameters were set on a non-creation call: numGlobalInts, numGlobalByteSlices, numLocalInts, numLocalByteSlices, extraPages")}else if(h!=null||m!=null||u!=null||v!=null||T!=null||B!=null||W!=null)throw new Error("One of the following application creation parameters were set on a non-creation call: approvalProgram, clearProgram, numGlobalInts, numGlobalByteSlices, numLocalInts, numLocalByteSlices, extraPages");if(r==null&&(r=[]),r.length!==t.args.length)throw new Error(`Incorrect number of method arguments. Expected ${t.args.length}, got ${r.length}`);let I=[],Y=[];const Z=[],ge=[],S=[],a=new Map,f=C||[];for(let l=0;l<r.length;l++){let P=t.args[l].type;const Te=r[l];if(Ha(P)){if(!iu(Te)||!Gd(P,Te.txn))throw new Error(`Expected ${P} TransactionWithSigner for argument at index ${l}`);if(Te.txn.group&&Te.txn.group.some(ve=>ve!==0))throw new Error("Cannot add a transaction with nonzero group ID");Z.push(Te);continue}if(iu(Te))throw new Error(`Expected non-transaction value for argument at index ${l}`);if(Pu(P)&&(a.set(ge.length,I.length),ge.push(P),S.push(Te),P=new Zr(8)),typeof P=="string")throw new Error(`Unknown ABI type: ${P}`);I.push(P),Y.push(Te)}const g=[],x=U==null?[]:U.map(l=>l.toString()),R=ne==null?[]:ne.map(Gt),V=E==null?[]:E.map(Gt);for(let l=0;l<ge.length;l++){const P=ge[l],Te=S[l];let ve=0;switch(P){case gr.account:{const we=new wa,ie=we.decode(we.encode(Te));ve=eh(ie,x,i.toString());break}case gr.application:{const we=new Zr(64),ie=we.decode(we.encode(Te));if(ie>Number.MAX_SAFE_INTEGER)throw new Error(`Expected safe integer for application value, got ${ie}`);ve=eh(ie,R,Gt(e));break}case gr.asset:{const we=new Zr(64),ie=we.decode(we.encode(Te));if(ie>Number.MAX_SAFE_INTEGER)throw new Error(`Expected safe integer for asset value, got ${ie}`);ve=eh(ie,V);break}default:throw new Error(`Unknown reference type: ${P}`)}g.push(ve)}for(let l=0;l<g.length;l++){const P=a.get(l);Y[P]=g[l]}if(I.length>Es-1){const l=I.slice(Es-2),P=Y.slice(Es-2);I=I.slice(0,Es-2),Y=Y.slice(0,Es-2),I.push(new wr(l)),Y.push(P)}const H=[t.getSelector()];for(let l=0;l<I.length;l++)H.push(I[l].encode(Y[l]));const _={txn:vr({sender:i,appIndex:e,appArgs:H,accounts:x,foreignApps:R,foreignAssets:V,boxes:f,onComplete:s??ln.NoOpOC,approvalProgram:h,clearProgram:m,numGlobalInts:u,numGlobalByteSlices:v,numLocalInts:T,numLocalByteSlices:B,extraPages:W,lease:$,note:N,rekeyTo:re,suggestedParams:o}),signer:ue};this.transactions.push(...Z,_),this.methodCalls.set(this.transactions.length-1,t)}buildGroup(){if(this.status===pn.BUILDING){if(this.transactions.length===0)throw new Error("Cannot build a group with 0 transactions");this.transactions.length>1&&Vd(this.transactions.map(e=>e.txn)),this.status=pn.BUILT}return this.transactions}async gatherSignatures(){if(this.status>=pn.SIGNED)return this.signedTxns;const e=this.buildGroup(),t=e.map(u=>u.txn),r=new Map;for(let u=0;u<e.length;u++){const{signer:v}=e[u];r.has(v)||r.set(v,[]),r.get(v).push(u)}const i=Array.from(r),o=await Promise.all(i.map(([u,v])=>u(t,v))),s=e.map(()=>null);for(let u=0;u<i.length;u++){const v=i[u][1],T=o[u];for(let B=0;B<v.length;B++)s[v[B]]=T[B]}function h(u){return u.every(v=>v!=null)}if(!h(s))throw new Error(`Missing signatures. Got ${s}`);const m=s.map((u,v)=>{try{return Kt(u,$t).txn.txID()}catch(T){throw new Error(`Cannot decode signed transaction at index ${v}. ${T}`)}});return this.signedTxns=s,this.txIDs=m,this.status=pn.SIGNED,s}async submit(e){if(this.status>pn.SUBMITTED)throw new Error("Transaction group cannot be resubmitted");const t=await this.gatherSignatures();return await e.sendRawTransaction(t).do(),this.status=pn.SUBMITTED,this.txIDs}async simulate(e,t){if(this.status>pn.SUBMITTED)throw new Error("Simulated Transaction group has already been submitted to the network");const i=(await this.gatherSignatures()).map(m=>Kt(m,$t)),o=t??new go({txnGroups:[]});o.txnGroups=[new Pr({txns:i})];const s=await e.simulateTransactions(o).do(),h=[];for(const[m,u]of this.methodCalls){const v=this.txIDs[m],T=s.txnGroups[0].txnResults[m].txnResult,B={txID:v,rawReturnValue:new Uint8Array,method:u};h.push(Gn.parseMethodResponse(u,B,T))}return{methodResults:h,simulateResponse:s}}async execute(e,t){if(this.status===pn.COMMITTED)throw new Error("Transaction group has already been executed successfully");const r=await this.submit(e);this.status=pn.SUBMITTED;const i=this.transactions.findIndex((u,v)=>this.methodCalls.has(v)),s=await Pd(e,r[i===-1?0:i],t);this.status=pn.COMMITTED;const h=s.confirmedRound,m=[];for(const[u,v]of this.methodCalls){const T=r[u];let B={txID:T,rawReturnValue:new Uint8Array,method:v};try{const W=u===i?s:await e.pendingTransactionInformation(T).do();B=Gn.parseMethodResponse(v,B,W)}catch(W){B.decodeError=W}m.push(B)}return{confirmedRound:h,txIDs:r,methodResults:m}}static parseMethodResponse(e,t,r){const i=t;try{if(i.txInfo=r,e.returns.type!=="void"){const o=r.logs||[];if(o.length===0)throw new Error(`App call transaction did not log a return value ${ni(r)}`);const s=o[o.length-1];if(s.byteLength<4||!tr(s.slice(0,4),P1))throw new Error(`App call transaction did not log a ABI return value ${ni(r)}`);i.rawReturnValue=new Uint8Array(s.slice(4)),i.returnValue=e.returns.type.decode(t.rawReturnValue)}}catch(o){i.decodeError=o}return i}}Gn.MAX_GROUP_SIZE=16;const Kd=Uint8Array.from([77,88]),Jd="The transaction sender address and multisig preimage do not match.";function O1(n,e){return{txID:n.txID(),blob:n.signTxn(e)}}function B1(n,e){const t=cn(Kd,n);return ac(t,e)}function C1(n,e,t){const r=cn(Kd,n),i=typeof t=="string"?ot.fromString(t):t;return cc(r,e,i.publicKey)}const N1=new Error(Jd),V1=new Error(vu),U1=Object.freeze(Object.defineProperty({__proto__:null,ABIAddressType:wa,ABIArrayDynamicType:kc,ABIArrayStaticType:xc,ABIBoolType:dr,ABIByteType:Ec,ABIContract:R1,ABIInterface:_1,ABIMethod:us,get ABIReferenceType(){return gr},ABIStringType:bc,get ABITransactionType(){return Ln},ABITupleType:wr,ABIType:wn,ABIUfixedType:Sc,ABIUintType:Zr,ADDR_BYTE_SIZE:Hd,ALGORAND_ZERO_ADDRESS_STRING:jw,AccountBaseData:Ai,AccountData:Mi,AccountDeltas:Ti,AccountTotals:Pi,Address:ot,AlgoCount:Fn,Algodv2:hS,AppLocalState:yi,AppLocalStateDelta:wi,AppParams:mi,AppParamsDelta:vi,AppResourceRecord:Si,ApplyData:Ki,AssetHolding:mc,AssetHoldingDelta:Ei,AssetParams:yc,AssetParamsDelta:bi,AssetResourceRecord:xi,AtomicTransactionComposer:Gn,get AtomicTransactionComposerStatus(){return pn},BalanceRecord:Di,Block:Ua,BlockHeader:mr,ENCODED_MULTISIG_SCHEMA:xu,ENCODED_SUBSIG_SCHEMA:Ed,ERROR_INVALID_MICROALGOS:V1,ERROR_MULTISIG_BAD_SENDER:N1,EvalDelta:Mh,FalconSignatureStruct:si,FalconVerifier:oi,HashFactory:fc,INVALID_MICROALGOS_ERROR_MSG:vu,IncludedTransactions:Ri,Indexer:OS,IntDecoding:an,Kmd:uS,KvValueDelta:Ii,LENGTH_ENCODE_BYTE_SIZE:kn,LedgerStateDelta:yr,LogicSig:_n,LogicSigAccount:Yr,MAX_LEN:Xr,MULTISIG_BAD_SENDER_ERROR_MSG:Jd,MerkleArrayProof:Rr,MerkleSignatureVerifier:ri,ModifiedCreatable:_i,get OnApplicationComplete(){return ln},Participant:ii,ParticipationUpdates:pc,ProgramSourceMap:t1,Reveal:ci,RewardState:fi,SINGLE_BOOL_SIZE:jd,SINGLE_BYTE_SIZE:Wd,SignedTransaction:$t,SignedTxnInBlock:pi,SignedTxnWithAD:_r,SigslotCommit:ai,StateProof:dc,StateProofMessage:gc,StateProofTrackingData:ui,StateSchema:rr,TealValue:hs,Transaction:Vn,get TransactionType(){return Rt},TxnCommitments:li,UntypedValue:hn,UpgradeState:di,UpgradeVote:gi,ValueDelta:ur,VotingData:ki,abiCheckTransactionType:Gd,abiTypeIsReference:Pu,abiTypeIsTransaction:Ha,algosToMicroalgos:Yw,appendSignMultisigTransaction:ZS,appendSignRawMultisigSignature:QS,assignGroupID:Vd,base64ToBytes:Be,bigIntToBytes:Li,bytesToBase64:un,bytesToBigInt:Du,bytesToHex:uc,bytesToString:hc,coerceToBytes:nr,computeGroupID:Nd,createDryrun:r1,createMultisigTransaction:Ud,decodeAddress:id,decodeJSON:pt,decodeMsgpack:Kt,decodeObj:W0,decodeSignedTransaction:vv,decodeUint64:Hw,decodeUnsignedTransaction:cv,dryrunTxnResultAppTrace:s1,dryrunTxnResultLogicSigTrace:a1,encodeAddress:sd,encodeJSON:G0,encodeMsgpack:Nn,encodeObj:H0,encodeUint64:rd,encodeUnsignedSimulateTransaction:Md,encodeUnsignedTransaction:av,encodedMultiSigFromEncodingData:ku,encodedMultiSigToEncodingData:Au,encodedSubsigFromEncodingData:bd,encodedSubsigToEncodingData:xd,generateAccount:BS,getApplicationAddress:mh,getMethodByName:Ou,hexToBytes:Ww,indexerModels:lS,isOnApplicationComplete:yd,isTransactionType:Eh,isTransactionWithSigner:iu,isValidAddress:od,logicSigFromByte:mv,makeApplicationCallTxnFromObject:vr,makeApplicationClearStateTxnFromObject:S1,makeApplicationCloseOutTxnFromObject:v1,makeApplicationCreateTxnFromObject:p1,makeApplicationDeleteTxnFromObject:y1,makeApplicationNoOpTxnFromObject:E1,makeApplicationOptInTxnFromObject:w1,makeApplicationUpdateTxnFromObject:m1,makeAssetConfigTxnWithSuggestedParamsFromObject:l1,makeAssetCreateTxnWithSuggestedParamsFromObject:u1,makeAssetDestroyTxnWithSuggestedParamsFromObject:f1,makeAssetFreezeTxnWithSuggestedParamsFromObject:d1,makeAssetTransferTxnWithSuggestedParamsFromObject:g1,makeBaseAssetConfigTxn:vc,makeBasicAccountTransactionSigner:b1,makeEmptyTransactionSigner:A1,makeKeyRegistrationTxnWithSuggestedParamsFromObject:h1,makeLogicSigAccountTransactionSigner:x1,makeMultiSigAccountTransactionSigner:k1,makePaymentTxnWithSuggestedParamsFromObject:c1,masterDerivationKeyToMnemonic:$S,mergeMultisigTransactions:wc,microalgosToAlgos:Jw,mnemonicFromSeed:Tu,mnemonicToMasterDerivationKey:LS,mnemonicToSecretKey:VS,modelsv2:bv,msgpackRawDecode:gd,msgpackRawDecodeAsMap:pd,msgpackRawEncode:ya,multisigAddress:gv,parseJSON:wu,secretKeyToMnemonic:US,seedFromMnemonic:Iu,signBytes:B1,signLogicSigTransaction:HS,signLogicSigTransactionObject:Ru,signMultisigTransaction:Fd,signTransaction:O1,stringifyJSON:ni,tealSign:Ad,tealSignFromProgram:wv,verifyBytes:C1,verifyMultisig:Sd,verifyTealSign:yv,waitForConfirmation:Pd},Symbol.toStringTag,{value:"Module"})),L1={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},Yd={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},Qt={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},vn={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},Er={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"};class Ae{static getFirstMatch(e,t){const r=t.match(e);return r&&r.length>0&&r[1]||""}static getSecondMatch(e,t){const r=t.match(e);return r&&r.length>1&&r[2]||""}static matchAndReturnConst(e,t,r){if(e.test(t))return r}static getWindowsVersionName(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}static getMacOSVersionName(e){const t=e.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(t.push(0),t[0]===10)switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}}static getAndroidVersionName(e){const t=e.split(".").splice(0,2).map(r=>parseInt(r,10)||0);if(t.push(0),!(t[0]===1&&t[1]<5)){if(t[0]===1&&t[1]<6)return"Cupcake";if(t[0]===1&&t[1]>=6)return"Donut";if(t[0]===2&&t[1]<2)return"Eclair";if(t[0]===2&&t[1]===2)return"Froyo";if(t[0]===2&&t[1]>2)return"Gingerbread";if(t[0]===3)return"Honeycomb";if(t[0]===4&&t[1]<1)return"Ice Cream Sandwich";if(t[0]===4&&t[1]<4)return"Jelly Bean";if(t[0]===4&&t[1]>=4)return"KitKat";if(t[0]===5)return"Lollipop";if(t[0]===6)return"Marshmallow";if(t[0]===7)return"Nougat";if(t[0]===8)return"Oreo";if(t[0]===9)return"Pie"}}static getVersionPrecision(e){return e.split(".").length}static compareVersions(e,t,r=!1){const i=Ae.getVersionPrecision(e),o=Ae.getVersionPrecision(t);let s=Math.max(i,o),h=0;const m=Ae.map([e,t],u=>{const v=s-Ae.getVersionPrecision(u),T=u+new Array(v+1).join(".0");return Ae.map(T.split("."),B=>new Array(20-B.length).join("0")+B).reverse()});for(r&&(h=s-Math.min(i,o)),s-=1;s>=h;){if(m[0][s]>m[1][s])return 1;if(m[0][s]===m[1][s]){if(s===h)return 0;s-=1}else if(m[0][s]<m[1][s])return-1}}static map(e,t){const r=[];let i;if(Array.prototype.map)return Array.prototype.map.call(e,t);for(i=0;i<e.length;i+=1)r.push(t(e[i]));return r}static find(e,t){let r,i;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(r=0,i=e.length;r<i;r+=1){const o=e[r];if(t(o,r))return o}}static assign(e,...t){const r=e;let i,o;if(Object.assign)return Object.assign(e,...t);for(i=0,o=t.length;i<o;i+=1){const s=t[i];typeof s=="object"&&s!==null&&Object.keys(s).forEach(m=>{r[m]=s[m]})}return e}static getBrowserAlias(e){return L1[e]}static getBrowserTypeByAlias(e){return Yd[e]||""}}const Wt=/version\/(\d+(\.?_?\d+)+)/i,$1=[{test:[/googlebot/i],describe(n){const e={name:"Googlebot"},t=Ae.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,n)||Ae.getFirstMatch(Wt,n);return t&&(e.version=t),e}},{test:[/opera/i],describe(n){const e={name:"Opera"},t=Ae.getFirstMatch(Wt,n)||Ae.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/opr\/|opios/i],describe(n){const e={name:"Opera"},t=Ae.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,n)||Ae.getFirstMatch(Wt,n);return t&&(e.version=t),e}},{test:[/SamsungBrowser/i],describe(n){const e={name:"Samsung Internet for Android"},t=Ae.getFirstMatch(Wt,n)||Ae.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/Whale/i],describe(n){const e={name:"NAVER Whale Browser"},t=Ae.getFirstMatch(Wt,n)||Ae.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/MZBrowser/i],describe(n){const e={name:"MZ Browser"},t=Ae.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,n)||Ae.getFirstMatch(Wt,n);return t&&(e.version=t),e}},{test:[/focus/i],describe(n){const e={name:"Focus"},t=Ae.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,n)||Ae.getFirstMatch(Wt,n);return t&&(e.version=t),e}},{test:[/swing/i],describe(n){const e={name:"Swing"},t=Ae.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,n)||Ae.getFirstMatch(Wt,n);return t&&(e.version=t),e}},{test:[/coast/i],describe(n){const e={name:"Opera Coast"},t=Ae.getFirstMatch(Wt,n)||Ae.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe(n){const e={name:"Opera Touch"},t=Ae.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,n)||Ae.getFirstMatch(Wt,n);return t&&(e.version=t),e}},{test:[/yabrowser/i],describe(n){const e={name:"Yandex Browser"},t=Ae.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,n)||Ae.getFirstMatch(Wt,n);return t&&(e.version=t),e}},{test:[/ucbrowser/i],describe(n){const e={name:"UC Browser"},t=Ae.getFirstMatch(Wt,n)||Ae.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/Maxthon|mxios/i],describe(n){const e={name:"Maxthon"},t=Ae.getFirstMatch(Wt,n)||Ae.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/epiphany/i],describe(n){const e={name:"Epiphany"},t=Ae.getFirstMatch(Wt,n)||Ae.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/puffin/i],describe(n){const e={name:"Puffin"},t=Ae.getFirstMatch(Wt,n)||Ae.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/sleipnir/i],describe(n){const e={name:"Sleipnir"},t=Ae.getFirstMatch(Wt,n)||Ae.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/k-meleon/i],describe(n){const e={name:"K-Meleon"},t=Ae.getFirstMatch(Wt,n)||Ae.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/micromessenger/i],describe(n){const e={name:"WeChat"},t=Ae.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,n)||Ae.getFirstMatch(Wt,n);return t&&(e.version=t),e}},{test:[/qqbrowser/i],describe(n){const e={name:/qqbrowserlite/i.test(n)?"QQ Browser Lite":"QQ Browser"},t=Ae.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,n)||Ae.getFirstMatch(Wt,n);return t&&(e.version=t),e}},{test:[/msie|trident/i],describe(n){const e={name:"Internet Explorer"},t=Ae.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/\sedg\//i],describe(n){const e={name:"Microsoft Edge"},t=Ae.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/edg([ea]|ios)/i],describe(n){const e={name:"Microsoft Edge"},t=Ae.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/vivaldi/i],describe(n){const e={name:"Vivaldi"},t=Ae.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/seamonkey/i],describe(n){const e={name:"SeaMonkey"},t=Ae.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/sailfish/i],describe(n){const e={name:"Sailfish"},t=Ae.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,n);return t&&(e.version=t),e}},{test:[/silk/i],describe(n){const e={name:"Amazon Silk"},t=Ae.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/phantom/i],describe(n){const e={name:"PhantomJS"},t=Ae.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/slimerjs/i],describe(n){const e={name:"SlimerJS"},t=Ae.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(n){const e={name:"BlackBerry"},t=Ae.getFirstMatch(Wt,n)||Ae.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/(web|hpw)[o0]s/i],describe(n){const e={name:"WebOS Browser"},t=Ae.getFirstMatch(Wt,n)||Ae.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/bada/i],describe(n){const e={name:"Bada"},t=Ae.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/tizen/i],describe(n){const e={name:"Tizen"},t=Ae.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,n)||Ae.getFirstMatch(Wt,n);return t&&(e.version=t),e}},{test:[/qupzilla/i],describe(n){const e={name:"QupZilla"},t=Ae.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,n)||Ae.getFirstMatch(Wt,n);return t&&(e.version=t),e}},{test:[/firefox|iceweasel|fxios/i],describe(n){const e={name:"Firefox"},t=Ae.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/electron/i],describe(n){const e={name:"Electron"},t=Ae.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/MiuiBrowser/i],describe(n){const e={name:"Miui"},t=Ae.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/chromium/i],describe(n){const e={name:"Chromium"},t=Ae.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,n)||Ae.getFirstMatch(Wt,n);return t&&(e.version=t),e}},{test:[/chrome|crios|crmo/i],describe(n){const e={name:"Chrome"},t=Ae.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/GSA/i],describe(n){const e={name:"Google Search"},t=Ae.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test(n){const e=!n.test(/like android/i),t=n.test(/android/i);return e&&t},describe(n){const e={name:"Android Browser"},t=Ae.getFirstMatch(Wt,n);return t&&(e.version=t),e}},{test:[/playstation 4/i],describe(n){const e={name:"PlayStation 4"},t=Ae.getFirstMatch(Wt,n);return t&&(e.version=t),e}},{test:[/safari|applewebkit/i],describe(n){const e={name:"Safari"},t=Ae.getFirstMatch(Wt,n);return t&&(e.version=t),e}},{test:[/.*/i],describe(n){const e=/^(.*)\/(.*) /,t=/^(.*)\/(.*)[ \t]\((.*)/,i=n.search("\\(")!==-1?t:e;return{name:Ae.getFirstMatch(i,n),version:Ae.getSecondMatch(i,n)}}}],F1=[{test:[/Roku\/DVP/],describe(n){const e=Ae.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,n);return{name:vn.Roku,version:e}}},{test:[/windows phone/i],describe(n){const e=Ae.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,n);return{name:vn.WindowsPhone,version:e}}},{test:[/windows /i],describe(n){const e=Ae.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,n),t=Ae.getWindowsVersionName(e);return{name:vn.Windows,version:e,versionName:t}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(n){const e={name:vn.iOS},t=Ae.getSecondMatch(/(Version\/)(\d[\d.]+)/,n);return t&&(e.version=t),e}},{test:[/macintosh/i],describe(n){const e=Ae.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,n).replace(/[_\s]/g,"."),t=Ae.getMacOSVersionName(e),r={name:vn.MacOS,version:e};return t&&(r.versionName=t),r}},{test:[/(ipod|iphone|ipad)/i],describe(n){const e=Ae.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,n).replace(/[_\s]/g,".");return{name:vn.iOS,version:e}}},{test(n){const e=!n.test(/like android/i),t=n.test(/android/i);return e&&t},describe(n){const e=Ae.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,n),t=Ae.getAndroidVersionName(e),r={name:vn.Android,version:e};return t&&(r.versionName=t),r}},{test:[/(web|hpw)[o0]s/i],describe(n){const e=Ae.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,n),t={name:vn.WebOS};return e&&e.length&&(t.version=e),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe(n){const e=Ae.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,n)||Ae.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,n)||Ae.getFirstMatch(/\bbb(\d+)/i,n);return{name:vn.BlackBerry,version:e}}},{test:[/bada/i],describe(n){const e=Ae.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,n);return{name:vn.Bada,version:e}}},{test:[/tizen/i],describe(n){const e=Ae.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,n);return{name:vn.Tizen,version:e}}},{test:[/linux/i],describe(){return{name:vn.Linux}}},{test:[/CrOS/],describe(){return{name:vn.ChromeOS}}},{test:[/PlayStation 4/],describe(n){const e=Ae.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,n);return{name:vn.PlayStation4,version:e}}}],q1=[{test:[/googlebot/i],describe(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe(n){const e=Ae.getFirstMatch(/(can-l01)/i,n)&&"Nova",t={type:Qt.mobile,vendor:"Huawei"};return e&&(t.model=e),t}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe(){return{type:Qt.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe(){return{type:Qt.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe(){return{type:Qt.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe(){return{type:Qt.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe(){return{type:Qt.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe(){return{type:Qt.tablet}}},{test(n){const e=n.test(/ipod|iphone/i),t=n.test(/like (ipod|iphone)/i);return e&&!t},describe(n){const e=Ae.getFirstMatch(/(ipod|iphone)/i,n);return{type:Qt.mobile,vendor:"Apple",model:e}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe(){return{type:Qt.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe(){return{type:Qt.mobile}}},{test(n){return n.getBrowserName(!0)==="blackberry"},describe(){return{type:Qt.mobile,vendor:"BlackBerry"}}},{test(n){return n.getBrowserName(!0)==="bada"},describe(){return{type:Qt.mobile}}},{test(n){return n.getBrowserName()==="windows phone"},describe(){return{type:Qt.mobile,vendor:"Microsoft"}}},{test(n){const e=Number(String(n.getOSVersion()).split(".")[0]);return n.getOSName(!0)==="android"&&e>=3},describe(){return{type:Qt.tablet}}},{test(n){return n.getOSName(!0)==="android"},describe(){return{type:Qt.mobile}}},{test(n){return n.getOSName(!0)==="macos"},describe(){return{type:Qt.desktop,vendor:"Apple"}}},{test(n){return n.getOSName(!0)==="windows"},describe(){return{type:Qt.desktop}}},{test(n){return n.getOSName(!0)==="linux"},describe(){return{type:Qt.desktop}}},{test(n){return n.getOSName(!0)==="playstation 4"},describe(){return{type:Qt.tv}}},{test(n){return n.getOSName(!0)==="roku"},describe(){return{type:Qt.tv}}}],z1=[{test(n){return n.getBrowserName(!0)==="microsoft edge"},describe(n){if(/\sedg\//i.test(n))return{name:Er.Blink};const t=Ae.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,n);return{name:Er.EdgeHTML,version:t}}},{test:[/trident/i],describe(n){const e={name:Er.Trident},t=Ae.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test(n){return n.test(/presto/i)},describe(n){const e={name:Er.Presto},t=Ae.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test(n){const e=n.test(/gecko/i),t=n.test(/like gecko/i);return e&&!t},describe(n){const e={name:Er.Gecko},t=Ae.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}},{test:[/(apple)?webkit\/537\.36/i],describe(){return{name:Er.Blink}}},{test:[/(apple)?webkit/i],describe(n){const e={name:Er.WebKit},t=Ae.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,n);return t&&(e.version=t),e}}];class ql{constructor(e,t=!1){if(e==null||e==="")throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},t!==!0&&this.parse()}getUA(){return this._ua}test(e){return e.test(this._ua)}parseBrowser(){this.parsedResult.browser={};const e=Ae.find($1,t=>{if(typeof t.test=="function")return t.test(this);if(t.test instanceof Array)return t.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.browser=e.describe(this.getUA())),this.parsedResult.browser}getBrowser(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()}getBrowserName(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""}getBrowserVersion(){return this.getBrowser().version}getOS(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()}parseOS(){this.parsedResult.os={};const e=Ae.find(F1,t=>{if(typeof t.test=="function")return t.test(this);if(t.test instanceof Array)return t.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.os=e.describe(this.getUA())),this.parsedResult.os}getOSName(e){const{name:t}=this.getOS();return e?String(t).toLowerCase()||"":t||""}getOSVersion(){return this.getOS().version}getPlatform(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()}getPlatformType(e=!1){const{type:t}=this.getPlatform();return e?String(t).toLowerCase()||"":t||""}parsePlatform(){this.parsedResult.platform={};const e=Ae.find(q1,t=>{if(typeof t.test=="function")return t.test(this);if(t.test instanceof Array)return t.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.platform=e.describe(this.getUA())),this.parsedResult.platform}getEngine(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()}getEngineName(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""}parseEngine(){this.parsedResult.engine={};const e=Ae.find(z1,t=>{if(typeof t.test=="function")return t.test(this);if(t.test instanceof Array)return t.test.some(r=>this.test(r));throw new Error("Browser's test function is not valid")});return e&&(this.parsedResult.engine=e.describe(this.getUA())),this.parsedResult.engine}parse(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this}getResult(){return Ae.assign({},this.parsedResult)}satisfies(e){const t={};let r=0;const i={};let o=0;if(Object.keys(e).forEach(h=>{const m=e[h];typeof m=="string"?(i[h]=m,o+=1):typeof m=="object"&&(t[h]=m,r+=1)}),r>0){const h=Object.keys(t),m=Ae.find(h,v=>this.isOS(v));if(m){const v=this.satisfies(t[m]);if(v!==void 0)return v}const u=Ae.find(h,v=>this.isPlatform(v));if(u){const v=this.satisfies(t[u]);if(v!==void 0)return v}}if(o>0){const h=Object.keys(i),m=Ae.find(h,u=>this.isBrowser(u,!0));if(m!==void 0)return this.compareVersion(i[m])}}isBrowser(e,t=!1){const r=this.getBrowserName().toLowerCase();let i=e.toLowerCase();const o=Ae.getBrowserTypeByAlias(i);return t&&o&&(i=o.toLowerCase()),i===r}compareVersion(e){let t=[0],r=e,i=!1;const o=this.getBrowserVersion();if(typeof o=="string")return e[0]===">"||e[0]==="<"?(r=e.substr(1),e[1]==="="?(i=!0,r=e.substr(2)):t=[],e[0]===">"?t.push(1):t.push(-1)):e[0]==="="?r=e.substr(1):e[0]==="~"&&(i=!0,r=e.substr(1)),t.indexOf(Ae.compareVersions(o,r,i))>-1}isOS(e){return this.getOSName(!0)===String(e).toLowerCase()}isPlatform(e){return this.getPlatformType(!0)===String(e).toLowerCase()}isEngine(e){return this.getEngineName(!0)===String(e).toLowerCase()}is(e,t=!1){return this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)}some(e=[]){return e.some(t=>this.is(t))}}/*!
 * Bowser - a browser detector
 * https://github.com/lancedikson/bowser
 * MIT License | (c) Dustin Diaz 2012-2015
 * MIT License | (c) Denis Demchenko 2015-2019
 */class H1{static getParser(e,t=!1){if(typeof e!="string")throw new Error("UserAgent should be a string");return new ql(e,t)}static parse(e){return new ql(e).getResult()}static get BROWSER_MAP(){return Yd}static get ENGINE_MAP(){return Er}static get OS_MAP(){return vn}static get PLATFORMS_MAP(){return Qt}}var zl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:{},Xn=[],Pn=[],W1=typeof Uint8Array<"u"?Uint8Array:Array,Bu=!1;function Xd(){Bu=!0;for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e=0;e<64;++e)Xn[e]=n[e],Pn[n.charCodeAt(e)]=e;Pn[45]=62,Pn[95]=63}function j1(n,e,t){for(var r,i,o=[],s=e;s<t;s+=3)r=(n[s]<<16)+(n[s+1]<<8)+n[s+2],o.push(Xn[(i=r)>>18&63]+Xn[i>>12&63]+Xn[i>>6&63]+Xn[63&i]);return o.join("")}function Hl(n){var e;Bu||Xd();for(var t=n.length,r=t%3,i="",o=[],s=16383,h=0,m=t-r;h<m;h+=s)o.push(j1(n,h,h+s>m?m:h+s));return r===1?(e=n[t-1],i+=Xn[e>>2],i+=Xn[e<<4&63],i+="=="):r===2&&(e=(n[t-2]<<8)+n[t-1],i+=Xn[e>>10],i+=Xn[e>>4&63],i+=Xn[e<<2&63],i+="="),o.push(i),o.join("")}function ba(n,e,t,r,i){var o,s,h=8*i-r-1,m=(1<<h)-1,u=m>>1,v=-7,T=t?i-1:0,B=t?-1:1,W=n[e+T];for(T+=B,o=W&(1<<-v)-1,W>>=-v,v+=h;v>0;o=256*o+n[e+T],T+=B,v-=8);for(s=o&(1<<-v)-1,o>>=-v,v+=r;v>0;s=256*s+n[e+T],T+=B,v-=8);if(o===0)o=1-u;else{if(o===m)return s?NaN:1/0*(W?-1:1);s+=Math.pow(2,r),o-=u}return(W?-1:1)*s*Math.pow(2,o-r)}function Zd(n,e,t,r,i,o){var s,h,m,u=8*o-i-1,v=(1<<u)-1,T=v>>1,B=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,W=r?0:o-1,U=r?1:-1,ne=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(h=isNaN(e)?1:0,s=v):(s=Math.floor(Math.log(e)/Math.LN2),e*(m=Math.pow(2,-s))<1&&(s--,m*=2),(e+=s+T>=1?B/m:B*Math.pow(2,1-T))*m>=2&&(s++,m/=2),s+T>=v?(h=0,s=v):s+T>=1?(h=(e*m-1)*Math.pow(2,i),s+=T):(h=e*Math.pow(2,T-1)*Math.pow(2,i),s=0));i>=8;n[t+W]=255&h,W+=U,h/=256,i-=8);for(s=s<<i|h,u+=i;u>0;n[t+W]=255&s,W+=U,s/=256,u-=8);n[t+W-U]|=128*ne}var G1={}.toString,Qd=Array.isArray||function(n){return G1.call(n)=="[object Array]"};function Wa(){return Ie.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function fr(n,e){if(Wa()<e)throw new RangeError("Invalid typed array length");return Ie.TYPED_ARRAY_SUPPORT?(n=new Uint8Array(e)).__proto__=Ie.prototype:(n===null&&(n=new Ie(e)),n.length=e),n}function Ie(n,e,t){if(!(Ie.TYPED_ARRAY_SUPPORT||this instanceof Ie))return new Ie(n,e,t);if(typeof n=="number"){if(typeof e=="string")throw new Error("If encoding is specified then the first argument must be a string");return ou(this,n)}return eg(this,n,e,t)}function eg(n,e,t,r){if(typeof e=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer?function(i,o,s,h){if(o.byteLength,s<0||o.byteLength<s)throw new RangeError("'offset' is out of bounds");if(o.byteLength<s+(h||0))throw new RangeError("'length' is out of bounds");return o=s===void 0&&h===void 0?new Uint8Array(o):h===void 0?new Uint8Array(o,s):new Uint8Array(o,s,h),Ie.TYPED_ARRAY_SUPPORT?(i=o).__proto__=Ie.prototype:i=th(i,o),i}(n,e,t,r):typeof e=="string"?function(i,o,s){if(typeof s=="string"&&s!==""||(s="utf8"),!Ie.isEncoding(s))throw new TypeError('"encoding" must be a valid string encoding');var h=0|ng(o,s);i=fr(i,h);var m=i.write(o,s);return m!==h&&(i=i.slice(0,m)),i}(n,e,t):function(i,o){if(Zn(o)){var s=0|Cu(o.length);return(i=fr(i,s)).length===0||o.copy(i,0,0,s),i}if(o){if(typeof ArrayBuffer<"u"&&o.buffer instanceof ArrayBuffer||"length"in o)return typeof o.length!="number"||(h=o.length)!=h?fr(i,0):th(i,o);if(o.type==="Buffer"&&Qd(o.data))return th(i,o.data)}var h;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(n,e)}function tg(n){if(typeof n!="number")throw new TypeError('"size" argument must be a number');if(n<0)throw new RangeError('"size" argument must not be negative')}function ou(n,e){if(tg(e),n=fr(n,e<0?0:0|Cu(e)),!Ie.TYPED_ARRAY_SUPPORT)for(var t=0;t<e;++t)n[t]=0;return n}function th(n,e){var t=e.length<0?0:0|Cu(e.length);n=fr(n,t);for(var r=0;r<t;r+=1)n[r]=255&e[r];return n}function Cu(n){if(n>=Wa())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Wa().toString(16)+" bytes");return 0|n}function Zn(n){return!(n==null||!n._isBuffer)}function ng(n,e){if(Zn(n))return n.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(n)||n instanceof ArrayBuffer))return n.byteLength;typeof n!="string"&&(n=""+n);var t=n.length;if(t===0)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return t;case"utf8":case"utf-8":case void 0:return ja(n).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*t;case"hex":return t>>>1;case"base64":return sg(n).length;default:if(r)return ja(n).length;e=(""+e).toLowerCase(),r=!0}}function K1(n,e,t){var r=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((t===void 0||t>this.length)&&(t=this.length),t<=0)||(t>>>=0)<=(e>>>=0))return"";for(n||(n="utf8");;)switch(n){case"hex":return rE(this,e,t);case"utf8":case"utf-8":return ig(this,e,t);case"ascii":return tE(this,e,t);case"latin1":case"binary":return nE(this,e,t);case"base64":return eE(this,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return iE(this,e,t);default:if(r)throw new TypeError("Unknown encoding: "+n);n=(n+"").toLowerCase(),r=!0}}function zr(n,e,t){var r=n[e];n[e]=n[t],n[t]=r}function Wl(n,e,t,r,i){if(n.length===0)return-1;if(typeof t=="string"?(r=t,t=0):t>2147483647?t=2147483647:t<-2147483648&&(t=-2147483648),t=+t,isNaN(t)&&(t=i?0:n.length-1),t<0&&(t=n.length+t),t>=n.length){if(i)return-1;t=n.length-1}else if(t<0){if(!i)return-1;t=0}if(typeof e=="string"&&(e=Ie.from(e,r)),Zn(e))return e.length===0?-1:jl(n,e,t,r,i);if(typeof e=="number")return e&=255,Ie.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(n,e,t):Uint8Array.prototype.lastIndexOf.call(n,e,t):jl(n,[e],t,r,i);throw new TypeError("val must be string, number or Buffer")}function jl(n,e,t,r,i){var o,s=1,h=n.length,m=e.length;if(r!==void 0&&((r=String(r).toLowerCase())==="ucs2"||r==="ucs-2"||r==="utf16le"||r==="utf-16le")){if(n.length<2||e.length<2)return-1;s=2,h/=2,m/=2,t/=2}function u(W,U){return s===1?W[U]:W.readUInt16BE(U*s)}if(i){var v=-1;for(o=t;o<h;o++)if(u(n,o)===u(e,v===-1?0:o-v)){if(v===-1&&(v=o),o-v+1===m)return v*s}else v!==-1&&(o-=o-v),v=-1}else for(t+m>h&&(t=h-m),o=t;o>=0;o--){for(var T=!0,B=0;B<m;B++)if(u(n,o+B)!==u(e,B)){T=!1;break}if(T)return o}return-1}function J1(n,e,t,r){t=Number(t)||0;var i=n.length-t;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var s=0;s<r;++s){var h=parseInt(e.substr(2*s,2),16);if(isNaN(h))return s;n[t+s]=h}return s}function Y1(n,e,t,r){return Ac(ja(e,n.length-t),n,t,r)}function rg(n,e,t,r){return Ac(function(i){for(var o=[],s=0;s<i.length;++s)o.push(255&i.charCodeAt(s));return o}(e),n,t,r)}function X1(n,e,t,r){return rg(n,e,t,r)}function Z1(n,e,t,r){return Ac(sg(e),n,t,r)}function Q1(n,e,t,r){return Ac(function(i,o){for(var s,h,m,u=[],v=0;v<i.length&&!((o-=2)<0);++v)h=(s=i.charCodeAt(v))>>8,m=s%256,u.push(m),u.push(h);return u}(e,n.length-t),n,t,r)}function eE(n,e,t){return e===0&&t===n.length?Hl(n):Hl(n.slice(e,t))}function ig(n,e,t){t=Math.min(n.length,t);for(var r=[],i=e;i<t;){var o,s,h,m,u=n[i],v=null,T=u>239?4:u>223?3:u>191?2:1;if(i+T<=t)switch(T){case 1:u<128&&(v=u);break;case 2:(192&(o=n[i+1]))==128&&(m=(31&u)<<6|63&o)>127&&(v=m);break;case 3:o=n[i+1],s=n[i+2],(192&o)==128&&(192&s)==128&&(m=(15&u)<<12|(63&o)<<6|63&s)>2047&&(m<55296||m>57343)&&(v=m);break;case 4:o=n[i+1],s=n[i+2],h=n[i+3],(192&o)==128&&(192&s)==128&&(192&h)==128&&(m=(15&u)<<18|(63&o)<<12|(63&s)<<6|63&h)>65535&&m<1114112&&(v=m)}v===null?(v=65533,T=1):v>65535&&(v-=65536,r.push(v>>>10&1023|55296),v=56320|1023&v),r.push(v),i+=T}return function(B){var W=B.length;if(W<=Gl)return String.fromCharCode.apply(String,B);for(var U="",ne=0;ne<W;)U+=String.fromCharCode.apply(String,B.slice(ne,ne+=Gl));return U}(r)}Ie.TYPED_ARRAY_SUPPORT=zl.TYPED_ARRAY_SUPPORT===void 0||zl.TYPED_ARRAY_SUPPORT,Wa(),Ie.poolSize=8192,Ie._augment=function(n){return n.__proto__=Ie.prototype,n},Ie.from=function(n,e,t){return eg(null,n,e,t)},Ie.TYPED_ARRAY_SUPPORT&&(Ie.prototype.__proto__=Uint8Array.prototype,Ie.__proto__=Uint8Array),Ie.alloc=function(n,e,t){return function(r,i,o,s){return tg(i),i<=0?fr(r,i):o!==void 0?typeof s=="string"?fr(r,i).fill(o,s):fr(r,i).fill(o):fr(r,i)}(null,n,e,t)},Ie.allocUnsafe=function(n){return ou(null,n)},Ie.allocUnsafeSlow=function(n){return ou(null,n)},Ie.isBuffer=function(n){return n!=null&&(!!n._isBuffer||Yl(n)||function(e){return typeof e.readFloatLE=="function"&&typeof e.slice=="function"&&Yl(e.slice(0,0))}(n))},Ie.compare=function(n,e){if(!Zn(n)||!Zn(e))throw new TypeError("Arguments must be Buffers");if(n===e)return 0;for(var t=n.length,r=e.length,i=0,o=Math.min(t,r);i<o;++i)if(n[i]!==e[i]){t=n[i],r=e[i];break}return t<r?-1:r<t?1:0},Ie.isEncoding=function(n){switch(String(n).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Ie.concat=function(n,e){if(!Qd(n))throw new TypeError('"list" argument must be an Array of Buffers');if(n.length===0)return Ie.alloc(0);var t;if(e===void 0)for(e=0,t=0;t<n.length;++t)e+=n[t].length;var r=Ie.allocUnsafe(e),i=0;for(t=0;t<n.length;++t){var o=n[t];if(!Zn(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i),i+=o.length}return r},Ie.byteLength=ng,Ie.prototype._isBuffer=!0,Ie.prototype.swap16=function(){var n=this.length;if(n%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<n;e+=2)zr(this,e,e+1);return this},Ie.prototype.swap32=function(){var n=this.length;if(n%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<n;e+=4)zr(this,e,e+3),zr(this,e+1,e+2);return this},Ie.prototype.swap64=function(){var n=this.length;if(n%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<n;e+=8)zr(this,e,e+7),zr(this,e+1,e+6),zr(this,e+2,e+5),zr(this,e+3,e+4);return this},Ie.prototype.toString=function(){var n=0|this.length;return n===0?"":arguments.length===0?ig(this,0,n):K1.apply(this,arguments)},Ie.prototype.equals=function(n){if(!Zn(n))throw new TypeError("Argument must be a Buffer");return this===n||Ie.compare(this,n)===0},Ie.prototype.inspect=function(){var n="";return this.length>0&&(n=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(n+=" ... ")),"<Buffer "+n+">"},Ie.prototype.compare=function(n,e,t,r,i){if(!Zn(n))throw new TypeError("Argument must be a Buffer");if(e===void 0&&(e=0),t===void 0&&(t=n?n.length:0),r===void 0&&(r=0),i===void 0&&(i=this.length),e<0||t>n.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=t)return 0;if(r>=i)return-1;if(e>=t)return 1;if(this===n)return 0;for(var o=(i>>>=0)-(r>>>=0),s=(t>>>=0)-(e>>>=0),h=Math.min(o,s),m=this.slice(r,i),u=n.slice(e,t),v=0;v<h;++v)if(m[v]!==u[v]){o=m[v],s=u[v];break}return o<s?-1:s<o?1:0},Ie.prototype.includes=function(n,e,t){return this.indexOf(n,e,t)!==-1},Ie.prototype.indexOf=function(n,e,t){return Wl(this,n,e,t,!0)},Ie.prototype.lastIndexOf=function(n,e,t){return Wl(this,n,e,t,!1)},Ie.prototype.write=function(n,e,t,r){if(e===void 0)r="utf8",t=this.length,e=0;else if(t===void 0&&typeof e=="string")r=e,t=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(t)?(t|=0,r===void 0&&(r="utf8")):(r=t,t=void 0)}var i=this.length-e;if((t===void 0||t>i)&&(t=i),n.length>0&&(t<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return J1(this,n,e,t);case"utf8":case"utf-8":return Y1(this,n,e,t);case"ascii":return rg(this,n,e,t);case"latin1":case"binary":return X1(this,n,e,t);case"base64":return Z1(this,n,e,t);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q1(this,n,e,t);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},Ie.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Gl=4096;function tE(n,e,t){var r="";t=Math.min(n.length,t);for(var i=e;i<t;++i)r+=String.fromCharCode(127&n[i]);return r}function nE(n,e,t){var r="";t=Math.min(n.length,t);for(var i=e;i<t;++i)r+=String.fromCharCode(n[i]);return r}function rE(n,e,t){var r=n.length;(!e||e<0)&&(e=0),(!t||t<0||t>r)&&(t=r);for(var i="",o=e;o<t;++o)i+=sE(n[o]);return i}function iE(n,e,t){for(var r=n.slice(e,t),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function sn(n,e,t){if(n%1!=0||n<0)throw new RangeError("offset is not uint");if(n+e>t)throw new RangeError("Trying to access beyond buffer length")}function xn(n,e,t,r,i,o){if(!Zn(n))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<o)throw new RangeError('"value" argument is out of bounds');if(t+r>n.length)throw new RangeError("Index out of range")}function xa(n,e,t,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(n.length-t,2);i<o;++i)n[t+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function ka(n,e,t,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(n.length-t,4);i<o;++i)n[t+i]=e>>>8*(r?i:3-i)&255}function og(n,e,t,r,i,o){if(t+r>n.length)throw new RangeError("Index out of range");if(t<0)throw new RangeError("Index out of range")}function Kl(n,e,t,r,i){return i||og(n,0,t,4),Zd(n,e,t,r,23,4),t+4}function Jl(n,e,t,r,i){return i||og(n,0,t,8),Zd(n,e,t,r,52,8),t+8}Ie.prototype.slice=function(n,e){var t,r=this.length;if((n=~~n)<0?(n+=r)<0&&(n=0):n>r&&(n=r),(e=e===void 0?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<n&&(e=n),Ie.TYPED_ARRAY_SUPPORT)(t=this.subarray(n,e)).__proto__=Ie.prototype;else{var i=e-n;t=new Ie(i,void 0);for(var o=0;o<i;++o)t[o]=this[o+n]}return t},Ie.prototype.readUIntLE=function(n,e,t){n|=0,e|=0,t||sn(n,e,this.length);for(var r=this[n],i=1,o=0;++o<e&&(i*=256);)r+=this[n+o]*i;return r},Ie.prototype.readUIntBE=function(n,e,t){n|=0,e|=0,t||sn(n,e,this.length);for(var r=this[n+--e],i=1;e>0&&(i*=256);)r+=this[n+--e]*i;return r},Ie.prototype.readUInt8=function(n,e){return e||sn(n,1,this.length),this[n]},Ie.prototype.readUInt16LE=function(n,e){return e||sn(n,2,this.length),this[n]|this[n+1]<<8},Ie.prototype.readUInt16BE=function(n,e){return e||sn(n,2,this.length),this[n]<<8|this[n+1]},Ie.prototype.readUInt32LE=function(n,e){return e||sn(n,4,this.length),(this[n]|this[n+1]<<8|this[n+2]<<16)+16777216*this[n+3]},Ie.prototype.readUInt32BE=function(n,e){return e||sn(n,4,this.length),16777216*this[n]+(this[n+1]<<16|this[n+2]<<8|this[n+3])},Ie.prototype.readIntLE=function(n,e,t){n|=0,e|=0,t||sn(n,e,this.length);for(var r=this[n],i=1,o=0;++o<e&&(i*=256);)r+=this[n+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*e)),r},Ie.prototype.readIntBE=function(n,e,t){n|=0,e|=0,t||sn(n,e,this.length);for(var r=e,i=1,o=this[n+--r];r>0&&(i*=256);)o+=this[n+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*e)),o},Ie.prototype.readInt8=function(n,e){return e||sn(n,1,this.length),128&this[n]?-1*(255-this[n]+1):this[n]},Ie.prototype.readInt16LE=function(n,e){e||sn(n,2,this.length);var t=this[n]|this[n+1]<<8;return 32768&t?4294901760|t:t},Ie.prototype.readInt16BE=function(n,e){e||sn(n,2,this.length);var t=this[n+1]|this[n]<<8;return 32768&t?4294901760|t:t},Ie.prototype.readInt32LE=function(n,e){return e||sn(n,4,this.length),this[n]|this[n+1]<<8|this[n+2]<<16|this[n+3]<<24},Ie.prototype.readInt32BE=function(n,e){return e||sn(n,4,this.length),this[n]<<24|this[n+1]<<16|this[n+2]<<8|this[n+3]},Ie.prototype.readFloatLE=function(n,e){return e||sn(n,4,this.length),ba(this,n,!0,23,4)},Ie.prototype.readFloatBE=function(n,e){return e||sn(n,4,this.length),ba(this,n,!1,23,4)},Ie.prototype.readDoubleLE=function(n,e){return e||sn(n,8,this.length),ba(this,n,!0,52,8)},Ie.prototype.readDoubleBE=function(n,e){return e||sn(n,8,this.length),ba(this,n,!1,52,8)},Ie.prototype.writeUIntLE=function(n,e,t,r){n=+n,e|=0,t|=0,r||xn(this,n,e,t,Math.pow(2,8*t)-1,0);var i=1,o=0;for(this[e]=255&n;++o<t&&(i*=256);)this[e+o]=n/i&255;return e+t},Ie.prototype.writeUIntBE=function(n,e,t,r){n=+n,e|=0,t|=0,r||xn(this,n,e,t,Math.pow(2,8*t)-1,0);var i=t-1,o=1;for(this[e+i]=255&n;--i>=0&&(o*=256);)this[e+i]=n/o&255;return e+t},Ie.prototype.writeUInt8=function(n,e,t){return n=+n,e|=0,t||xn(this,n,e,1,255,0),Ie.TYPED_ARRAY_SUPPORT||(n=Math.floor(n)),this[e]=255&n,e+1},Ie.prototype.writeUInt16LE=function(n,e,t){return n=+n,e|=0,t||xn(this,n,e,2,65535,0),Ie.TYPED_ARRAY_SUPPORT?(this[e]=255&n,this[e+1]=n>>>8):xa(this,n,e,!0),e+2},Ie.prototype.writeUInt16BE=function(n,e,t){return n=+n,e|=0,t||xn(this,n,e,2,65535,0),Ie.TYPED_ARRAY_SUPPORT?(this[e]=n>>>8,this[e+1]=255&n):xa(this,n,e,!1),e+2},Ie.prototype.writeUInt32LE=function(n,e,t){return n=+n,e|=0,t||xn(this,n,e,4,4294967295,0),Ie.TYPED_ARRAY_SUPPORT?(this[e+3]=n>>>24,this[e+2]=n>>>16,this[e+1]=n>>>8,this[e]=255&n):ka(this,n,e,!0),e+4},Ie.prototype.writeUInt32BE=function(n,e,t){return n=+n,e|=0,t||xn(this,n,e,4,4294967295,0),Ie.TYPED_ARRAY_SUPPORT?(this[e]=n>>>24,this[e+1]=n>>>16,this[e+2]=n>>>8,this[e+3]=255&n):ka(this,n,e,!1),e+4},Ie.prototype.writeIntLE=function(n,e,t,r){if(n=+n,e|=0,!r){var i=Math.pow(2,8*t-1);xn(this,n,e,t,i-1,-i)}var o=0,s=1,h=0;for(this[e]=255&n;++o<t&&(s*=256);)n<0&&h===0&&this[e+o-1]!==0&&(h=1),this[e+o]=(n/s|0)-h&255;return e+t},Ie.prototype.writeIntBE=function(n,e,t,r){if(n=+n,e|=0,!r){var i=Math.pow(2,8*t-1);xn(this,n,e,t,i-1,-i)}var o=t-1,s=1,h=0;for(this[e+o]=255&n;--o>=0&&(s*=256);)n<0&&h===0&&this[e+o+1]!==0&&(h=1),this[e+o]=(n/s|0)-h&255;return e+t},Ie.prototype.writeInt8=function(n,e,t){return n=+n,e|=0,t||xn(this,n,e,1,127,-128),Ie.TYPED_ARRAY_SUPPORT||(n=Math.floor(n)),n<0&&(n=255+n+1),this[e]=255&n,e+1},Ie.prototype.writeInt16LE=function(n,e,t){return n=+n,e|=0,t||xn(this,n,e,2,32767,-32768),Ie.TYPED_ARRAY_SUPPORT?(this[e]=255&n,this[e+1]=n>>>8):xa(this,n,e,!0),e+2},Ie.prototype.writeInt16BE=function(n,e,t){return n=+n,e|=0,t||xn(this,n,e,2,32767,-32768),Ie.TYPED_ARRAY_SUPPORT?(this[e]=n>>>8,this[e+1]=255&n):xa(this,n,e,!1),e+2},Ie.prototype.writeInt32LE=function(n,e,t){return n=+n,e|=0,t||xn(this,n,e,4,2147483647,-2147483648),Ie.TYPED_ARRAY_SUPPORT?(this[e]=255&n,this[e+1]=n>>>8,this[e+2]=n>>>16,this[e+3]=n>>>24):ka(this,n,e,!0),e+4},Ie.prototype.writeInt32BE=function(n,e,t){return n=+n,e|=0,t||xn(this,n,e,4,2147483647,-2147483648),n<0&&(n=4294967295+n+1),Ie.TYPED_ARRAY_SUPPORT?(this[e]=n>>>24,this[e+1]=n>>>16,this[e+2]=n>>>8,this[e+3]=255&n):ka(this,n,e,!1),e+4},Ie.prototype.writeFloatLE=function(n,e,t){return Kl(this,n,e,!0,t)},Ie.prototype.writeFloatBE=function(n,e,t){return Kl(this,n,e,!1,t)},Ie.prototype.writeDoubleLE=function(n,e,t){return Jl(this,n,e,!0,t)},Ie.prototype.writeDoubleBE=function(n,e,t){return Jl(this,n,e,!1,t)},Ie.prototype.copy=function(n,e,t,r){if(t||(t=0),r||r===0||(r=this.length),e>=n.length&&(e=n.length),e||(e=0),r>0&&r<t&&(r=t),r===t||n.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(t<0||t>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),n.length-e<r-t&&(r=n.length-e+t);var i,o=r-t;if(this===n&&t<e&&e<r)for(i=o-1;i>=0;--i)n[i+e]=this[i+t];else if(o<1e3||!Ie.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)n[i+e]=this[i+t];else Uint8Array.prototype.set.call(n,this.subarray(t,t+o),e);return o},Ie.prototype.fill=function(n,e,t,r){if(typeof n=="string"){if(typeof e=="string"?(r=e,e=0,t=this.length):typeof t=="string"&&(r=t,t=this.length),n.length===1){var i=n.charCodeAt(0);i<256&&(n=i)}if(r!==void 0&&typeof r!="string")throw new TypeError("encoding must be a string");if(typeof r=="string"&&!Ie.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else typeof n=="number"&&(n&=255);if(e<0||this.length<e||this.length<t)throw new RangeError("Out of range index");if(t<=e)return this;var o;if(e>>>=0,t=t===void 0?this.length:t>>>0,n||(n=0),typeof n=="number")for(o=e;o<t;++o)this[o]=n;else{var s=Zn(n)?n:ja(new Ie(n,r).toString()),h=s.length;for(o=0;o<t-e;++o)this[o+e]=s[o%h]}return this};var oE=/[^+\/0-9A-Za-z-_]/g;function sE(n){return n<16?"0"+n.toString(16):n.toString(16)}function ja(n,e){var t;e=e||1/0;for(var r=n.length,i=null,o=[],s=0;s<r;++s){if((t=n.charCodeAt(s))>55295&&t<57344){if(!i){if(t>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=t;continue}if(t<56320){(e-=3)>-1&&o.push(239,191,189),i=t;continue}t=65536+(i-55296<<10|t-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,t<128){if((e-=1)<0)break;o.push(t)}else if(t<2048){if((e-=2)<0)break;o.push(t>>6|192,63&t|128)}else if(t<65536){if((e-=3)<0)break;o.push(t>>12|224,t>>6&63|128,63&t|128)}else{if(!(t<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(t>>18|240,t>>12&63|128,t>>6&63|128,63&t|128)}}return o}function sg(n){return function(e){var t,r,i,o,s,h;Bu||Xd();var m=e.length;if(m%4>0)throw new Error("Invalid string. Length must be a multiple of 4");s=e[m-2]==="="?2:e[m-1]==="="?1:0,h=new W1(3*m/4-s),i=s>0?m-4:m;var u=0;for(t=0,r=0;t<i;t+=4,r+=3)o=Pn[e.charCodeAt(t)]<<18|Pn[e.charCodeAt(t+1)]<<12|Pn[e.charCodeAt(t+2)]<<6|Pn[e.charCodeAt(t+3)],h[u++]=o>>16&255,h[u++]=o>>8&255,h[u++]=255&o;return s===2?(o=Pn[e.charCodeAt(t)]<<2|Pn[e.charCodeAt(t+1)]>>4,h[u++]=255&o):s===1&&(o=Pn[e.charCodeAt(t)]<<10|Pn[e.charCodeAt(t+1)]<<4|Pn[e.charCodeAt(t+2)]>>2,h[u++]=o>>8&255,h[u++]=255&o),h}(function(e){if((e=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(e).replace(oE,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(n))}function Ac(n,e,t,r){for(var i=0;i<r&&!(i+t>=e.length||i>=n.length);++i)e[i+t]=n[i];return i}function Yl(n){return!!n.constructor&&typeof n.constructor.isBuffer=="function"&&n.constructor.isBuffer(n)}function Kn(n,e,t,r){return new(t||(t=Promise))(function(i,o){function s(u){try{m(r.next(u))}catch(v){o(v)}}function h(u){try{m(r.throw(u))}catch(v){o(v)}}function m(u){var v;u.done?i(u.value):(v=u.value,v instanceof t?v:new t(function(T){T(v)})).then(s,h)}m((r=r.apply(n,[])).next())})}class mn extends Error{constructor(e,t,...r){super(...r),Error.captureStackTrace&&Error.captureStackTrace(this,mn),this.name="PeraWalletConnectError",this.data=e,this.message=t}}const es=new class{constructor(n){this.listener=void 0,this.channel=n.channel}setupListener({onReceiveMessage:n}){this.close(),this.listener=e=>{if(typeof e.data=="object")try{e.data.channel===this.channel&&n(e)}catch(t){console.error(t)}},window.addEventListener("message",this.listener)}sendMessage({message:n,targetWindow:e,origin:t,timeout:r=1e3}){setTimeout(()=>{const i={channel:this.channel,message:n};e.postMessage(i,{targetOrigin:t||"*"})},r)}close(){this.listener&&(window.removeEventListener("message",this.listener),this.listener=void 0)}}({channel:"pera-web-wallet"}),aE=700,cE=50;function hE(){const n=document.querySelector('meta[name="name"]'),e=document.querySelector('meta[name="description"]');let{title:t}=document,r="";return n instanceof HTMLMetaElement&&(t=n.content),e instanceof HTMLMetaElement&&(r=e.content),{title:t,description:r,url:window.location.origin,favicon:uE()[0]}}function uE(){const n=document.getElementsByTagName("link"),e=[];for(let t=0;t<n.length;t++){const r=n[t],i=r.getAttribute("rel");if(i&&i.toLowerCase().indexOf("icon")>-1){const o=r.getAttribute("href");if(o&&o.toLowerCase().indexOf("https:")===-1&&o.toLowerCase().indexOf("http:")===-1&&o.indexOf("//")!==0){let s=`${window.location.protocol}//${window.location.host}`;if(o.indexOf("/")===0)s+=o;else{const h=window.location.pathname.split("/");h.pop(),s+=`${h.join("/")}/${o}`}e.push(s)}else if((o==null?void 0:o.indexOf("//"))===0){const s=window.location.protocol+o;e.push(s)}else o&&e.push(o)}}return e}function ag(n){return new Promise((e,t)=>{try{const r=window.open(n,"_blank");let i=0;const o=setInterval(()=>{if(i+=1,i===cE)return clearInterval(o),void t(new mn({type:"MESSAGE_NOT_RECEIVED"},"Couldn't open Pera Wallet, please try again."));r&&(r.closed===!0&&(clearInterval(o),t(new mn({type:"OPERATION_CANCELLED"},"Operation cancelled by user"))),es.sendMessage({message:{type:"TAB_OPEN"},origin:n,targetWindow:r}))},aE);es.setupListener({onReceiveMessage:s=>{s.data.message.type==="TAB_OPEN_RECEIVED"&&(clearInterval(o),e(r))}})}catch(r){t(r)}})}const Qr="pera-wallet-connect-modal-wrapper",su="pera-wallet-redirect-modal-wrapper",au="pera-wallet-sign-txn-toast-wrapper",FE="pera-wallet-sign-txn-modal-wrapper",lE="pera-wallet-modal";function Nu(n){const e=document.createElement("div");return e.setAttribute("id",n),document.body.appendChild(e),e}function Xl(){Nu(su).innerHTML="<pera-wallet-redirect-modal></pera-wallet-redirect-modal>"}function Zl(){Nu(au).innerHTML="<pera-wallet-sign-txn-toast></pera-wallet-sign-txn-toast>"}function hr(n){const e=document.getElementById(n);e&&e.remove()}const ha={WALLET:"PeraWallet.Wallet",WALLETCONNECT:"walletconnect"};function ua(){return typeof localStorage>"u"?void 0:localStorage}function cg(n,e){var t;(t=ua())===null||t===void 0||t.setItem(ha.WALLET,JSON.stringify({type:e||"pera-wallet",accounts:n,selectedAccount:n[0]}))}function nh(){var n;const e=(n=ua())===null||n===void 0?void 0:n.getItem(ha.WALLET);return e?JSON.parse(e):null}function hg(){return new Promise((n,e)=>{var t,r;try{(t=ua())===null||t===void 0||t.removeItem(ha.WALLETCONNECT),(r=ua())===null||r===void 0||r.removeItem(ha.WALLET),n(void 0)}catch(i){e(i)}})}function fE(n){const e=n.slice();for(let t=e.length-1;t>0;t--){const r=Math.floor(Math.random()*(t+1));[e[t],e[r]]=[e[r],e[t]]}return e}const dE="https://wc.perawallet.app/config.json";function gE(){return function(n,e={}){return fetch(n,e).then(t=>t.json()).then(t=>t)}(dE,{cache:"no-store"})}function Fi(){return Kn(this,void 0,void 0,function*(){let n={bridgeURL:"",webWalletURL:"",isWebWalletAvailable:!1,shouldDisplayNewBadge:!1,shouldUseSound:!0,silent:!1,promoteMobile:!1};try{const e=yield gE();e.web_wallet!==void 0&&e.web_wallet_url&&(n.isWebWalletAvailable=e.web_wallet),e.display_new_badge!==void 0&&(n.shouldDisplayNewBadge=e.display_new_badge),e.use_sound!==void 0&&(n.shouldUseSound=e.use_sound),e.silent!==void 0&&(n.silent=e.silent),e.promote_mobile!==void 0&&(n.promoteMobile=e.promote_mobile),n=Object.assign(Object.assign({},n),{bridgeURL:fE(e.servers||[])[0]||"",webWalletURL:e.web_wallet_url||""})}catch(e){console.log(e)}return n})}function Ga(n){return Uint8Array.from(window.atob(n),e=>e.charCodeAt(0))}function Ql(n,e){return{id:Date.now()*Math.pow(10,3)+Math.floor(Math.random()*Math.pow(10,3)),jsonrpc:"2.0",method:n,params:e}}function Mc(){return typeof navigator<"u"}function qE(){return Mc()&&/Android/i.test(navigator.userAgent)}function zE(){return Mc()&&/iPhone|iPad|iPod/i.test(navigator.userAgent)}function Aa(){return Mc()&&/iPhone|iPod|Android/i.test(navigator.userAgent)}function HE(){if(!Mc())return null;const{userAgent:n}=navigator;let e;return e=n.match(/DuckDuckGo/i)?"DuckDuckGo":n.match(/OPX/i)?"Opera GX":navigator.brave?"Brave":H1.getParser(navigator.userAgent).getBrowserName(),e}const WE="perawallet-wc://",jE="https://perawallet.app/download/";function ug(n){return{ROOT:`https://${n}`,CONNECT:`https://${n}/connect`,TRANSACTION_SIGN:`https://${n}/transaction/sign`}}function ef({method:n,signTxnRequestParams:e,signer:t,chainId:r,webWalletURL:i,resolve:o,reject:s}){const h=ug(i);(function(){Kn(this,void 0,void 0,function*(){try{const m=yield ag(h.TRANSACTION_SIGN);if(m){let v;n==="SIGN_TXN"?v={type:"SIGN_TXN",txn:e}:n==="SIGN_DATA"&&t&&r&&(v={type:"SIGN_DATA",data:e,signer:t,chainId:r}),v&&es.sendMessage({message:v,origin:h.TRANSACTION_SIGN,targetWindow:m})}const u=setInterval(()=>{(m==null?void 0:m.closed)===!0&&(s(new mn({type:`${n}_CANCELLED`},"Transaction signing is cancelled by user.")),clearInterval(u))},2e3);es.setupListener({onReceiveMessage:v=>function({event:T,newPeraWalletTab:B,method:W,resolve:U,reject:ne}){switch(T.data.message.type){case"SIGN_TXN_CALLBACK":B==null||B.close(),U(T.data.message.signedTxns.map(E=>Ga(E.signedTxn)));break;case"SIGN_DATA_CALLBACK":B==null||B.close(),U(T.data.message.signedData.map(E=>Ga(E.signedData)));break;case"SIGN_TXN_NETWORK_MISMATCH":ne(new mn({type:`${W}_NETWORK_MISMATCH`,detail:T.data.message.error},T.data.message.error||"Network mismatch"));break;case"SIGN_TXN_CALLBACK_ERROR":B==null||B.close(),ne(new mn({type:`${W}_CANCELLED`},T.data.message.error));break;case"SESSION_DISCONNECTED":B==null||B.close(),hg(),ne(new mn({type:"SESSION_DISCONNECTED",detail:T.data.message.error},T.data.message.error))}}({event:v,newPeraWalletTab:m,method:n,resolve:o,reject:s})})}catch(m){s(m)}})})()}function pE({webWalletURL:n,chainId:e,resolve:t,reject:r}){const i=ug(n);return function(){return Kn(this,void 0,void 0,function*(){try{const s=yield ag(i.CONNECT);s&&es.sendMessage({message:{type:"CONNECT",data:Object.assign(Object.assign({},hE()),{chainId:e})},origin:i.CONNECT,targetWindow:s});const h=setInterval(()=>{(s==null?void 0:s.closed)===!0&&(r(new mn({type:"CONNECT_CANCELLED"},"Connect is cancelled by user")),clearInterval(h),o())},2e3);es.setupListener({onReceiveMessage:m=>function({event:u,newPeraWalletTab:v,resolve:T,reject:B}){if(T&&u.data.message.type==="CONNECT_CALLBACK"){const W=u.data.message.data.addresses;cg(W,"pera-wallet-web"),T(W),hr(Qr),v==null||v.close()}else u.data.message.type==="CONNECT_NETWORK_MISMATCH"&&(B(new mn({type:"CONNECT_NETWORK_MISMATCH",detail:u.data.message.error},u.data.message.error||"Your wallet is connected to a different network to this dApp. Update your wallet to the correct network (MainNet or TestNet) to continue.")),hr(Qr),v==null||v.close())}({event:m,newPeraWalletTab:s,resolve:t,reject:r})})}catch(s){o(),r(s)}})};function o(){hr(Qr)}}function mE({isWebWalletAvailable:n,shouldDisplayNewBadge:e,shouldUseSound:t,compactMode:r,promoteMobile:i,singleAccount:o,selectedAccount:s}){return{open:(h={isWebWalletAvailable:n,shouldDisplayNewBadge:e,shouldUseSound:t,compactMode:r,promoteMobile:i,singleAccount:o,selectedAccount:s},m=>{if(!document.getElementById(Qr)){const u=Nu(Qr),v=`${m}&algorand=true`,{isWebWalletAvailable:T,shouldDisplayNewBadge:B,shouldUseSound:W,compactMode:U,promoteMobile:ne,singleAccount:E,selectedAccount:C}=h;u.innerHTML=`<pera-wallet-connect-modal uri="${v}" is-web-wallet-avaliable="${T}" should-display-new-badge="${B}" should-use-sound="${W}" compact-mode="${U}" promote-mobile="${ne}" single-account="${E}" selected-account="${C||""}"></pera-wallet-connect-modal>`}}),close:()=>hr(Qr)};var h}class lg{constructor(e){this.bridge=(e==null?void 0:e.bridge)||"",this.connector=null,this.shouldShowSignTxnToast=(e==null?void 0:e.shouldShowSignTxnToast)===void 0||e.shouldShowSignTxnToast,this.chainId=e==null?void 0:e.chainId,this.compactMode=(e==null?void 0:e.compactMode)||!1,this.singleAccount=(e==null?void 0:e.singleAccount)||!1}get platform(){return function(){const e=nh();let t=null;return(e==null?void 0:e.type)==="pera-wallet"?t="mobile":(e==null?void 0:e.type)==="pera-wallet-web"&&(t="web"),t}()}get isConnected(){var e;return this.platform==="mobile"?!!this.connector:this.platform==="web"&&!!(!((e=nh())===null||e===void 0)&&e.accounts.length)}get isPeraDiscoverBrowser(){return this.checkIsPeraDiscoverBrowser()}connect(e){return new Promise((t,r)=>Kn(this,void 0,void 0,function*(){var i;try{if(!((i=this.connector)===null||i===void 0)&&i.connected)try{yield this.connector.killSession()}catch{}const{isWebWalletAvailable:o,bridgeURL:s,webWalletURL:h,shouldDisplayNewBadge:m,shouldUseSound:u,promoteMobile:v}=yield Fi(),T=pE({resolve:t,reject:r,webWalletURL:h,chainId:this.chainId,isCompactMode:this.compactMode});o&&(window.onWebWalletConnect=T),this.connector=new El({bridge:this.bridge||s||"https://bridge.walletconnect.org",qrcodeModal:mE({isWebWalletAvailable:o,shouldDisplayNewBadge:m,shouldUseSound:u,compactMode:this.compactMode,promoteMobile:v,singleAccount:this.singleAccount,selectedAccount:e==null?void 0:e.selectedAccount})}),yield this.connector.createSession({chainId:this.chainId||4160}),function(B,W){var U,ne,E,C;const N=document.getElementById(B),$=(ne=(U=N==null?void 0:N.querySelector(B.replace("-wrapper","")))===null||U===void 0?void 0:U.shadowRoot)===null||ne===void 0?void 0:ne.querySelector(`.${lE}`),re=(C=(E=$==null?void 0:$.querySelector("pera-wallet-modal-header"))===null||E===void 0?void 0:E.shadowRoot)===null||C===void 0?void 0:C.getElementById("pera-wallet-modal-header-close-button");re==null||re.addEventListener("click",()=>{W(),hr(B)})}(Qr,()=>r(new mn({type:"CONNECT_MODAL_CLOSED"},"Connect modal is closed by user"))),this.connector.on("connect",(B,W)=>{var U,ne;B&&r(B),t(((U=this.connector)===null||U===void 0?void 0:U.accounts)||[]),cg(((ne=this.connector)===null||ne===void 0?void 0:ne.accounts)||[])})}catch(o){console.log(o),r(new mn({type:"SESSION_CONNECT",detail:o},o.message||"There was an error while connecting to Pera Wallet"))}}))}reconnectSession(){return new Promise((e,t)=>Kn(this,void 0,void 0,function*(){var r,i;try{const o=nh();if(!o)return void e([]);if((o==null?void 0:o.type)==="pera-wallet-web"){const{isWebWalletAvailable:s}=yield Fi();s?e(o.accounts||[]):t(new mn({type:"SESSION_RECONNECT",detail:"Pera Web is not available"},"Pera Web is not available"))}this.connector&&e(this.connector.accounts||[]),this.bridge=((r=function(){var s;const h=(s=ua())===null||s===void 0?void 0:s.getItem(ha.WALLETCONNECT);return h?JSON.parse(h):null}())===null||r===void 0?void 0:r.bridge)||"",this.bridge&&(this.connector=new El({bridge:this.bridge}),e(((i=this.connector)===null||i===void 0?void 0:i.accounts)||[])),this.isConnected||e([])}catch(o){yield this.disconnect(),t(new mn({type:"SESSION_RECONNECT",detail:o},o.message||"There was an error while reconnecting to Pera Wallet"))}}))}disconnect(){var e;return Kn(this,void 0,void 0,function*(){let t;this.isConnected&&this.platform==="mobile"&&(t=(e=this.connector)===null||e===void 0?void 0:e.killSession(),t==null||t.then(()=>{this.connector=null})),yield hg()})}signTransactionWithMobile(e){return Kn(this,void 0,void 0,function*(){const t=Ql("algo_signTxn",[e]);try{try{const{silent:r}=yield Fi(),i=(yield this.connector.sendCustomRequest(t,{forcePushNotification:!r})).filter(Boolean);return typeof i[0]=="string"?i.map(Ga):i.map(o=>Uint8Array.from(o))}catch(r){return yield Promise.reject(new mn({type:"SIGN_TRANSACTIONS",detail:r},r.message||"Failed to sign transaction"))}}finally{hr(su),hr(au)}})}signTransactionWithWeb(e,t){return new Promise((r,i)=>ef({signTxnRequestParams:e,webWalletURL:t,method:"SIGN_TXN",resolve:r,reject:i}))}signDataWithMobile({data:e,signer:t,chainId:r}){return Kn(this,void 0,void 0,function*(){const i=Ql("algo_signData",e.map(o=>Object.assign(Object.assign({},o),{signer:t,chainId:r})));try{try{const{silent:o}=yield Fi(),s=(yield this.connector.sendCustomRequest(i,{forcePushNotification:!o})).filter(Boolean);return typeof s[0]=="string"?s.map(Ga):s.map(h=>Uint8Array.from(h))}catch(o){return yield Promise.reject(new mn({type:"SIGN_TRANSACTIONS",detail:o},o.message||"Failed to sign transaction"))}}finally{hr(su),hr(au)}})}signDataWithWeb({data:e,signer:t,chainId:r,webWalletURL:i}){return new Promise((o,s)=>ef({method:"SIGN_DATA",signTxnRequestParams:e,signer:t,chainId:r,webWalletURL:i,resolve:o,reject:s}))}checkIsPeraDiscoverBrowser(){return window.navigator.userAgent.includes("pera")}signTransaction(e,t){return Kn(this,void 0,void 0,function*(){if(this.platform==="mobile"&&(Aa()?Xl():!Aa()&&this.shouldShowSignTxnToast&&Zl(),!this.connector))throw new Error("PeraWalletConnect was not initialized correctly.");const r=e.flatMap(i=>i.map(o=>function(s,h){let m;h&&!(s.signers||[]).includes(h)&&(m=[]);const u={txn:(v=s.txn,Buffer.from(U1.encodeUnsignedTransaction(v)).toString("base64"))};var v;return Array.isArray(m)&&(u.signers=m),s.authAddr&&(u.authAddr=s.authAddr),s.message&&(u.message=s.message),s.msig&&(u.msig=s.msig),u}(o,t)));if(this.platform==="web"){const{webWalletURL:i}=yield Fi();return this.signTransactionWithWeb(r,i)}return this.signTransactionWithMobile(r)})}signData(e,t){return Kn(this,void 0,void 0,function*(){const r=this.chainId||4160;if(this.platform==="mobile"&&(Aa()?Xl():!Aa()&&this.shouldShowSignTxnToast&&Zl(),!this.connector))throw new Error("PeraWalletConnect was not initialized correctly.");if(this.platform==="web"){const{webWalletURL:o}=yield Fi();return this.signDataWithWeb({data:e,signer:t,chainId:r,webWalletURL:o})}const i=e.map(o=>Object.assign(Object.assign({},o),{data:Buffer.from(o.data).toString("base64")}));return this.signDataWithMobile({data:i,signer:t,chainId:r})})}}typeof window<"u"&&(window.global=window,window.Buffer=window.Buffer||Ie,jp(()=>import("./App-428f5096-Ce6NkoiO.js"),[]));window.PeraWalletConnect=lg;const Rn={POLLING_INTERVAL:2e3,MAX_POLLING_ATTEMPTS:30,RETRY_ATTEMPTS:3,RETRY_DELAY:1e3,SYNC_CHECK_INTERVAL:5e3};let Nt=null,Tn=null,er=null,ei=!1,An=null;function tf(){try{return Nt=new lg({chainId:4160,shouldShowSignTxnToast:!1,compactMode:!1}),console.log("PeraWallet inizializzato con successo"),yE(),!0}catch(n){return console.error("Errore inizializzazione PeraWallet:",n),!1}}function yE(){var n,e,t;if(Nt)try{(n=Nt.connector)==null||n.on("connect",r=>{console.log("Evento connect ricevuto:",r),Ka(r)}),(e=Nt.connector)==null||e.on("disconnect",()=>{console.log("Evento disconnect ricevuto"),ts()}),(t=Nt.connector)==null||t.on("session_update",r=>{console.log("Evento session_update ricevuto:",r),r&&r.length>0?Ka(r):ts()}),console.log("Event listeners configurati")}catch(r){console.error("Errore setup event listeners:",r)}}function la(){er&&clearInterval(er),er=setInterval(async()=>{An&&await cu()},Rn.SYNC_CHECK_INTERVAL),console.log("Controllo sincronizzazione avviato")}function fg(){er&&(clearInterval(er),er=null,console.log("Controllo sincronizzazione fermato"))}async function cu(){try{console.log("Validazione sincronizzazione wallet...");const n=Nt&&Nt.isConnected,e=n?await Nt.reconnectSession():[],t=await Uu(),r=t&&t.connected;if(console.log("Stati attuali:",{peraConnected:n,peraAccounts:e,laravelConnected:r,currentAddress:An}),n&&e.length>0&&r){const i=e[0],o=t.address;i!==o&&(console.warn("Indirizzi diversi tra PeraWallet e Laravel:",{pera:i,laravel:o}),await Ja(i),An=i,ns(i))}else n&&e.length>0&&!r?(console.log("PeraWallet connesso ma Laravel no - sincronizzazione..."),await Ja(e[0]),An=e[0],on("Wallet connesso","connected"),ns(e[0])):!n&&r?(console.log("Laravel connesso ma PeraWallet no - disconnessione..."),await ts()):!n&&!r&&An&&(console.log("Entrambi disconnessi - aggiornamento UI..."),ts())}catch(n){console.error("Errore validazione sincronizzazione:",n)}}async function Vu(){if(ei){console.log("Connessione gi in corso...");return}ei=!0,on("Inizializzazione connessione...","connecting");try{await wE()}catch(n){console.error("Errore durante la connessione:",n),on("Errore di connessione","error"),SE(n)}finally{ei=!1}}async function wE(){var n;for(let e=1;e<=Rn.RETRY_ATTEMPTS;e++)try{console.log(`Tentativo di connessione ${e}/${Rn.RETRY_ATTEMPTS}`),await fa(),on(`Tentativo ${e}/${Rn.RETRY_ATTEMPTS}...`,"connecting");const t=await Nt.connect();if(console.log("Risultato connect():",t),t&&t.length>0){console.log("Connessione riuscita immediatamente:",t),Ka(t);return}console.log("Nessun account ricevuto, avvio polling avanzato..."),on("Scansiona il QR code con PeraWallet...","qr-waiting");const r=await vE();if(r){console.log("Connessione riuscita tramite polling:",r),Ka(r);return}e<Rn.RETRY_ATTEMPTS&&(console.log(`Tentativo ${e} fallito, retry in ${Rn.RETRY_DELAY}ms...`),await new Promise(i=>setTimeout(i,Rn.RETRY_DELAY)))}catch(t){if(console.error(`Errore tentativo ${e}:`,t),((n=t==null?void 0:t.data)==null?void 0:n.type)==="CONNECT_MODAL_CLOSED"){console.log("Utente ha chiuso il modal di connessione"),on("Connessione annullata","cancelled");return}if(e===Rn.RETRY_ATTEMPTS)throw t;await new Promise(r=>setTimeout(r,Rn.RETRY_DELAY))}throw new Error("Tutti i tentativi di connessione sono falliti")}async function vE(){return new Promise((n,e)=>{let t=0;const r=async()=>{t++;try{console.log(`Polling attempt ${t}/${Rn.MAX_POLLING_ATTEMPTS}`);const i=Nt.isConnected,o=Nt.platform;console.log("Stato PeraWallet:",{isConnected:i,platform:o});const s=await Nt.reconnectSession();if(console.log("Risultato reconnectSession:",s),s&&s.length>0){console.log("Account trovati tramite polling:",s),clearInterval(Tn),n(s);return}const h=Rn.MAX_POLLING_ATTEMPTS-t;on(`Attendo connessione... (${h} tentativi rimasti)`,"qr-waiting"),t>=Rn.MAX_POLLING_ATTEMPTS&&(console.log("Raggiunto limite tentativi polling"),clearInterval(Tn),e(new Error("Timeout durante l'attesa della connessione")))}catch(i){console.error("Errore durante il polling:",i)}};Tn=setInterval(r,Rn.POLLING_INTERVAL),r()})}async function Uu(){try{const n=await fetch("/founders/wallet/status",{method:"GET",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}});if(n.ok)return await n.json()}catch(n){console.error("Errore controllo sessione Laravel:",n)}return null}async function fa(){try{Nt&&Nt.isConnected&&await Nt.disconnect();const n=[];for(let e=0;e<localStorage.length;e++){const t=localStorage.key(e);t&&(t.includes("walletconnect")||t.includes("pera"))&&n.push(t)}n.forEach(e=>localStorage.removeItem(e)),console.log("Sessioni wallet pulite")}catch(n){console.error("Errore pulizia sessioni:",n)}}function Ka(n){console.log("Gestione connessione riuscita:",n),Tn&&(clearInterval(Tn),Tn=null);const e=Array.isArray(n)?n[0]:n;if(!e){console.error("Nessun indirizzo ricevuto"),on("Errore: nessun indirizzo ricevuto","error");return}An=e,on("Wallet connesso","connected"),ns(e),Ja(e),la(),ei=!1}function ts(){console.log("Wallet disconnesso"),Tn&&(clearInterval(Tn),Tn=null),fg(),An=null,on("Wallet disconnesso","disconnected"),ns(null),da(),ei=!1}function SE(n){var t;console.error("Errore di connessione:",n),Tn&&(clearInterval(Tn),Tn=null);let e="Errore di connessione";((t=n==null?void 0:n.data)==null?void 0:t.type)==="CONNECT_MODAL_CLOSED"?e="Connessione annullata":n.message&&(e=n.message),on(e,"error"),ei=!1}async function Ja(n){try{const t=await(await fetch("/founders/wallet/connect",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:JSON.stringify({wallet_address:n})})).json();if(t.success)if(console.log("Sessione salvata con successo"),window.location.pathname==="/founders/wallet"){let i="/founders/dashboard";window.location.hostname==="localhost"&&(i=`https://localhost:8443${i}`),console.log("Redirect verso:",i),setTimeout(()=>{window.location.href=i},1e3)}else console.log("Sessione salvata - nessun redirect (non siamo sulla pagina wallet-connect)");else console.error("Errore salvataggio sessione:",t.error),on("Errore autorizzazione wallet","error")}catch(e){console.error("Errore salvataggio sessione:",e),on("Errore di comunicazione","error")}}async function da(){try{await fetch("/founders/wallet/disconnect",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}}),console.log("Sessione Laravel pulita")}catch(n){console.error("Errore pulizia sessione Laravel:",n)}}async function Lu(){try{on("Disconnessione...","disconnecting"),Nt&&await Nt.disconnect(),await da(),await fa(),ts(),console.log("Disconnessione completata")}catch(n){console.error("Errore durante la disconnessione:",n),on("Errore disconnessione","error")}}function on(n,e){const t=document.getElementById("connection-status"),r=document.getElementById("connect-wallet-btn"),i=document.getElementById("disconnect-wallet-btn");if(t&&(t.textContent=n,t.className=`connection-status ${e}`),r&&i)switch(e){case"connected":r.style.display="none",i.style.display="inline-block";break;case"connecting":case"qr-waiting":r.disabled=!0,r.textContent="Connessione...",i.style.display="none";break;case"disconnected":case"error":case"cancelled":r.style.display="inline-block",r.disabled=!1,r.textContent="Connetti Wallet",i.style.display="none";break}}function ns(n){const e=document.getElementById("wallet-address"),t=document.getElementById("wallet-info");n?(e&&(e.textContent=`${n.substring(0,6)}...${n.substring(n.length-4)}`),t&&(t.style.display="block")):(e&&(e.textContent=""),t&&(t.style.display="none"))}async function dg(){try{console.log("Controllo sessione esistente...");const n=await Uu(),e=Nt?await Nt.reconnectSession():[];console.log("Sessioni trovate:",{laravel:n,pera:e});const t=n&&n.connected,r=e&&e.length>0;if(t&&r){const i=n.address,o=e[0];return i===o?(console.log("Sessione valida trovata:",i),An=i,on("Wallet connesso","connected"),ns(i),la(),!0):(console.warn("Indirizzi diversi - pulizia sessioni"),await fa(),await da(),!1)}else{if(t&&!r)return console.log("Solo Laravel connesso - pulizia sessione"),await da(),!1;if(!t&&r)return console.log("Solo PeraWallet connesso - sincronizzazione"),await Ja(e[0]),An=e[0],on("Wallet connesso","connected"),ns(e[0]),la(),!0}return!1}catch(n){return console.error("Errore controllo sessione esistente:",n),!1}}document.addEventListener("DOMContentLoaded",async function(){if(!(window.location.pathname==="/founders/wallet")){console.log("Sistema Treasury non inizializzato - non siamo sulla pagina wallet-connect"),tf()?console.log("PeraWallet inizializzato per uso generale"):console.error("Impossibile inizializzare PeraWallet");return}if(console.log("Inizializzazione wallet system Treasury..."),!tf()){console.error("Impossibile inizializzare PeraWallet"),on("Errore inizializzazione","error");return}await dg()||on("Wallet non connesso","disconnected");const t=document.getElementById("connect-wallet-btn"),r=document.getElementById("disconnect-wallet-btn");t&&t.addEventListener("click",Vu),r&&r.addEventListener("click",Lu),console.log("Wallet system Treasury inizializzato")});window.addEventListener("beforeunload",function(){Tn&&clearInterval(Tn),er&&clearInterval(er)});window.WalletManager={connect:Vu,disconnect:Lu,checkSession:dg,clearSessions:fa,validateSync:cu,debug:{getCurrentState:()=>({currentWalletAddress:An,peraConnected:Nt==null?void 0:Nt.isConnected,isConnecting:ei,hasSyncCheck:!!er}),forceValidation:cu,forceDisconnect:async()=>{console.log(" DEBUG: Forzando disconnessione completa..."),await da(),await fa(),ts()},checkBothSessions:async()=>{const n=await Uu(),e=Nt?await Nt.reconnectSession():[];return console.log(" DEBUG: Stati sessioni:",{laravel:n,pera:e,peraConnected:Nt==null?void 0:Nt.isConnected}),{laravel:n,pera:e}},startSyncCheck:()=>{console.log(" DEBUG: Avvio manuale sync check..."),la()},stopSyncCheck:()=>{console.log(" DEBUG: Fermo sync check..."),fg()},simulateConnection:(n="TEST_ADDRESS")=>{console.log(" DEBUG: Simulazione connessione con indirizzo:",n),An=n,la(),console.log("Sync check avviato. Stato:",{currentWalletAddress:An,hasSyncCheck:!!er})}}};window.FoundersWallet={connect:async()=>(console.log("FoundersWallet.connect() chiamato - usando WalletManager"),await Vu()),disconnect:async()=>(console.log("FoundersWallet.disconnect() chiamato - usando WalletManager"),await Lu()),isConnected:()=>!!An&&(Nt==null?void 0:Nt.isConnected),getAddress:()=>An};window.global=window;export{WE as B,zE as L,Aa as M,qE as O,HE as U,jE as W,su as c,lE as d,FE as f,os as g,au as h,Qr as u,hr as v};
